---
title: "Version Control with Git and Collaboration with GitHub"
subtitle: "Parks Canada; Ecological Integrity Monitoring Program"
author: "Andy Teucher"
format: revealjs
---

## Why Git?

![](img/why-github-bryan.png)

## Why Git?

![](img/why-github-climbing.png)

::: notes
A commit is a snapshot of your project at a point in time. Next slide
:::

## Why Git? {background-image="img/why-git-climbing-2.png" background-position="50% 45%" background-size="90%"}

::: {.absolute bottom=0}
"Commits" help us focus on the work, not the bookkeeping.

It takes care of otherwise time- consuming versioning & unrelenting file tracking. 
:::

## What is GitHub (traditional answer)?

- **GitHub** is an online collaborative platform. It is built on top of **Git** - software that does file versioning and bookkeeping.
- You can think of GitHub working like Dropbox - but with more control.

## What is GitHub (non-traditional answer)?

- **Publishing platform.** A new way for sharing documentation & scicomm - your files can become websites! Share the url once, it’s always the latest version.  

- **Project management system.** Short- and long-term collaborative "todo" lists: "Issues" & "Projects"

## Configure Git

Configure your `user.name` and `user.email` for git. This information will be associated with your commits.

### In the terminal

```bash
git config --global user.name "Jane Doe"
git config --global user.email "jane@doe.ca"
```

<br>

### In RStudio

```r
usethis::use_git_config(
  user.name = "Jane Doe",
  user.email = "jane@example.com"
)
```

## Check link between R and GitHub

:::: section
::: {.fragment .step-fade-in-then-out}

Communicating with GitHub requires authentication with your GitHub account.
This is achieved by creating and securely storing a Personal Access Token (PAT).
The [Managing Git(Hub) Credentials](https://usethis.r-lib.org/articles/articles/git-credentials.html) vignette in the **`usethis`** package has details on using PATs.

![](img/ChatGPT_R-GitHub.png){ width=60% fig-align="center" style="border-radius: 20px;" }
:::

::: {.fragment .step-fade-in-then-out}
Create a PAT with:

```r
usethis::create_github_token()
```

-   Give the token a descriptive name, accept the default scopes, and click "Generate Token".
-   Copy the newly generated PAT to your clipboard.
-   Run `gitcreds::gitcreds_set()` in R and paste in your PAT when prompted.
-   After you close the PAT webpage, you won't be able to see your PAT again! You can store it somewhere secure, such as in a password manager.

:::
::::

::: notes

You may need to install the **`gitcreds`** package.

Caveat about storing PATs on Linux:

macOS and Windows both have built-in credential managers that will securely store your PAT, however the same does not exist in Linux.
[Happy Git with R has a section on options for storing your PAT on Linux](https://happygitwithr.com/https-pat#pat-doesnt-persist-on-linux).

:::


## Check your Git setup with a "situation report"

```r
usethis::git_sitrep()
```

:::: fragment
::: cell-output-tall

```{.default code-line-numbers="|18"}
── Git global (user)
• Name: 'Andy Teucher'
• Email: 'andy.teucher@gmail.com'
• Global (user-level) gitignore file: '/Users/andy/.gitignore'
• Vaccinated: TRUE
ℹ Defaulting to 'https' Git protocol
• Default Git protocol: 'https'
• Default initial branch name: 'main'

── GitHub user
• Default GitHub host: 'https://github.com'
• Personal access token for 'https://github.com': '<discovered>'
• GitHub user: 'ateucher'
• Token scopes: 'gist, repo, user, workflow'
• Email(s): 'andy.teucher@gmail.com (primary)'
ℹ No active usethis project

Personal access token for 'https://github.com': '<discovered>'
```

:::
::::

::: fragment
It is essential to check whether your name and email are correct and the PAT is showing as "discovered"
:::

::: {.question .fragment}
Do you see anything different in your output?
:::

::: notes
The output shows information about the link between RStudio and GitHub.
Not all of it is relevant now, but it is essential to check whether your name and email are correct and the PAT is showing as "discovered":
:::
