{
  "hash": "7633072b49bc109516443bdc94197569",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Reproducible Reporting with Quarto\"\nsubtitle: \"Parks Canada; Ecological Integrity Monitoring Program\"\nauthor: \"Andy Teucher\"\nformat: revealjs\n---\n\n## What is reproducible reporting?\n\nResearch is considered to be reproducible when the exact results can be \nreproduced if given access to the original data, software, and code.\n\n\\\n\n. . .\n\nCode and narrative text in a single document means:\n\n::: {.incremental}\n\n- You don't have to copy and paste figures and tables into reports\n- Reports are automatically updated when data or analyses change\n- Human error is reduced\n- Enhanced transparency and reproducibility\n\n:::\n\n## What is Quarto?\n\n- Open-source scientific and technical publishing system\n- Supports multiple data science languages (R, Python, Julia, ...)\n- Integrated with Positron and RStudio\n- Renders to multiple formats (HTML, PDF, Word, slides, books, websites)\n\n## Key Features of Quarto\n\n- Literate programming: Combine code and narrative text\n- Markdown syntax for easy formatting and works with version control\n- Support for code execution and output embedding\n\n\n. . .\n\n**Note: You can render existing R Markdown (`.Rmd`) documents with Quarto and/or rename them to `.qmd` files to turn them into Quarto documents.**\n\n## Output Formats\n\n- HTML documents (`format: html`)\n- Word documents (`format: docx`)\n- PDF reports \n    - via $LaTeX$ (`format: pdf`)\n    - via [typst](https://quarto.org/docs/output-formats/typst.html) (`format: typst`)\n- Presentations\n    - Reveal.js (`format: revealjs`)\n    - PowerPoint (`format: pptx`)\n- Books and websites\n\n## Our turn\n\n- Open `05-quarto.qmd` in Positron\n- Explore the document structure and code chunks\n- Render the document to HTML using the Preview button\n\n## Three ways to render\n\n. . .\n\n1. **Quarto is integrated into Positron**\n\n   Click ![](img/positron-quarto-render.png){fig-alt=\"small icon of render arrow\" width=\"100\"} in Editor pane of Positron.\n\n. . .\n\n2. **Quarto is an R package**\n\n   Run in R:\n\n   ```r\n   quarto::quarto_render(input = ___, output_format = ___)\n   ```\n\n. . .\n\n3. **Quarto has a command line interface (CLI)**\n\n   Run at the terminal:\n\n   ```bash\n   quarto render <input> --to <format>\n   ```\n\n## Quarto uses Markdown syntax\n\nMarkdown is designed to be easy to write and easy to read:\n\\\n\n> A Markdown-formatted document should be publishable as-is, as plain text, without looking like it's been marked up with tags or formatting instructions.\\\n> -John Gruber\n\n\\\nFocus on content, not formatting\n\n## Markdown Headings\n\n`#`, `##`, `###`, etc.  for different levels\n\n\\\n\n+---------------------+-----------------------------------+\n| Markdown Syntax     | Output                            |\n+=====================+===================================+\n|     # Header 1      | # Header 1 {.heading-output}      |\n+---------------------+-----------------------------------+\n|     ## Header 2     | ## Header 2 {.heading-output}     |\n+---------------------+-----------------------------------+\n|     ### Header 3    | ### Header 3 {.heading-output}    |\n+---------------------+-----------------------------------+\n|     #### Header 4   | #### Header 4 {.heading-output}   |\n+---------------------+-----------------------------------+\n|     ##### Header 5  | ##### Header 5 {.heading-output}  |\n+---------------------+-----------------------------------+\n\n\n## Markdown Lists\n\n**`*`**, **`-`**, or **`+`** may be used for unordered list items.\n\n:::columns\n:::{.column width=50%}\n\n#### Markdown\n\n```{.markdown}\nUnordered list:\n\n* red\n* green\n* blue\n\nOrdered list:\n\n1. red\n1. green\n3. blue\n```\n\n:::\n\n:::{.column width=50% .fragment}\n\n#### Output\n\nUnordered list:\n\n* red\n* green\n* blue\n\nOrdered list:\n\n1. red\n1. green\n3. blue\n:::\n:::\n\n## Inline Elements: Text Formatting\n\n::: columns\n::: {.column width=\"50%\"}\n\n#### Markdown\n\n```{.markdown}\nMarkdown allows you to format text\nwith *emphasis (italics)* and \n**strong emphasis (bold)**.\nYou can also add superscripts^2^, \nsubscripts~2~, and display code \n`verbatim`. Little known fact: you can \nalso ~~strikethrough~~ text and present\nit in [small caps]{.smallcaps}.\n```\n\n:::\n\n::: {.column width=\"50%\" .fragment}\n\n#### Output\n\nMarkdown allows you to format text with *emphasis (italics)* and **strong emphasis (bold)**. You can also add superscripts^2^, subscripts~2~, and display code `verbatim`. Little known fact: you can also ~~strikethrough~~ text and present it in [small caps]{.smallcaps}.\n\n:::\n:::\n\n::: footer\n^[Either the `*` or `_` can be used for emphasis and strong.]\n:::\n\n## Inline Elements: Math\n\n::: columns\n::: {.column width=\"50%\"}\n\n#### Markdown\n\n```markdown\nThe area of a circle is $A = \\pi r^2$,\nwhere $r$ is the radius and $\\pi$ is\nthe constant $3.141592\\ldots$.\n```\n\n:::\n::: {.column width=\"50%\" .fragment}\n\n#### Output\n\nThe area of a circle is $A = \\pi r^2$, where $r$ is the radius and $\\pi$ is the constant $3.141592\\ldots$.\n\n:::\n:::\n\n. . .\n\nHelp on equations: <https://quarto.org/docs/authoring/markdown-basics.html#equations>\n\n## Inline Elements: Links and Images\n\n::: {.incremental}\n\n- Clickable hyperlinks\n    - `[Andy's website](https://andyteucher.ca)` -> [Andy's website](https://andyteucher.ca)\n- Links within the document:\n    -  `[code chunks](#quarto-uses-markdown-syntax)` -> [code chunks](#quarto-uses-markdown-syntax)\n- Bare URLs:\n    - `<https://andyteucher.ca>` -> <https://andyteucher.ca>\n- Images:\n    - `![](https://media.giphy.com/media/BSx6mzbW1ew7K/giphy.gif)` -> ![](https://media.giphy.com/media/BSx6mzbW1ew7K/giphy.gif){style=\"width:150px;\"}\n\n:::\n\n## Computational Code Chunks\n\n- Use triple backticks with language identifier (e.g., `r`, `python`)\n\n````markdown\n```{{r}}\ndata <- read.csv(\"data.csv\")\nsummary(data)\n```\n````\n\n## Code chunk options\n\nPrefaced with special comment prefix: `#|`\n\n\\\n\n::: {.columns}\n::: {.column width=\"35%\"}\n\n````markdown\n```{{r}}\n#| label: summary-stats\n#| echo: true\n#| message: false\n\ndata <- read.csv(\"data.csv\")\nsummary(data)\n```\n````\n\n:::\n::: {.column width=\"65%\"}\n\n- `label:` Name of the code chunk (used for referencing)\n- `echo:` Show or hide code (`true`/`false`)\n- `eval:` Execute or skip code (`true`/`false`)\n- `message:` Show or hide messages (`true`/`false`)\n- `warning:` Show or hide warnings (`true`/`false`)\n- `fig.width:` and `fig.height:` Set figure dimensions\n- many others\n\n:::\n:::\n\n## Inline code execution\n\n- Use single backticks with language identifier\n\n````markdown\n```{{r}}\ndata <- data.frame(\n    id = c(\"A\", \"B\", \"C\", \"D\", \"E\"),\n    variable = c(1, 2, 3, 4, 5)\n)\n```\n\nThe mean of the data variable is `{{r}} mean(data$variable)`.\n````\n\n. . .\n\n\\\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata <- data.frame(\n  id = c(\"A\", \"B\", \"C\", \"D\", \"E\"),\n  variable = c(1, 2, 3, 4, 5)\n)\n```\n:::\n\n\nThe mean of the data variable is 3.\n\n## Quarto Document Metadata\n\nYAML header at the top of the document\n\n```yaml\n---\ntitle: \"Document Title\"\nauthor: \"Author Name\"\ndate: \"2024-06-01\"\nformat: html\n---\n```\n\n. . .\n\nAlso specify default code chunk options globally (`echo: false`, `fig-width: 6`, etc.)\n\n## Your turn\n\n- Open `05-quarto.qmd` in Positron\n- Modify the YAML header to add an author and date\n- Experiment with code chunk options to *hide the code in the ggplot2 chunk*\n- Render the document to Word using `docx`, or pdf using `typst`\n- Render with the Keyboard shortcut (`Ctrl+Shift+K`)\n\n## Parameterized Reports\n\nYou may want to create different variations of a single document. For example:\n\n- Showing results for a specific geographic location.\n- Running a report that covers a specific time period.\n- Running a single analysis multiple times for different assumptions.\n\n## Parameterized Reports\n\n- Define parameters and their defaults in YAML header\n\n```yaml\n---\ntitle: \"Parameterized Report\"\nparams:\n  site_id: \"1\"\n  year: 2023\nformat: html\n---\n```\n\n. . .\n\n- Access parameters in code chunks via the special `params` object\n\n````markdown\n```{{r}}\nsite_data <- data |> \n    filter(site == params$site_id, year == params$year)\n```\n````\n\n## Your turn\n\n- Add a parameter `island` with default value `\"Torgerson\"`\n- Add a sentence in the text that tells the reader what island is being reported on, using inline code.\n- Modify the code chunk to filter and plot only data for the selected island\n- Render the document\n\n. . .\n\n### Bonus:\n- Render the document for a different island by specifying the parameter using `quarto::quarto_render()` in R.\n- Write a short R script to use `purrr::walk()` to render the report for all islands in your dataset\n\n*Hint: See `?quarto::quarto_render` for details on passing parameters.*\n\nFor an example of a parameterized report and a script to render multiple reports, \nsee `06-quarto.qmd` and `06a-render-report.R` in the course [GitHub repository `solutions` folder](https://github.com/ateucher/pc-programming/tree/main/solutions).\n\n## Quarto beyond reports\n\n- Websites and blogs\n    - <https://quarto.org/docs/websites/>\n- Books and long-form documents\n    - <https://quarto.org/docs/books/>\n- Dashboards and interactive documents\n    - <https://quarto.org/docs/dashboards/>\n- Presentations and slideshows\n    - <https://quarto.org/docs/presentations/>\n",
    "supporting": [
      "quarto_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}