[
  {
    "objectID": "wrapup.html#weve-covered-a-lot",
    "href": "wrapup.html#weve-covered-a-lot",
    "title": "Wrapping up",
    "section": "We‚Äôve covered a lot!",
    "text": "We‚Äôve covered a lot!\n\nProject-oriented workflows\nGit and GitHub\nAdvanced data manipulation with dplyr\nWriting functions in R\nString manipulation with stringr\nIteration and functional programming with purrr\nQuarto for reproducible reporting\n\n\nExposure to concepts & tools, it‚Äôs up to you to practice & apply"
  },
  {
    "objectID": "wrapup.html#big-picture",
    "href": "wrapup.html#big-picture",
    "title": "Wrapping up",
    "section": "Big Picture",
    "text": "Big Picture\n\nProject-oriented workflows\n\n\n+\nGit and GitHub\n\n\n+\nShared coding styles and conventions\n\n\n\n= better and reproducible science in less time\n\n\n\n‚ÄúIt‚Äôs like agreeing that we will all drive on the left or the right. A hallmark of civilization is following conventions that constrain your behavior a little, in the name of public safety.‚Äù\n\n\nJenny Bryan & Jim Hester, What They Forgot to Teach You About R"
  },
  {
    "objectID": "wrapup.html#wrap-up",
    "href": "wrapup.html#wrap-up",
    "title": "Wrapping up",
    "section": "Wrap up",
    "text": "Wrap up\nIdentify as a team & prioritize helping each other\n\nWork on many different projects\nUse same workflows, share feedback, think together across projects\n\nShared workflows are a daily opportunity for efficiency & inclusion\n\nIncrease participation and inclusion; focus on onboarding\nCommon ground, easier to talk about, easier to ask for help"
  },
  {
    "objectID": "wrapup.html#key-resources",
    "href": "wrapup.html#key-resources",
    "title": "Wrapping up",
    "section": "Key resources",
    "text": "Key resources\n\nR for Data Science book\nHappy Git and GitHub for the useR\nQuarto documentation\nCheat Sheets\n\ndplyr\nstringr\npurrr\nQuarto\n‚Ä¶"
  },
  {
    "objectID": "setup.html",
    "href": "setup.html",
    "title": "System Setup ü§ñ",
    "section": "",
    "text": "You will require the following software installed and configured for the workshop. Please have this set up and ready to go before we start."
  },
  {
    "objectID": "setup.html#computing-requirements",
    "href": "setup.html#computing-requirements",
    "title": "System Setup ü§ñ",
    "section": "Computing requirements",
    "text": "Computing requirements\nYou will need:\n\nA laptop computer with administrative privileges\nR and RStudio\nR package development toolchain\nSeveral R packages\nGit\nGitHub account"
  },
  {
    "objectID": "setup.html#install-r-and-rstudio",
    "href": "setup.html#install-r-and-rstudio",
    "title": "System Setup ü§ñ",
    "section": "Install R and RStudio",
    "text": "Install R and RStudio\nYou will need:\n\nR version &gt;= 4.4.0\nRStudio &gt;= 2024.04 or Positron &gt;= 2025.09.0-139\n\n\nInstall R\nDownload and install R for your operating system from https://cloud.r-project.org/.\n\n\nInstall R Studio\nDownload and install RStudio Desktop from https://posit.co/download/rstudio-desktop/. This page should automatically offer you the version suitable for your operating system, but you can scroll down to find versions for all operating systems.\n\n\nInstall Positron\nDownload and install Positron from https://positron.posit.co/download.html. This page should automatically offer you the version suitable for your operating system, but you can scroll down to find versions for all operating systems."
  },
  {
    "objectID": "setup.html#install-r-package-development-tools",
    "href": "setup.html#install-r-package-development-tools",
    "title": "System Setup ü§ñ",
    "section": "Install R package development tools",
    "text": "Install R package development tools\n\nFor Windows\nDownload and run the latest Rtools installer, Rtools.exe, from https://cran.r-project.org/bin/windows/Rtools/.\n\nKeep the default settings for the installation location and components to install\ncheck the box to add rtools to the system PATH.\n\n\n\nFor Mac\nInstall XCode. The easiest way is to open a Terminal window (Applications &gt; Utilities &gt; Terminal.app; or use the Terminal pane in RStudio) and type the following:\nxcode-select --install\nYou will be prompted to confirm the install, and possibly enter your computer password. Do so to complete the installation.\nAlternatively you can:\n\nDownload and install XCode from the Mac AppStore: http://itunes.apple.com/us/app/xcode/id497799835?mt=12\nWithin XCode go to Preferences : Downloads and install the Command Line Tools\n\n\n\nFor Linux\nIf you installed r-base-dev when installing R, you should have all you need to build packages from source. If not, go back to https://cloud.r-project.org/ and follow the instructions for your distribution (Ubuntu and Debian are likely the most common, and install it with sudo apt-get install r-base-dev)."
  },
  {
    "objectID": "setup.html#git",
    "href": "setup.html#git",
    "title": "System Setup ü§ñ",
    "section": "Git",
    "text": "Git\nWe will be learning the use of Git and GitHub for version control and collaboration.\n\nWindows\nCheck if Git is installed by running which git in the Terminal pane in RStudio.\nIf which git didn‚Äôt find Git installed:\n\nDownload and install from https://git-scm.com/downloads\nKeep all the default settings. If asked about ‚ÄúAdjusting your PATH environment‚Äù, make sure to select ‚ÄúGit from the command line and also from 3rd-party software‚Äù.\n\n\nRStudio + Git\n\nOpen RStudio. In the menus go to Tools &gt; Global Options &gt; Git/SVN.\nCheck RStudio has found git under ‚ÄúGit executable‚Äù. If it hasn‚Äôt:\n\nYou may need to click Browse and find the git executable.\nIt may be in C:/Users/[username]/AppData/Local/Programs/Git/\n\n\n\n\nPositron + Git\n\nPositron is smart about finding git, but if it doesn‚Äôt find it automatically:\nIn the menu go to File &gt; Preferences &gt; Settings.\nSearch for ‚ÄúGit Path‚Äù.\n\nClick ‚ÄúEdit in settings.json‚Äù and add the path to the git executable.\nIt may be in C:/Users/[username]/AppData/Local/Programs/Git/cmd/git.exe\n\n\n\n\n\nMac\nCheck if Git is installed by running which git in the Terminal. You should see something like /usr/bin/git, /usr/local/bin/, or /opt/homebrew/bin/git.\nIf you are asked to install the Xcode command line tools, say yes.\nIf which git didn‚Äôt find Git installed, and if you weren‚Äôt prompted to install it, run the following in the Terminal: xcode-select --install\n\n\nIf you do lots of scientific computing and especially if you use command-line programs in the Terminal, we recommend using Homebrew. See brew.sh for installation instructions. To install Git using Homebrew, run the following in the Terminal: brew install git"
  },
  {
    "objectID": "setup.html#github",
    "href": "setup.html#github",
    "title": "System Setup ü§ñ",
    "section": "GitHub",
    "text": "GitHub\nRegister a GitHub account at github.com.\nI highly recommend the book Happy Git with R for advice on setting up and using Git with R [@bryan]."
  },
  {
    "objectID": "setup.html#troubleshooting",
    "href": "setup.html#troubleshooting",
    "title": "System Setup ü§ñ",
    "section": "Troubleshooting",
    "text": "Troubleshooting\nIf you are having issues with the setup please start a discussion on GitHub here."
  },
  {
    "objectID": "quarto.html#what-is-reproducible-reporting",
    "href": "quarto.html#what-is-reproducible-reporting",
    "title": "Reproducible Reporting with Quarto",
    "section": "What is reproducible reporting?",
    "text": "What is reproducible reporting?\nResearch is considered to be reproducible when the exact results can be reproduced if given access to the original data, software, and code.\n\n\n\nCode and narrative text in a single document means:\n\nYou don‚Äôt have to copy and paste figures and tables into reports\nReports are automatically updated when data or analyses change\nHuman error is reduced\nEnhanced transparency and reproducibility"
  },
  {
    "objectID": "quarto.html#what-is-quarto",
    "href": "quarto.html#what-is-quarto",
    "title": "Reproducible Reporting with Quarto",
    "section": "What is Quarto?",
    "text": "What is Quarto?\n\nOpen-source scientific and technical publishing system\nSupports multiple data science languages (R, Python, Julia, ‚Ä¶)\nIntegrated with Positron and RStudio\nRenders to multiple formats (HTML, PDF, Word, slides, books, websites)"
  },
  {
    "objectID": "quarto.html#key-features-of-quarto",
    "href": "quarto.html#key-features-of-quarto",
    "title": "Reproducible Reporting with Quarto",
    "section": "Key Features of Quarto",
    "text": "Key Features of Quarto\n\nLiterate programming: Combine code and narrative text\nMarkdown syntax for easy formatting and works with version control\nSupport for code execution and output embedding\n\n\nNote: You can render existing R Markdown (.Rmd) documents with Quarto and/or rename them to .qmd files to turn them into Quarto documents."
  },
  {
    "objectID": "quarto.html#output-formats",
    "href": "quarto.html#output-formats",
    "title": "Reproducible Reporting with Quarto",
    "section": "Output Formats",
    "text": "Output Formats\n\nHTML documents (format: html)\nWord documents (format: docx)\nPDF reports\n\nvia \\(LaTeX\\) (format: pdf)\nvia typst (format: typst)\n\nPresentations\n\nReveal.js (format: revealjs)\nPowerPoint (format: pptx)\n\nBooks and websites"
  },
  {
    "objectID": "quarto.html#our-turn",
    "href": "quarto.html#our-turn",
    "title": "Reproducible Reporting with Quarto",
    "section": "Our turn",
    "text": "Our turn\n\nOpen 05-quarto.qmd in Positron\nExplore the document structure and code chunks\nRender the document to HTML using the Preview button"
  },
  {
    "objectID": "quarto.html#three-ways-to-render",
    "href": "quarto.html#three-ways-to-render",
    "title": "Reproducible Reporting with Quarto",
    "section": "Three ways to render",
    "text": "Three ways to render\n\n\nQuarto is integrated into Positron\nClick  in Editor pane of Positron.\n\n\n\n\nQuarto is an R package\nRun in R:\nquarto::quarto_render(input = ___, output_format = ___)\n\n\n\n\nQuarto has a command line interface (CLI)\nRun at the terminal:\nquarto render &lt;input&gt; --to &lt;format&gt;"
  },
  {
    "objectID": "quarto.html#quarto-uses-markdown-syntax",
    "href": "quarto.html#quarto-uses-markdown-syntax",
    "title": "Reproducible Reporting with Quarto",
    "section": "Quarto uses Markdown syntax",
    "text": "Quarto uses Markdown syntax\nMarkdown is designed to be easy to write and easy to read:\n\n\nA Markdown-formatted document should be publishable as-is, as plain text, without looking like it‚Äôs been marked up with tags or formatting instructions.\n-John Gruber\n\n\nFocus on content, not formatting"
  },
  {
    "objectID": "quarto.html#markdown-headings",
    "href": "quarto.html#markdown-headings",
    "title": "Reproducible Reporting with Quarto",
    "section": "Markdown Headings",
    "text": "Markdown Headings\n#, ##, ###, etc. for different levels\n\n\n\n\n\n\n\n\n\nMarkdown Syntax\nOutput\n\n\n\n\n# Header 1\nHeader 1\n\n\n## Header 2\nHeader 2\n\n\n### Header 3\nHeader 3\n\n\n#### Header 4\nHeader 4\n\n\n##### Header 5\nHeader 5"
  },
  {
    "objectID": "quarto.html#markdown-lists",
    "href": "quarto.html#markdown-lists",
    "title": "Reproducible Reporting with Quarto",
    "section": "Markdown Lists",
    "text": "Markdown Lists\n*, -, or + may be used for unordered list items.\n\n\nMarkdown\nUnordered list:\n\n* red\n* green\n* blue\n\nOrdered list:\n\n1. red\n1. green\n3. blue\n\nOutput\nUnordered list:\n\nred\ngreen\nblue\n\nOrdered list:\n\nred\ngreen\nblue"
  },
  {
    "objectID": "quarto.html#inline-elements-text-formatting",
    "href": "quarto.html#inline-elements-text-formatting",
    "title": "Reproducible Reporting with Quarto",
    "section": "Inline Elements: Text Formatting",
    "text": "Inline Elements: Text Formatting\n\n\nMarkdown\nMarkdown allows you to format text\nwith *emphasis (italics)* and \n**strong emphasis (bold)**.\nYou can also add superscripts^2^, \nsubscripts~2~, and display code \n`verbatim`. Little known fact: you can \nalso ~~strikethrough~~ text and present\nit in [small caps]{.smallcaps}.\n\nOutput\nMarkdown allows you to format text with emphasis (italics) and strong emphasis (bold). You can also add superscripts2, subscripts2, and display code verbatim. Little known fact: you can also strikethrough text and present it in small caps.\n\n\n1\n\nEither the * or _ can be used for emphasis and strong."
  },
  {
    "objectID": "quarto.html#inline-elements-math",
    "href": "quarto.html#inline-elements-math",
    "title": "Reproducible Reporting with Quarto",
    "section": "Inline Elements: Math",
    "text": "Inline Elements: Math\n\n\nMarkdown\nThe area of a circle is $A = \\pi r^2$,\nwhere $r$ is the radius and $\\pi$ is\nthe constant $3.141592\\ldots$.\n\nOutput\nThe area of a circle is \\(A = \\pi r^2\\), where \\(r\\) is the radius and \\(\\pi\\) is the constant \\(3.141592\\ldots\\).\n\n\nHelp on equations: https://quarto.org/docs/authoring/markdown-basics.html#equations"
  },
  {
    "objectID": "quarto.html#inline-elements-links-and-images",
    "href": "quarto.html#inline-elements-links-and-images",
    "title": "Reproducible Reporting with Quarto",
    "section": "Inline Elements: Links and Images",
    "text": "Inline Elements: Links and Images\n\nClickable hyperlinks\n\n[Andy's website](https://andyteucher.ca) -&gt; Andy‚Äôs website\n\nLinks within the document:\n\n[code chunks](#quarto-uses-markdown-syntax) -&gt; code chunks\n\nBare URLs:\n\n&lt;https://andyteucher.ca&gt; -&gt; https://andyteucher.ca\n\nImages:\n\n![](https://media.giphy.com/media/BSx6mzbW1ew7K/giphy.gif) -&gt;"
  },
  {
    "objectID": "quarto.html#computational-code-chunks",
    "href": "quarto.html#computational-code-chunks",
    "title": "Reproducible Reporting with Quarto",
    "section": "Computational Code Chunks",
    "text": "Computational Code Chunks\n\nUse triple backticks with language identifier (e.g., r, python)\n\n```{r}\ndata &lt;- read.csv(\"data.csv\")\nsummary(data)\n```"
  },
  {
    "objectID": "quarto.html#code-chunk-options",
    "href": "quarto.html#code-chunk-options",
    "title": "Reproducible Reporting with Quarto",
    "section": "Code chunk options",
    "text": "Code chunk options\nPrefaced with special comment prefix: #|\n\n\n\n\n```{r}\n#| label: summary-stats\n#| echo: true\n#| message: false\n\ndata &lt;- read.csv(\"data.csv\")\nsummary(data)\n```\n\n\nlabel: Name of the code chunk (used for referencing)\necho: Show or hide code (true/false)\neval: Execute or skip code (true/false)\nmessage: Show or hide messages (true/false)\nwarning: Show or hide warnings (true/false)\nfig.width: and fig.height: Set figure dimensions\nmany others"
  },
  {
    "objectID": "quarto.html#inline-code-execution",
    "href": "quarto.html#inline-code-execution",
    "title": "Reproducible Reporting with Quarto",
    "section": "Inline code execution",
    "text": "Inline code execution\n\nUse single backticks with language identifier\n\n```{r}\ndata &lt;- data.frame(\n    id = c(\"A\", \"B\", \"C\", \"D\", \"E\"),\n    variable = c(1, 2, 3, 4, 5)\n)\n```\n\nThe mean of the data variable is `{r} mean(data$variable)`.\n\n\n\n\ndata &lt;- data.frame(\n  id = c(\"A\", \"B\", \"C\", \"D\", \"E\"),\n  variable = c(1, 2, 3, 4, 5)\n)\n\nThe mean of the data variable is 3."
  },
  {
    "objectID": "quarto.html#quarto-document-metadata",
    "href": "quarto.html#quarto-document-metadata",
    "title": "Reproducible Reporting with Quarto",
    "section": "Quarto Document Metadata",
    "text": "Quarto Document Metadata\nYAML header at the top of the document\n---\ntitle: \"Document Title\"\nauthor: \"Author Name\"\ndate: \"2024-06-01\"\nformat: html\n---\n\nAlso specify default code chunk options globally (echo: false, fig-width: 6, etc.)"
  },
  {
    "objectID": "quarto.html#your-turn",
    "href": "quarto.html#your-turn",
    "title": "Reproducible Reporting with Quarto",
    "section": "Your turn",
    "text": "Your turn\n\nOpen 05-quarto.qmd in Positron\nModify the YAML header to add an author and date\nExperiment with code chunk options to hide the code in the ggplot2 chunk\nRender the document to Word using docx, or pdf using typst\nRender with the Keyboard shortcut (Ctrl+Shift+K)"
  },
  {
    "objectID": "quarto.html#parameterized-reports",
    "href": "quarto.html#parameterized-reports",
    "title": "Reproducible Reporting with Quarto",
    "section": "Parameterized Reports",
    "text": "Parameterized Reports\nYou may want to create different variations of a single document. For example:\n\nShowing results for a specific geographic location.\nRunning a report that covers a specific time period.\nRunning a single analysis multiple times for different assumptions."
  },
  {
    "objectID": "quarto.html#parameterized-reports-1",
    "href": "quarto.html#parameterized-reports-1",
    "title": "Reproducible Reporting with Quarto",
    "section": "Parameterized Reports",
    "text": "Parameterized Reports\n\nDefine parameters and their defaults in YAML header\n\n---\ntitle: \"Parameterized Report\"\nparams:\n  site_id: \"1\"\n  year: 2023\nformat: html\n---\n\n\nAccess parameters in code chunks via the special params object\n\n```{r}\nsite_data &lt;- data |&gt; \n    filter(site == params$site_id, year == params$year)\n```"
  },
  {
    "objectID": "quarto.html#your-turn-1",
    "href": "quarto.html#your-turn-1",
    "title": "Reproducible Reporting with Quarto",
    "section": "Your turn",
    "text": "Your turn\n\nAdd a parameter island with default value \"Torgerson\"\nAdd a sentence in the text that tells the reader what island is being reported on, using inline code.\nModify the code chunk to filter and plot only data for the selected island\nRender the document\n\n\nBonus:\n\nRender the document for a different island by specifying the parameter using quarto::quarto_render() in R.\nWrite a short R script to use purrr::walk() to render the report for all islands in your dataset\n\nHint: See ?quarto::quarto_render for details on passing parameters."
  },
  {
    "objectID": "quarto.html#quarto-beyond-reports",
    "href": "quarto.html#quarto-beyond-reports",
    "title": "Reproducible Reporting with Quarto",
    "section": "Quarto beyond reports",
    "text": "Quarto beyond reports\n\nWebsites and blogs\n\nhttps://quarto.org/docs/websites/\n\nBooks and long-form documents\n\nhttps://quarto.org/docs/books/\n\nDashboards and interactive documents\n\nhttps://quarto.org/docs/dashboards/\n\nPresentations and slideshows\n\nhttps://quarto.org/docs/presentations/"
  },
  {
    "objectID": "programming-functions.html#outline",
    "href": "programming-functions.html#outline",
    "title": "Programming with R: Functions",
    "section": "Outline",
    "text": "Outline\n\nMotivation\nFundamentals of functions"
  },
  {
    "objectID": "programming-functions.html#learning-objectives",
    "href": "programming-functions.html#learning-objectives",
    "title": "Programming with R: Functions",
    "section": "Learning objectives",
    "text": "Learning objectives\n\nexplain the rationale for writing functions\nwrite vector functions\n\nthat take a vector as input and output a vector\nthat take a vector as input and output a single value\n\nspecify defaults for function arguments\nwrite functions that take dataframes as input and output a dataframe"
  },
  {
    "objectID": "programming-functions.html#why-write-functions",
    "href": "programming-functions.html#why-write-functions",
    "title": "Programming with R: Functions",
    "section": "Why write functions?",
    "text": "Why write functions?\n\nMake code easier to read and understand\nMake code shorter\nMake code less error-prone\nMake code reusable\n\n\nYou can give a function an evocative name that makes your code easier to understand.\nAs requirements change, you only need to update code in one place, instead of many.\nYou eliminate the chance of making incidental mistakes when you copy and paste (i.e.¬†updating a variable name in one place, but not in another).\nIt makes it easier to reuse work from project-to-project, increasing your productivity over time."
  },
  {
    "objectID": "programming-functions.html#example-penguins",
    "href": "programming-functions.html#example-penguins",
    "title": "Programming with R: Functions",
    "section": "Example: Penguins",
    "text": "Example: Penguins\nWe have several measurements:\n\nbill_length_mm\nbill_depth_mm\nflipper_length_mm\nbody_mass_g\n\nThese are on very different scales"
  },
  {
    "objectID": "programming-functions.html#example",
    "href": "programming-functions.html#example",
    "title": "Programming with R: Functions",
    "section": "Example",
    "text": "Example\n\ndifficult to plot on same axis or determine what value is large for that variable\nA common solution is to apply a \\(z\\) score transformation to each variable.\nNormalises the values to have a mean of 0 and a standard deviation of 1\n\n\\[z = \\frac{x - \\bar{x}}{s.d.}\\]"
  },
  {
    "objectID": "programming-functions.html#apply-transformation",
    "href": "programming-functions.html#apply-transformation",
    "title": "Programming with R: Functions",
    "section": "Apply transformation",
    "text": "Apply transformation\nWe can apply the same transformation to each variable:\n\npenguins &lt;- penguins |&gt;\n  mutate(\n    z_bill_length_mm = (bill_length_mm - mean(bill_length_mm, na.rm = TRUE)) /\n      sd(bill_length_mm, na.rm = TRUE),\n    z_bill_depth_mm = (bill_depth_mm - mean(bill_length_mm, na.rm = TRUE)) /\n      sd(bill_depth_mm, na.rm = TRUE),\n    z_flipper_length_mm = (flipper_length_mm -\n      mean(flipper_length_mm, na.rm = TRUE)) /\n      sd(flipper_length_mm, na.rm = TRUE),\n    z_body_mass_g = (body_mass_g - mean(body_mass_g, na.rm = TRUE)) /\n      sd(body_mass_g, na.rm = TRUE)\n  )"
  },
  {
    "objectID": "programming-functions.html#long-unclear",
    "href": "programming-functions.html#long-unclear",
    "title": "Programming with R: Functions",
    "section": "Long, unclear",
    "text": "Long, unclear\n(bill_length_mm - mean(bill_length_mm, na.rm = TRUE)) / sd(bill_length_mm, na.rm = TRUE)\n\nQuite a lot of code\nDifficult to glance at and determine what the transformation is\n\nHow to shorten and make more clear?"
  },
  {
    "objectID": "programming-functions.html#copying-and-pasting",
    "href": "programming-functions.html#copying-and-pasting",
    "title": "Programming with R: Functions",
    "section": "Copying and pasting",
    "text": "Copying and pasting\n\nIs error prone\nDid anyone catch my mistake in the example?"
  },
  {
    "objectID": "programming-functions.html#what-is-a-function",
    "href": "programming-functions.html#what-is-a-function",
    "title": "Programming with R: Functions",
    "section": "What is a function?",
    "text": "What is a function?\nA named object that:\n\nTakes inputs (arguments)\nPerforms a specific task\nReturns outputs (results)"
  },
  {
    "objectID": "programming-functions.html#vector-functions",
    "href": "programming-functions.html#vector-functions",
    "title": "Programming with R: Functions",
    "section": "Vector functions",
    "text": "Vector functions\n\ntake one or more vectors as input\noutput same length as input\nwork well in mutate()\nappropriate for the z-transformation example"
  },
  {
    "objectID": "programming-functions.html#parts-of-a-function",
    "href": "programming-functions.html#parts-of-a-function",
    "title": "Programming with R: Functions",
    "section": "Parts of a function",
    "text": "Parts of a function\nTo turn your code into a function you need:\n\na name\nthe arguments - (the pieces that vary)\nthe body (the code that does the thing)\n\n\nname &lt;- function(arguments) {\n  code body\n}"
  },
  {
    "objectID": "programming-functions.html#function-name",
    "href": "programming-functions.html#function-name",
    "title": "Programming with R: Functions",
    "section": "Function name",
    "text": "Function name\n\nUse a verb or a clear descriptive phrase. Long is ok!\nDifficulty in naming? Maybe this should this be two or three functions?\nWhat should we call the function we write to do a \\(z\\) score transformation?"
  },
  {
    "objectID": "programming-functions.html#arguments",
    "href": "programming-functions.html#arguments",
    "title": "Programming with R: Functions",
    "section": "Arguments",
    "text": "Arguments\n\nthe input vector\nadditional arguments\n\nNaming conventions\n\nx for the vector input\n\nname &lt;- function(x) {\n  body does things with x\n}"
  },
  {
    "objectID": "programming-functions.html#return-value",
    "href": "programming-functions.html#return-value",
    "title": "Programming with R: Functions",
    "section": "Return value",
    "text": "Return value\n\n\n\nOutput - what the function returns to the user\nBy default, the last expression evaluated is returned\nUsing explicit return() is optional but not considered best practice in R (though common in other languages).\n\n\n\n\nexplicit return statement\nfahrenheit_to_celsius &lt;- function(f) {\n  celsius &lt;- (f - 32) * 5 / 9\n  return(celsius)\n}\n\n\nimplicit return of last named object\nfahrenheit_to_celsius &lt;- function(f) {\n  celsius &lt;- (f - 32) * 5 / 9\n  celsius\n}\n\n\nimplicit return of last expression\n\nfahrenheit_to_celsius &lt;- function(f) {\n  (f - 32) * 5 / 9\n}\n\n\n\n\nfahrenheit_to_celsius(100)\n\n[1] 37.77778"
  },
  {
    "objectID": "programming-functions.html#example-1",
    "href": "programming-functions.html#example-1",
    "title": "Programming with R: Functions",
    "section": "Example",
    "text": "Example\n\\[z = \\frac{x - \\bar{x}}{s.d.}\\]\npenguins &lt;- penguins |&gt;\n  mutate(\n    z_bill_length_mm = (bill_length_mm - mean(bill_length_mm, na.rm = TRUE)) / sd(bill_length_mm, na.rm = TRUE),\n    z_bill_depth_mm = (bill_depth_mm - mean(bill_depth_mm, na.rm = TRUE)) / sd(bill_depth_mm, na.rm = TRUE),\n    z_flipper_length_mm = (flipper_length_mm - mean(flipper_length_mm, na.rm = TRUE)) / sd(flipper_length_mm, na.rm = TRUE),\n    z_body_mass_g = (body_mass_g - mean(body_mass_g, na.rm = TRUE)) / sd(body_mass_g, na.rm = TRUE)\n  )"
  },
  {
    "objectID": "programming-functions.html#example-2",
    "href": "programming-functions.html#example-2",
    "title": "Programming with R: Functions",
    "section": "Example",
    "text": "Example\nIdentify the arguments: the things that vary across calls\n(bill_length_mm    - mean(bill_length_mm,    na.rm = TRUE)) / sd(bill_length_mm,    na.rm = TRUE)\n(bill_depth_mm    - mean(bill_depth_mm,    na.rm = TRUE)) / sd(bill_depth_mm,    na.rm = TRUE)\n(flipper_length_mm - mean(flipper_length_mm, na.rm = TRUE)) / sd(flipper_length_mm, na.rm = TRUE)\n(body_mass_g   - mean(body_mass_g,   na.rm = TRUE)) / sd(body_mass_g,   na.rm = TRUE)\n\n\n\n(üüß - mean(üüß, na.rm = TRUE)) / sd(üüß, na.rm = TRUE)\n(üüß - mean(üüß, na.rm = TRUE)) / sd(üüß, na.rm = TRUE)\n(üüß - mean(üüß, na.rm = TRUE)) / sd(üüß, na.rm = TRUE)\n(üüß - mean(üüß, na.rm = TRUE)) / sd(üüß, na.rm = TRUE)\nüüß is x"
  },
  {
    "objectID": "programming-functions.html#example-3",
    "href": "programming-functions.html#example-3",
    "title": "Programming with R: Functions",
    "section": "Example",
    "text": "Example\nPut into the template\nname &lt;- function(x) {\n  body does things with x\n}\n\n\n\nto_z &lt;- function(x) {\n  (x - mean(x, na.rm = TRUE)) / sd(x, na.rm = TRUE)\n}"
  },
  {
    "objectID": "programming-functions.html#apply",
    "href": "programming-functions.html#apply",
    "title": "Programming with R: Functions",
    "section": "Apply",
    "text": "Apply\nRewrite the call to mutate() as:\n\npenguins &lt;- penguins |&gt;\n  mutate(\n    z_bill_length_mm = to_z(bill_length_mm),\n    z_bill_depth_mm = to_z(bill_depth_mm),\n    z_flipper_length_mm = to_z(flipper_length_mm),\n    z_body_mass_g = to_z(body_mass_g)\n  )\n\n\nMuch shorter, much more clear."
  },
  {
    "objectID": "programming-functions.html#a-modification",
    "href": "programming-functions.html#a-modification",
    "title": "Programming with R: Functions",
    "section": "A modification",
    "text": "A modification\nmean() has a trim argument: mean(x, trim = 0, na.rm = FALSE, ...)\nthe fraction (0 to 0.5) of observations to be trimmed from each end of x before the mean is computed.\n\nSuppose we want to specify the middle proportion left rather than the proportion trimmed from each end."
  },
  {
    "objectID": "programming-functions.html#a-modification-1",
    "href": "programming-functions.html#a-modification-1",
    "title": "Programming with R: Functions",
    "section": "A modification",
    "text": "A modification\n\nA value of 0.1 for trim trims 0.1 from each end leaving 0.8 in the middle\ntrim = (1 - middle)/2\n\n\nTrim is the proportion trimmed off each end; middle is what‚Äôs left"
  },
  {
    "objectID": "programming-functions.html#add-an-argument",
    "href": "programming-functions.html#add-an-argument",
    "title": "Programming with R: Functions",
    "section": "Add an argument",
    "text": "Add an argument\n\nto_z &lt;- function(x, middle) {\n  trim = (1 - middle) / 2\n  (x - mean(x, na.rm = TRUE, trim = trim)) / sd(x, na.rm = TRUE)\n}"
  },
  {
    "objectID": "programming-functions.html#try-it-out",
    "href": "programming-functions.html#try-it-out",
    "title": "Programming with R: Functions",
    "section": "Try it out",
    "text": "Try it out\n\nto_z(penguins$bill_length_mm, middle = 0.2)\n\n  [1] -0.92838057 -0.85511491 -0.70858359          NA -1.36797452 -0.89174774 -0.96501340 -0.91006415\n  [9] -1.84420131 -0.39720454 -1.16649396 -1.16649396 -0.56205227 -1.01996264 -1.75261923 -1.38629094\n [17] -1.00164623 -0.30562246 -1.78925206  0.33545205 -1.16649396 -1.18481038 -1.51450584 -1.09322830\n [25] -0.98332981 -1.62440433 -0.65363435 -0.67195076 -1.14817755 -0.67195076 -0.85511491 -1.27639245\n [33] -0.85511491 -0.59868510 -1.42292377 -0.91006415 -0.98332981 -0.36057171 -1.20312679 -0.80016566\n [41] -1.40460735 -0.61700152 -1.49618943 -0.01255983 -1.31302528 -0.83679849 -0.56205227 -1.22144320\n [49] -1.49618943 -0.34225529 -0.83679849 -0.74521642 -1.67935358 -0.39720454 -1.77093565 -0.50710303\n [57] -0.94669698 -0.65363435 -1.40460735 -1.20312679 -1.55113867 -0.52541944 -1.20312679 -0.56205227\n [65] -1.42292377 -0.47047020 -1.58777150 -0.56205227 -1.51450584 -0.43383737 -1.95409980 -0.81848208\n [73] -0.83679849  0.29881922 -1.58777150 -0.25067322 -0.59868510 -1.27639245 -1.45955660 -0.37888812\n [81] -1.75261923 -0.23235681 -1.36797452 -1.66103716 -1.25807603 -0.52541944 -1.44124018 -1.33134169\n [89] -1.07491189 -0.96501340 -1.55113867 -0.56205227 -1.86251772 -0.83679849 -1.45955660 -0.61700152\n [97] -1.11154472 -0.70858359 -2.02736546 -0.17740756 -1.67935358 -0.58036869 -1.18481038 -1.16649396\n[105] -1.14817755 -0.81848208 -1.01996264 -1.09322830 -1.11154472 -0.17740756 -1.11154472  0.26218639\n[113] -0.81848208 -0.36057171 -0.83679849 -0.26898963 -1.01996264 -1.25807603 -1.55113867 -0.56205227\n[121] -1.45955660 -1.18481038 -0.72690000 -0.50710303 -1.64272075 -0.65363435 -0.98332981 -0.48878661\n[129] -0.94669698 -0.01255983 -1.03827906 -0.19572398 -1.34965811 -1.22144320 -1.11154472 -0.56205227\n[137] -1.56945509 -0.72690000 -1.31302528 -0.81848208 -0.72690000 -0.65363435 -2.21052960 -0.63531793\n[145] -1.25807603 -0.94669698 -0.91006415 -1.38629094 -1.49618943 -1.16649396 -1.49618943 -0.48878661\n[153]  0.35376847  1.06810865  0.82999525  1.06810865  0.62851469  0.42703413  0.22555357  0.46366696\n[161] -0.15909115  0.48198337 -0.59868510  0.88494450  0.24386998  0.77504601  0.29881922  0.93989374\n[169] -0.39720454  0.92157733  0.37208488  0.82999525  1.10474148  0.17060432  0.42703413  0.39040130\n[177] -0.23235681  0.35376847  0.06070583  0.66514752  0.73841318  1.06810865  0.57356545 -0.25067322\n[185]  0.17060432  2.82648447  0.90326091  0.77504601 -0.28730605  0.04238942 -0.03087624  0.82999525\n[193] -0.26898963  0.99484299  0.20723715  0.99484299  1.15969072 -0.10414190  0.24386998  1.15969072\n[201]  0.13397149  0.18892074  0.44535054  0.79336242  0.17060432  1.08642506  0.42703413  0.15228791\n[209] -0.06750907  0.24386998 -0.17740756  1.14137431  0.20723715  0.37208488  0.28050281  1.85571448\n[217]  0.29881922  1.03147582  0.37208488  0.97652657 -0.12245832  1.19632355  0.64683111  0.40871771\n[225]  0.73841318  0.42703413  0.40871771  0.81167884  0.61019828  1.26958921  0.18892074  0.18892074\n[233]  0.90326091  1.52601902  0.59188186  1.06810865  0.13397149  1.21463997 -0.14077473  1.30622204\n[241]  0.61019828  1.45275336  0.61019828  1.47106977  0.24386998  0.97652657  0.06070583  1.21463997\n[249]  0.95821016  0.50029979  0.77504601  1.26958921  0.79336242  2.14877712  0.55524903  0.90326091\n[257]  0.57356545  0.48198337 -0.45215378  1.69086675 -0.15909115  0.72009677  1.15969072  1.03147582\n[265] -0.12245832  1.34285487  0.37208488  2.00224580  0.06070583  0.84831167  0.55524903          NA\n[273]  0.48198337  1.14137431  0.18892074  1.04979223  0.42703413  1.06810865  1.30622204  0.22555357\n[281]  1.56265185  0.18892074  0.35376847  1.30622204  0.33545205  1.30622204  0.44535054  1.37948770\n[289]  0.51861620  1.43443694  0.31713564  1.15969072  1.12305789  2.53342183  0.40871771  0.92157733\n[297] -0.32393888  0.79336242 -0.17740756  1.17800714  0.46366696  1.43443694  1.15969072  0.97652657\n[305]  0.40871771  1.58096826 -0.59868510  1.83739807 -0.30562246  1.25127279  1.01315940  0.61019828\n[313]  0.62851469  1.43443694  0.50029979  1.70918316  0.88494450  0.37208488  1.23295638  0.24386998\n[321]  1.23295638  1.21463997  1.08642506  0.88494450  1.34285487  1.03147582  0.72009677  1.32453845\n[329]  0.28050281  1.19632355 -0.30562246  1.47106977  0.18892074  0.93989374  1.10474148  0.26218639\n[337]  1.41612053  0.48198337  0.28050281  2.13046071 -0.12245832  0.99484299  1.21463997  1.10474148"
  },
  {
    "objectID": "programming-functions.html#but-what-if-we-forget",
    "href": "programming-functions.html#but-what-if-we-forget",
    "title": "Programming with R: Functions",
    "section": "But what if we forget?",
    "text": "But what if we forget?\n\nto_z(penguins$bill_length_mm)\n\nError in to_z(penguins$bill_length_mm): argument \"middle\" is missing, with no default"
  },
  {
    "objectID": "programming-functions.html#give-a-default",
    "href": "programming-functions.html#give-a-default",
    "title": "Programming with R: Functions",
    "section": "Give a default",
    "text": "Give a default\nGive defaults whenever possible:\n\nto_z &lt;- function(x, middle = 1) {\n  trim = (1 - middle) / 2\n  (x - mean(x, na.rm = TRUE, trim = trim)) / sd(x, na.rm = TRUE)\n}"
  },
  {
    "objectID": "programming-functions.html#try-it-out-1",
    "href": "programming-functions.html#try-it-out-1",
    "title": "Programming with R: Functions",
    "section": "Try it out",
    "text": "Try it out\n\nto_z(penguins$bill_length_mm)\n\n  [1] -0.88320467 -0.80993901 -0.66340769          NA -1.32279862 -0.84657184 -0.91983750 -0.86488825\n  [9] -1.79902541 -0.35202864 -1.12131806 -1.12131806 -0.51687637 -0.97478674 -1.70744334 -1.34111504\n [17] -0.95647033 -0.26044656 -1.74407616  0.38062795 -1.12131806 -1.13963448 -1.46932994 -1.04805240\n [25] -0.93815391 -1.57922843 -0.60845845 -0.62677486 -1.10300165 -0.62677486 -0.80993901 -1.23121655\n [33] -0.80993901 -0.55350920 -1.37774787 -0.86488825 -0.93815391 -0.31539581 -1.15795089 -0.75498976\n [41] -1.35943145 -0.57182562 -1.45101353  0.03261607 -1.26784938 -0.79162259 -0.51687637 -1.17626731\n [49] -1.45101353 -0.29707939 -0.79162259 -0.70004052 -1.63417768 -0.35202864 -1.72575975 -0.46192713\n [57] -0.90152108 -0.60845845 -1.35943145 -1.15795089 -1.50596277 -0.48024354 -1.15795089 -0.51687637\n [65] -1.37774787 -0.42529430 -1.54259560 -0.51687637 -1.46932994 -0.38866147 -1.90892390 -0.77330618\n [73] -0.79162259  0.34399512 -1.54259560 -0.20549732 -0.55350920 -1.23121655 -1.41438070 -0.33371222\n [81] -1.70744334 -0.18718091 -1.32279862 -1.61586126 -1.21290014 -0.48024354 -1.39606428 -1.28616579\n [89] -1.02973599 -0.91983750 -1.50596277 -0.51687637 -1.81734182 -0.79162259 -1.41438070 -0.57182562\n [97] -1.06636882 -0.66340769 -1.98218956 -0.13223166 -1.63417768 -0.53519279 -1.13963448 -1.12131806\n[105] -1.10300165 -0.77330618 -0.97478674 -1.04805240 -1.06636882 -0.13223166 -1.06636882  0.30736229\n[113] -0.77330618 -0.31539581 -0.79162259 -0.22381374 -0.97478674 -1.21290014 -1.50596277 -0.51687637\n[121] -1.41438070 -1.13963448 -0.68172411 -0.46192713 -1.59754485 -0.60845845 -0.93815391 -0.44361071\n[129] -0.90152108  0.03261607 -0.99310316 -0.15054808 -1.30448221 -1.17626731 -1.06636882 -0.51687637\n[137] -1.52427919 -0.68172411 -1.26784938 -0.77330618 -0.68172411 -0.60845845 -2.16535371 -0.59014203\n[145] -1.21290014 -0.90152108 -0.86488825 -1.34111504 -1.45101353 -1.12131806 -1.45101353 -0.44361071\n[153]  0.39894437  1.11328455  0.87517115  1.11328455  0.67369059  0.47221003  0.27072946  0.50884286\n[161] -0.11391525  0.52715927 -0.55350920  0.93012040  0.28904588  0.82022191  0.34399512  0.98506964\n[169] -0.35202864  0.96675323  0.41726078  0.87517115  1.14991738  0.21578022  0.47221003  0.43557720\n[177] -0.18718091  0.39894437  0.10588173  0.71032342  0.78358908  1.11328455  0.61874135 -0.20549732\n[185]  0.21578022  2.87166037  0.94843681  0.82022191 -0.24213015  0.08756532  0.01429966  0.87517115\n[193] -0.22381374  1.04001889  0.25241305  1.04001889  1.20486662 -0.05896600  0.28904588  1.20486662\n[201]  0.17914739  0.23409663  0.49052644  0.83853832  0.21578022  1.13160096  0.47221003  0.19746381\n[209] -0.02233317  0.28904588 -0.13223166  1.18655021  0.25241305  0.41726078  0.32567871  1.90089038\n[217]  0.34399512  1.07665172  0.41726078  1.02170247 -0.07728242  1.24149945  0.69200701  0.45389361\n[225]  0.78358908  0.47221003  0.45389361  0.85685474  0.65537418  1.31476511  0.23409663  0.23409663\n[233]  0.94843681  1.57119492  0.63705776  1.11328455  0.17914739  1.25981586 -0.09559883  1.35139794\n[241]  0.65537418  1.49792926  0.65537418  1.51624567  0.28904588  1.02170247  0.10588173  1.25981586\n[249]  1.00338606  0.54547569  0.82022191  1.31476511  0.83853832  2.19395302  0.60042493  0.94843681\n[257]  0.61874135  0.52715927 -0.40697788  1.73604265 -0.11391525  0.76527266  1.20486662  1.07665172\n[265] -0.07728242  1.38803077  0.41726078  2.04742170  0.10588173  0.89348757  0.60042493          NA\n[273]  0.52715927  1.18655021  0.23409663  1.09496813  0.47221003  1.11328455  1.35139794  0.27072946\n[281]  1.60782775  0.23409663  0.39894437  1.35139794  0.38062795  1.35139794  0.49052644  1.42466360\n[289]  0.56379210  1.47961284  0.36231154  1.20486662  1.16823379  2.57859773  0.45389361  0.96675323\n[297] -0.27876298  0.83853832 -0.13223166  1.22318303  0.50884286  1.47961284  1.20486662  1.02170247\n[305]  0.45389361  1.62614416 -0.55350920  1.88257397 -0.26044656  1.29644869  1.05833530  0.65537418\n[313]  0.67369059  1.47961284  0.54547569  1.75435906  0.93012040  0.41726078  1.27813228  0.28904588\n[321]  1.27813228  1.25981586  1.13160096  0.93012040  1.38803077  1.07665172  0.76527266  1.36971435\n[329]  0.32567871  1.24149945 -0.26044656  1.51624567  0.23409663  0.98506964  1.14991738  0.30736229\n[337]  1.46129643  0.52715927  0.32567871  2.17563660 -0.07728242  1.04001889  1.25981586  1.14991738"
  },
  {
    "objectID": "programming-functions.html#your-turn",
    "href": "programming-functions.html#your-turn",
    "title": "Programming with R: Functions",
    "section": "Your turn",
    "text": "Your turn\nSee if you can add another argument to to_z() to allow the user to specify if NA values should be removed or not. Give it a default value."
  },
  {
    "objectID": "programming-functions.html#your-turn-1",
    "href": "programming-functions.html#your-turn-1",
    "title": "Programming with R: Functions",
    "section": "Your turn",
    "text": "Your turn\nCreate a function called percent_diff that calculates the percent difference between two (vectors of) values:\n\\[\\%diff = \\frac{|a - b|}{((a + b)/2)} * 100\\]\n\nHint: you can use the abs() function to calculate the absolute value."
  },
  {
    "objectID": "programming-functions.html#your-turn-2",
    "href": "programming-functions.html#your-turn-2",
    "title": "Programming with R: Functions",
    "section": "Your turn",
    "text": "Your turn\nCreate a function called is_big() that takes a numeric vector and outputs a logical vector indicating whether each value is larger than a specified quantile threshold.\n\nThe function should have two arguments: the numeric vector and the quantile threshold (default to 0.75)."
  },
  {
    "objectID": "programming-functions.html#types-of-function",
    "href": "programming-functions.html#types-of-function",
    "title": "Programming with R: Functions",
    "section": "Types of function",
    "text": "Types of function\n\nvector functions: one or more vectors as input, one vector as output\n\n‚úîÔ∏è output same length as input.\n\nii. ‚û°Ô∏è summary functions: input is vector, output is a single value\ndata frame functions: df as input and df as output"
  },
  {
    "objectID": "programming-functions.html#summary-functions",
    "href": "programming-functions.html#summary-functions",
    "title": "Programming with R: Functions",
    "section": "Summary functions",
    "text": "Summary functions\n\ninput is vector\noutput is a single value\ncould be used in summarise()"
  },
  {
    "objectID": "programming-functions.html#example-4",
    "href": "programming-functions.html#example-4",
    "title": "Programming with R: Functions",
    "section": "Example",
    "text": "Example\nWrite a function to compute the standard error of a sample.\n\\[s.e. = \\frac{s.d.}{\\sqrt{n}}\\]"
  },
  {
    "objectID": "programming-functions.html#example-5",
    "href": "programming-functions.html#example-5",
    "title": "Programming with R: Functions",
    "section": "Example",
    "text": "Example\n\nstd_error &lt;- function(x) {\n  sd(x, na.rm = TRUE) / sqrt(sum(!is.na(x)))\n}\n\n\nNote: sum(TRUE) = 1 and sum(FALSE) = 0 Thus,sum(!is.na(x)) gives you the number of TRUE (i.e., the number of non-NA values) and is a bit shorter than length(x[!is.na(x)])"
  },
  {
    "objectID": "programming-functions.html#try-it-out-2",
    "href": "programming-functions.html#try-it-out-2",
    "title": "Programming with R: Functions",
    "section": "Try it out",
    "text": "Try it out\nCall the function on penguins$bill_length_mm\n\nstd_error(penguins$bill_length_mm)\n\n[1] 0.2952205\n\n\n\nOr in a pipeline\n\npenguins |&gt;\n  group_by(species) |&gt;\n  summarise(se = std_error(bill_length_mm))\n\n# A tibble: 3 √ó 2\n  species      se\n  &lt;fct&gt;     &lt;dbl&gt;\n1 Adelie    0.217\n2 Chinstrap 0.405\n3 Gentoo    0.278"
  },
  {
    "objectID": "programming-functions.html#your-turn-3",
    "href": "programming-functions.html#your-turn-3",
    "title": "Programming with R: Functions",
    "section": "Your turn",
    "text": "Your turn\nWrite a function to compute the sums of squares (sum of the squared deviations from the mean). This can be calculated with either:\n\\[SS(x) = \\sum{(x - \\bar{x})^2}\\]\nor\n\\[SS(x) = s^2 * (n-1)\\]"
  },
  {
    "objectID": "programming-functions.html#a-solution---one-option",
    "href": "programming-functions.html#a-solution---one-option",
    "title": "Programming with R: Functions",
    "section": "A solution - one option",
    "text": "A solution - one option\n\nsum_sq &lt;- function(x) {\n  sum((x - mean(x, na.rm = TRUE))^2, na.rm = TRUE)\n}\n\nOR\n\nsum_sq2 &lt;- function(x) {\n  var_x &lt;- var(x, na.rm = TRUE)\n  n &lt;- sum(!is.na(x))\n  var_x * (n - 1)\n}\n\n\nTry it out\n\nsum_sq(penguins$bill_length_mm)\n\n[1] 10164.21\n\nsum_sq2(penguins$bill_length_mm)\n\n[1] 10164.21"
  },
  {
    "objectID": "programming-functions.html#types-of-function-1",
    "href": "programming-functions.html#types-of-function-1",
    "title": "Programming with R: Functions",
    "section": "Types of function",
    "text": "Types of function\nWe will cover two types of function\n\nvector functions: one or more vectors as input, one vector as output\n\n‚úîÔ∏è output same length as input.\n‚úîÔ∏è summary functions: input is vector, output is a single value\n\n\n2. ‚û°Ô∏è data frame functions: df as input and df as output"
  },
  {
    "objectID": "programming-functions.html#dataframe-functions",
    "href": "programming-functions.html#dataframe-functions",
    "title": "Programming with R: Functions",
    "section": "Dataframe functions",
    "text": "Dataframe functions\nDataframe as input and Dataframe as output\n\nFor example, we might summarise one of our columns like this:\n\npenguins |&gt;\n  summarise(\n    mean = mean(bill_length_mm, na.rm = TRUE),\n    n = sum(!is.na(bill_length_mm)),\n    sd = sd(bill_length_mm, na.rm = TRUE),\n    se = std_error(bill_length_mm)\n  )\n\n# A tibble: 1 √ó 4\n   mean     n    sd    se\n  &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;\n1  43.9   342  5.46 0.295\n\n\nOutput is a dataframe"
  },
  {
    "objectID": "programming-functions.html#dataframe-functions-1",
    "href": "programming-functions.html#dataframe-functions-1",
    "title": "Programming with R: Functions",
    "section": "Dataframe functions",
    "text": "Dataframe functions\nGood candidate for a function to avoid repetitive code: my_summary()"
  },
  {
    "objectID": "programming-functions.html#define-my_summary-function",
    "href": "programming-functions.html#define-my_summary-function",
    "title": "Programming with R: Functions",
    "section": "Define my_summary() function",
    "text": "Define my_summary() function\n\nmy_summary &lt;- function(df, column) {\n  df |&gt;\n    summarise(\n      mean = mean(column, na.rm = TRUE),\n      n = sum(!is.na(column)),\n      sd = sd(column, na.rm = TRUE),\n      se = std_error(column)\n    )\n}"
  },
  {
    "objectID": "programming-functions.html#use-function",
    "href": "programming-functions.html#use-function",
    "title": "Programming with R: Functions",
    "section": "Use function",
    "text": "Use function\n\nmy_summary(penguins, bill_length_mm)\n\nError in `summarise()`:\n‚Ñπ In argument: `mean = mean(column, na.rm = TRUE)`.\nCaused by error:\n! object 'bill_length_mm' not found\n\n\nüòï"
  },
  {
    "objectID": "programming-functions.html#tidy-evaluation",
    "href": "programming-functions.html#tidy-evaluation",
    "title": "Programming with R: Functions",
    "section": "Tidy evaluation",
    "text": "Tidy evaluation\ntidyverse functions like dplyr::summarise() use ‚Äútidy evaluation‚Äù so you can refer to the names of variables inside dataframes. For example, you can use:\neither\npenguins |&gt; summarise(mean = mean(bill_depth_mm))\nOr\nsummarise(penguins, mean = mean(bill_depth_mm))"
  },
  {
    "objectID": "programming-functions.html#tidy-evaluation-1",
    "href": "programming-functions.html#tidy-evaluation-1",
    "title": "Programming with R: Functions",
    "section": "Tidy evaluation",
    "text": "Tidy evaluation\nThis is instead of having to use the full dataframe name with $, e.g.\nsummarise(penguins, mean = mean(penguins$bill_depth_mm))\n\nThis is known as data-masking: the dataframe environment masks the user environment by giving priority to the dataframe."
  },
  {
    "objectID": "programming-functions.html#data-masking-is-great.",
    "href": "programming-functions.html#data-masking-is-great.",
    "title": "Programming with R: Functions",
    "section": "Data masking is great‚Ä¶.",
    "text": "Data masking is great‚Ä¶.\nand makes life easier when working interactively\n\n\n\nBut kind of annoying in functions\n\n\n\n\nmy_summary &lt;- function(df, column) {\n  df |&gt;\n    summarise(\n      mean = mean(column, na.rm = TRUE),\n      n = sum(!is.na(column)),\n      sd = sd(column, na.rm = TRUE),\n      se = std_error(column)\n    )\n}\n\n\n\nBecause of data-masking, summarise() in my_summary() is looking for a column literally called column in the dataframe that has been passed in. It is not looking inside the variable column for the name of column you want to give it.\n\n\n\nRead more: Programming with dplyr"
  },
  {
    "objectID": "programming-functions.html#fix-my_summary-function",
    "href": "programming-functions.html#fix-my_summary-function",
    "title": "Programming with R: Functions",
    "section": "Fix my_summary() function",
    "text": "Fix my_summary() function\nThe solution is to use embracing: {{ var }}\n\nmy_summary &lt;- function(df, column) {\n  df |&gt;\n    summarise(\n      mean = mean({{ column }}, na.rm = TRUE),\n      n = sum(!is.na({{ column }})),\n      sd = sd({{ column }}, na.rm = TRUE),\n      se = std_error({{ column }})\n    )\n}\n\n\n\ntells summarize() to look inside column variable to get the column name\nstyle with spaces\n.groups = \"drop\" to avoid message and leave the data in an ungrouped state"
  },
  {
    "objectID": "programming-functions.html#use-function-1",
    "href": "programming-functions.html#use-function-1",
    "title": "Programming with R: Functions",
    "section": "Use function",
    "text": "Use function\n\nmy_summary(penguins, bill_length_mm)\n\n# A tibble: 1 √ó 4\n   mean     n    sd    se\n  &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;\n1  43.9   342  5.46 0.295\n\n\nüéâ"
  },
  {
    "objectID": "programming-functions.html#when-to-embrace",
    "href": "programming-functions.html#when-to-embrace",
    "title": "Programming with R: Functions",
    "section": "When to embrace?",
    "text": "When to embrace?\nWhen tidy evaluation is used"
  },
  {
    "objectID": "programming-functions.html#your-turn-4",
    "href": "programming-functions.html#your-turn-4",
    "title": "Programming with R: Functions",
    "section": "Your turn",
    "text": "Your turn\nWrite a new summary function which calculates the median, maximum and minimum values of a variable in a dataset. Incorporate an argument to allow the summary to be performed grouped by another variable."
  },
  {
    "objectID": "programming-functions.html#your-turn-5",
    "href": "programming-functions.html#your-turn-5",
    "title": "Programming with R: Functions",
    "section": "Your turn",
    "text": "Your turn\nTry it out\n\nmy_summary(penguins, bill_length_mm, species)\n\n# A tibble: 3 √ó 4\n  species   median minimum maximum\n  &lt;fct&gt;      &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;\n1 Adelie      38.8    32.1    46  \n2 Chinstrap   49.6    40.9    58  \n3 Gentoo      47.3    40.9    59.6"
  },
  {
    "objectID": "programming-functions.html#your-turn-6",
    "href": "programming-functions.html#your-turn-6",
    "title": "Programming with R: Functions",
    "section": "Your turn",
    "text": "Your turn\nImprovement: Have a default of NULL for the grouping variable. Why?"
  },
  {
    "objectID": "programming-functions.html#your-turn-7",
    "href": "programming-functions.html#your-turn-7",
    "title": "Programming with R: Functions",
    "section": "Your turn",
    "text": "Your turn\nTry it out\n\nmy_summary(penguins, bill_length_mm)\n\n# A tibble: 1 √ó 3\n  median minimum maximum\n   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;\n1   44.4    32.1    59.6"
  },
  {
    "objectID": "programming-functions.html#your-turn-8",
    "href": "programming-functions.html#your-turn-8",
    "title": "Programming with R: Functions",
    "section": "Your turn",
    "text": "Your turn\nTry it out with more than one group\n\nmy_summary(penguins, bill_length_mm, c(species, island))\n\n\n\nError in `group_by()`:\n‚Ñπ In argument: `c(species, island)`.\nCaused by error:\n! `c(species, island)` must be size 344 or 1, not 688.\n\n\n\nüòï\n\nBy using embracing in this way, it is actually trying to group by the contents of the two columns concatenated, not the two columns separately."
  },
  {
    "objectID": "programming-functions.html#a-solution",
    "href": "programming-functions.html#a-solution",
    "title": "Programming with R: Functions",
    "section": "A solution",
    "text": "A solution\nUse pick() which allows you to select a subset of columns inside a data masking function:\n\n\nmy_summary &lt;- function(df, summary_var, group_var = NULL) {\n  df |&gt;\n    group_by(pick({{ group_var }})) |&gt;\n    summarise(\n      median = median({{ summary_var }}, na.rm = TRUE),\n      minimum = min({{ summary_var }}, na.rm = TRUE),\n      maximum = max({{ summary_var }}, na.rm = TRUE),\n      .groups = \"drop\"\n    )\n}"
  },
  {
    "objectID": "programming-functions.html#section-1",
    "href": "programming-functions.html#section-1",
    "title": "Programming with R: Functions",
    "section": "",
    "text": "Try it out with more than one group\n\nmy_summary(penguins, bill_length_mm, c(species, island))\n\n# A tibble: 5 √ó 5\n  species   island    median minimum maximum\n  &lt;fct&gt;     &lt;fct&gt;      &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;\n1 Adelie    Biscoe      38.7    34.5    45.6\n2 Adelie    Dream       38.6    32.1    44.1\n3 Adelie    Torgersen   38.9    33.5    46  \n4 Chinstrap Dream       49.6    40.9    58  \n5 Gentoo    Biscoe      47.3    40.9    59.6"
  },
  {
    "objectID": "programming-functions.html#functions-should-be-pure",
    "href": "programming-functions.html#functions-should-be-pure",
    "title": "Programming with R: Functions",
    "section": "Functions should be ‚Äúpure‚Äù",
    "text": "Functions should be ‚Äúpure‚Äù\n\nShould not depend on external state (e.g., global variables)\nShould not have side effects (e.g., modifying global variables, printing to console, plotting, etc.)\nGiven the same inputs, should always return the same outputs\n\n\n\nPure\nadd_one &lt;- function(x) {\n  x + 1\n}\n\n\n\nImpure\ny &lt;- 10\n\nadd_y &lt;- function(x) {\n  x + y\n}\n\nadd_to_global &lt;- function(x) {\n  y &lt;&lt;- x + 1\n}"
  },
  {
    "objectID": "programming-functions.html#functions---data-validation-and-error-handling",
    "href": "programming-functions.html#functions---data-validation-and-error-handling",
    "title": "Programming with R: Functions",
    "section": "Functions - data validation and error handling",
    "text": "Functions - data validation and error handling\nIt‚Äôs good practice to include data validation and error handling in your functions to ensure they behave as expected when given incorrect or unexpected inputs.\n\nUse if statements to check that inputs meet certain criteria or if specific conditions are met.\nUse stop() to throw an Error if issues are serious enough that it should not proceed.\nUse warning() to issue a Warning for non-critical issues.\n\n\n\nErrors\nif (some_condition_not_met) {\n  stop(\"Descriptive error message.\")\n  # Function exits and does not return a result\n}\n\n\nWarnings\nif (some_non_critical_condition) {\n  warning(\"Descriptive warning message.\")\n  # Function continues executing and returns a result\n}\n\n\n\n\nWarnings are often used later in the execution if the result to be returned is cause for concern. (e.g., result is all NA). It is a signal to the user to check the results carefully."
  },
  {
    "objectID": "programming-functions.html#example-6",
    "href": "programming-functions.html#example-6",
    "title": "Programming with R: Functions",
    "section": "Example",
    "text": "Example\nIf a function expects two numeric vectors of the same length, you should check and stop the if they are not.\n\n\n\npercent_diff &lt;- function(x, y) {\n  (abs(x - y) /\n    ((x + y) / 2)) *\n    100\n}\n\n\n\n\npercent_diff &lt;- function(x, y) {\n  if (length(x) != length(y)) {\n    stop(\"Input vectors must be of the same length.\")\n  }\n\n  (abs(x - y) /\n    ((x + y) / 2)) *\n    100\n}\n\n\n\n\n\n\na &lt;- c(1, 2, 3)\nb &lt;- c(4, 5)\n\npercent_diff(a, b)\n\n\n\nError in percent_diff(a, b): Input vectors must be of the same length."
  },
  {
    "objectID": "programming-functions.html#your-turn-9",
    "href": "programming-functions.html#your-turn-9",
    "title": "Programming with R: Functions",
    "section": "Your turn",
    "text": "Your turn\n\nAdd a check to my_summary() to ensure that the summary_var is numeric. If not, throw an error.\nAdd a warning to to_z() if the input vector has fewer than 3 non-NA values, since the standard deviation may not be meaningful in that case."
  },
  {
    "objectID": "programming-functions.html#practical-use-of-functions-in-a-project",
    "href": "programming-functions.html#practical-use-of-functions-in-a-project",
    "title": "Programming with R: Functions",
    "section": "Practical use of functions in a project",
    "text": "Practical use of functions in a project\n\nFunctions can be stored in separate R scripts and sourced into your analysis scripts\nThis keeps your analysis scripts cleaner and more focused on the analysis logic\nIt is best practice to keep your functions in a dedicated folder called R/\nThen in the top of your scripts you can use source(\"R/your_function.R\") to load them"
  },
  {
    "objectID": "programming-functions.html#documenting-functions",
    "href": "programming-functions.html#documenting-functions",
    "title": "Programming with R: Functions",
    "section": "Documenting functions",
    "text": "Documenting functions\n\nUse roxygen2 style comments to document your functions\nIn Positron - put your cursor on the name of the function and click the üí° and choose ‚ÄúGenerate a Roxygen Template‚Äù"
  },
  {
    "objectID": "programming-functions.html#summary",
    "href": "programming-functions.html#summary",
    "title": "Programming with R: Functions",
    "section": "Summary ‚òï",
    "text": "Summary ‚òï\n\nWriting functions can make you more efficient and make your code more readable. This can be just for your benefit.\nVector functions take one or more vectors as input; their output can be a vector (useful in mutate() and filter()) or a single value (useful in summarise()).\nDataframe functions take a dataframe as input and give a dataframe as output\nGive arguments a default where possible\nWe use { var } embracing to manage data masking\nWe use pick({{ vars }}) to select more than one variable\nInclude data validation and error handling in your functions"
  },
  {
    "objectID": "git-github.html#schedule",
    "href": "git-github.html#schedule",
    "title": "Version Control with Git and Collaboration with GitHub",
    "section": "Schedule",
    "text": "Schedule\n\n\n\nPacific Time\nEastern Time\nDuration\n\n\n\n\n09:30 - 10:50\n12:30 ‚Äì 13:50\n80 min\n\n\nBreak\nBreak\n15 min\n\n\n11:05 ‚Äì 12:25\n14:05‚Äì 15:25\n80 min\n\n\nBreak\nBreak\n15 min\n\n\n12:40 ‚Äì 14:00\n15:40 ‚Äì 17:00\n80 min"
  },
  {
    "objectID": "git-github.html#what-is-git",
    "href": "git-github.html#what-is-git",
    "title": "Version Control with Git and Collaboration with GitHub",
    "section": "What is Git? ",
    "text": "What is Git? \n\nA version control system\nIt tracks and manages the evolution of a set of files ‚Äî called a repository*\nIt keeps a history of changes to files, who made the changes, and when\nIt allows you to revert to previous versions of files\nIt enables collaboration by merging changes from multiple contributors\nIt is a command-line tool, but there are graphical user interfaces (GUIs) available\n\n\n*repository (repo) == folder == RStudio or Positron project\n\nUsing a project-oriented workflow is critical"
  },
  {
    "objectID": "git-github.html#why-git",
    "href": "git-github.html#why-git",
    "title": "Version Control with Git and Collaboration with GitHub",
    "section": "Why Git?",
    "text": "Why Git?"
  },
  {
    "objectID": "git-github.html#why-git-1",
    "href": "git-github.html#why-git-1",
    "title": "Version Control with Git and Collaboration with GitHub",
    "section": "Why Git?",
    "text": "Why Git?\n\n‚ÄúCommits‚Äù help us focus on the work, not the bookkeeping.\nIt takes care of otherwise time- consuming versioning & unrelenting file tracking."
  },
  {
    "objectID": "git-github.html#why-github",
    "href": "git-github.html#why-github",
    "title": "Version Control with Git and Collaboration with GitHub",
    "section": "Why GitHub? ",
    "text": "Why GitHub? \n\n\nA commit is a snapshot of your project at a point in time."
  },
  {
    "objectID": "git-github.html#what-is-github-traditional-answer",
    "href": "git-github.html#what-is-github-traditional-answer",
    "title": "Version Control with Git and Collaboration with GitHub",
    "section": "What is GitHub (traditional answer)?",
    "text": "What is GitHub (traditional answer)?\n\nGitHub is an online collaborative platform. It is built on top of Git - software that does file versioning and bookkeeping.\nIt is a remote host for your Git repositories.\nIt provides a web interface for managing, sharing, and collaborating on your repositories.\nYou can think of GitHub working like Dropbox - but with more control."
  },
  {
    "objectID": "git-github.html#what-is-github-non-traditional-answer",
    "href": "git-github.html#what-is-github-non-traditional-answer",
    "title": "Version Control with Git and Collaboration with GitHub",
    "section": "What is GitHub (non-traditional answer)?",
    "text": "What is GitHub (non-traditional answer)?\n\nPublishing platform. A new way for sharing documentation & scicomm - your files can become websites! Share the url once, it‚Äôs always the latest version.\nProject management system. Short- and long-term collaborative ‚Äútodo‚Äù lists: ‚ÄúIssues‚Äù & ‚ÄúProjects‚Äù\n\n\nfor most folks, the pros of Git only outweigh the cons once you take the additional step of hooking your local repository up to a remote host like GitHub. The joint use of Git and GitHub offers many benefits that more than justify the learning curve."
  },
  {
    "objectID": "git-github.html#github-account-management",
    "href": "git-github.html#github-account-management",
    "title": "Version Control with Git and Collaboration with GitHub",
    "section": "GitHub account management",
    "text": "GitHub account management\n\nYou can have one GitHub account for all of your work and personal projects\nAdd different email addresses to your GitHub account\n\nwork email for work projects\npersonal email for personal projects\nassociate activity with the correct email address\n\nYou can use multiple GitHub accounts, but it is more complicated to set up"
  },
  {
    "objectID": "git-github.html#an-aside-set-up-your-terminal-in-positron",
    "href": "git-github.html#an-aside-set-up-your-terminal-in-positron",
    "title": "Version Control with Git and Collaboration with GitHub",
    "section": "An aside: set up your terminal in Positron",
    "text": "An aside: set up your terminal in Positron\n\nUnless you are already a Windows Powershell or Command Prompt user, I recommend switching the terminal in Positron to Git Bash.\n\n\n\n\n\n\nCtrl-Shift-PCtrl-Shift-P to open the command palette\nsearch for \"terminal default profile\"\nselect Terminal: Select Default Profile‚Äù and set it to ‚ÄúGit Bash‚Äù.\n\nsettings.json\n{\n  \"git.path\": \"C:/Program Files/Git/bin/bash.exe\",\n  \"terminal.integrated.defaultProfile.windows\": \"Git Bash\",\n  \"workbench.keybindings.rstudioKeybindings\": true,\n}"
  },
  {
    "objectID": "git-github.html#introduce-yourself-to-git",
    "href": "git-github.html#introduce-yourself-to-git",
    "title": "Version Control with Git and Collaboration with GitHub",
    "section": "Introduce yourself to Git",
    "text": "Introduce yourself to Git\nConfigure your user.name and user.email for git. This information will be associated with your commits.\n\n\nIn the terminal\nwhich git\ngit config --global user.name \"Jane Doe\"\ngit config --global user.email \"jane@doe.ca\"\n\n\n\nIn Positron or RStudio\nusethis::use_git_config(\n  user.name = \"Jane Doe\",\n  user.email = \"jane@doe.ca\"\n)"
  },
  {
    "objectID": "git-github.html#check-link-between-r-and-github",
    "href": "git-github.html#check-link-between-r-and-github",
    "title": "Version Control with Git and Collaboration with GitHub",
    "section": "Check link between R and GitHub",
    "text": "Check link between R and GitHub\nCommunicating with GitHub requires authentication with your GitHub account. This is achieved by creating and securely storing a Personal Access Token (PAT). The Managing Git(Hub) Credentials vignette in the usethis package has details on using PATs."
  },
  {
    "objectID": "git-github.html#check-link-between-r-and-github-1",
    "href": "git-github.html#check-link-between-r-and-github-1",
    "title": "Version Control with Git and Collaboration with GitHub",
    "section": "Check link between R and GitHub",
    "text": "Check link between R and GitHub\nCreate a PAT with:\nusethis::create_github_token()\n\n\nGive the token a descriptive name, accept the default scopes, and click ‚ÄúGenerate Token‚Äù.\nCopy the newly generated PAT to your clipboard.\nRun gitcreds::gitcreds_set() in R and paste in your PAT when prompted.\nAfter you close the PAT webpage, you won‚Äôt be able to see your PAT again! You can store it somewhere secure, such as in a password manager.\n\n\n\nYou may need to install the gitcreds package.\nCaveat about storing PATs on Linux:\nmacOS and Windows both have built-in credential managers that will securely store your PAT, however the same does not exist in Linux. Happy Git with R has a section on options for storing your PAT on Linux."
  },
  {
    "objectID": "git-github.html#check-your-git-setup-with-a-situation-report",
    "href": "git-github.html#check-your-git-setup-with-a-situation-report",
    "title": "Version Control with Git and Collaboration with GitHub",
    "section": "Check your Git setup with a ‚Äúsituation report‚Äù",
    "text": "Check your Git setup with a ‚Äúsituation report‚Äù\nusethis::git_sitrep()\n\n\n‚îÄ‚îÄ Git global (user)\n‚Ä¢ Name: 'Andy Teucher'\n‚Ä¢ Email: 'andy.teucher@gmail.com'\n‚Ä¢ Global (user-level) gitignore file: '/Users/andy/.gitignore'\n‚Ä¢ Vaccinated: TRUE\n‚Ñπ Defaulting to 'https' Git protocol\n‚Ä¢ Default Git protocol: 'https'\n‚Ä¢ Default initial branch name: 'main'\n\n‚îÄ‚îÄ GitHub user\n‚Ä¢ Default GitHub host: 'https://github.com'\n‚Ä¢ Personal access token for 'https://github.com': '&lt;discovered&gt;'\n‚Ä¢ GitHub user: 'ateucher'\n‚Ä¢ Token scopes: 'gist, repo, user, workflow'\n‚Ä¢ Email(s): 'andy.teucher@gmail.com (primary)'\n‚Ñπ No active usethis project\n\nPersonal access token for 'https://github.com': '&lt;discovered&gt;'\n\n\n\nIt is essential to check whether your name and email are correct and the PAT is showing as ‚Äúdiscovered‚Äù\n\n\nDo you see anything different in your output?\n\n\nThe output shows information about the link between RStudio and GitHub. Not all of it is relevant now, but it is essential to check whether your name and email are correct and the PAT is showing as ‚Äúdiscovered‚Äù\ngit_vaccinate()"
  },
  {
    "objectID": "git-github.html#we-can-interact-with-git-and-github",
    "href": "git-github.html#we-can-interact-with-git-and-github",
    "title": "Version Control with Git and Collaboration with GitHub",
    "section": "We can interact with Git and GitHub:",
    "text": "We can interact with Git and GitHub:\n\nfrom with Positron  GUI,\nusing usethis git-related functions,\n command-line tools + GitHub web interface"
  },
  {
    "objectID": "git-github.html#starting-a-new-project-with-git-and-github",
    "href": "git-github.html#starting-a-new-project-with-git-and-github",
    "title": "Version Control with Git and Collaboration with GitHub",
    "section": "Starting a new project with Git and GitHub",
    "text": "Starting a new project with Git and GitHub\n\nGitHub First\n\nCreate a new repo on GitHub, then clone it to your computer\nPreferred, cleanest workflow \n\nLocal First\n\nCreate a new repo on your computer, then push it to GitHub\nTotally fine, a bit more awkward"
  },
  {
    "objectID": "git-github.html#we-will",
    "href": "git-github.html#we-will",
    "title": "Version Control with Git and Collaboration with GitHub",
    "section": "We will:",
    "text": "We will:\n\nCreate a new repo on GitHub\nClone it to your computer and open as a new project using Positron\nCreate some commits\nPush the commits to GitHub\n\n\nWe‚Äôre going to make a repository for recipes!\nOrganization:\n\nREADME.md with a description of the project\none .md file per recipe in a recipes/ folder\n\n\n\nEnd goal: do structure first, then ingredients, then instructions.\n# Guacamole\n## Ingredients\n* avocado\n* lime\n* salt\n## Instructions\n* peel the avocados and put them into a bowl."
  },
  {
    "objectID": "git-github.html#making-a-commit",
    "href": "git-github.html#making-a-commit",
    "title": "Version Control with Git and Collaboration with GitHub",
    "section": "Making a commit",
    "text": "Making a commit\n\nMake changes to file(s)\nChoose what files you want to include in the commit\nStage the changes (using git add)\nCommit the staged changes (using git commit)\n\n\nIf you think of Git as taking snapshots of changes over the life of a project, git add specifies what will go in a snapshot (putting things in the staging area), and git commit then actually takes the snapshot, and makes a permanent record of it (as a commit). It‚Äôs almost always better to explicitly add things to the staging area, because you might commit changes you forgot you made. Try to stage things manually, or you might find yourself searching for ‚Äúgit undo commit‚Äù more than you would like!\n# Guacamole\n## Ingredients\n* avocado\n* lime\n* salt\n## Instructions\n* peel the avocados and put them into a bowl."
  },
  {
    "objectID": "git-github.html#converting-an-existing-project-to-use-git-and-github",
    "href": "git-github.html#converting-an-existing-project-to-use-git-and-github",
    "title": "Version Control with Git and Collaboration with GitHub",
    "section": "Converting an existing project to use Git and GitHub",
    "text": "Converting an existing project to use Git and GitHub\n\nInitialize a Git repository in your existing project\nCommit the existing files\nCreate a new repo on GitHub\nLink your local repo to the GitHub repo\nPush the commits to GitHub"
  },
  {
    "objectID": "git-github.html#ignoring-things",
    "href": "git-github.html#ignoring-things",
    "title": "Version Control with Git and Collaboration with GitHub",
    "section": "Ignoring things",
    "text": "Ignoring things\n\nWhat about files that you don‚Äôt want to track with Git or put on GitHub?\n\nlarge/sensitive data files,\nrendered outputs,\ntemporary files created by IDE\n\n.gitignore file in the root of your project\n\n\n\n# R data files\n*.RData\n*.rda\n\n# Specific data files\ndata/large_data.csv\n\n# output files\nreports/\n\n\nEach line specifies a pattern\nComments starting with # are ignored\nWildcards (e.g., *) to specify patterns\nSpecify specific files or entire directories"
  },
  {
    "objectID": "git-github.html#createadd-to-a-.gitignore-file",
    "href": "git-github.html#createadd-to-a-.gitignore-file",
    "title": "Version Control with Git and Collaboration with GitHub",
    "section": "Create/add to a .gitignore file",
    "text": "Create/add to a .gitignore file\n\n\n\n\nOr\nusethis::use_git_ignore(\n  c(\"*.RData\", \"data/large_data.csv\", \"reports/\")\n)"
  },
  {
    "objectID": "git-github.html#your-turn",
    "href": "git-github.html#your-turn",
    "title": "Version Control with Git and Collaboration with GitHub",
    "section": "Your Turn",
    "text": "Your Turn\n\nFind an existing project on your computer, and turn it into a git repository\nChoose carefully* what files to include in your first commit, and commit the files\nCreate a new repository on GitHub and push your local commits to GitHub\n\n\nRemember to use the .gitignore file\n\n\n\nhttps://positron.posit.co/git.html"
  },
  {
    "objectID": "git-github.html#collaborating",
    "href": "git-github.html#collaborating",
    "title": "Version Control with Git and Collaboration with GitHub",
    "section": "Collaborating",
    "text": "Collaborating\n\nGit is a distributed version control system\nEach collaborator has a full copy of the repository, including its history\nAll collaborators can push changes to the remote repository (given they have permission)\nChanges made by collaborators can be pulled into your local repository"
  },
  {
    "objectID": "git-github.html#your-turn-1",
    "href": "git-github.html#your-turn-1",
    "title": "Version Control with Git and Collaboration with GitHub",
    "section": "Your turn",
    "text": "Your turn\n\nIn pairs, one person is the ‚Äúowner‚Äù of a repo, the other is a ‚Äúcollaborator‚Äù\nOwner adds collaborator to a on GitHub\nCollaborator clones the repo to their computer\nCollaborator makes a change, commits, and pushes to GitHub\nOwner pulls the change to their computer"
  },
  {
    "objectID": "git-github.html#collaborating-via-branching-pull-requests",
    "href": "git-github.html#collaborating-via-branching-pull-requests",
    "title": "Version Control with Git and Collaboration with GitHub",
    "section": "Collaborating via branching + ‚ÄúPull Requests‚Äù",
    "text": "Collaborating via branching + ‚ÄúPull Requests‚Äù\n\nMore formal collaboration workflow\nAllows fearless experimentation\nAllows efficient code review and discussion\nGood for bigger contributions\n\n\n\n\n\n\n%%{\n    init: {\n        'theme':'base', \n        'showCommitLabel': false, \n        'themeVariables': { \n            'git0':'#6cc644', \n            'git1':'#f39c12', \n            'commitLabelColor': '#325c65', \n            'commitLabelBackground':'#325c65'\n        }\n    }\n}%%\n\ngitGraph\n    commit id: \" \"\n    commit id: \"  \"\n    commit id: \"   \"\n    commit id: \"    \"\n    branch feature\n    commit id: \"     \"\n    commit id: \"      \"\n    commit id: \"       \"\n    commit id: \"        \"\n    checkout main\n    merge feature tag: \"PR review & merge\"\n    commit id: \"         \"\n    commit id: \"          \""
  },
  {
    "objectID": "git-github.html#steps",
    "href": "git-github.html#steps",
    "title": "Version Control with Git and Collaboration with GitHub",
    "section": "Steps",
    "text": "Steps\n\nCreate a new branch\nMake changes, commit, and push the branch to GitHub\nOpen a Pull Request (PR) on GitHub\nDiscuss and review the PR\nMerge the PR into the main branch\nPull the latest changes to your local main branch"
  },
  {
    "objectID": "git-github.html#licensing-and-best-practices",
    "href": "git-github.html#licensing-and-best-practices",
    "title": "Version Control with Git and Collaboration with GitHub",
    "section": "Licensing and best practices",
    "text": "Licensing and best practices\n\nShare evidence, research and decision making openly. Make all non-sensitive data, information, and new code developed in delivery of services open to the outside world for sharing and reuse under an open licence.\n\n\nIt is recommended that the source code be released as early as possible in the project‚Äôs life cycle to avoid the overhead of publishing source code late in the process.\n\n\nEmployees should use their full name and Government of Canada email address for all code contributions to public repositories while acting within the scope of their duties or employment.\n\n\n*https://canada-ca.github.io/open-source-logiciel-libre/en/open-source-standards.html\nhttps://github.com/canada-ca/template-gabarit\n\n\n\nSpend some time exploring this repo.\nCan make a PR or open an issue if they want to contribute.\nGitHub as a publishing platform."
  },
  {
    "objectID": "git-github.html#choose-a-license",
    "href": "git-github.html#choose-a-license",
    "title": "Version Control with Git and Collaboration with GitHub",
    "section": "Choose a license",
    "text": "Choose a license\nFor work\n\nBy default, a project without an open source licence applied to it would only be released under the Crown Copyright.\n\n\nMIT is a good, permissive license for most projects\nApache 2.0 is similar, but adds an explicit patent grant\n\nusethis::use_mit_license(\n  copyright_holder = \"His Majesty the King in Right of Canada, as represented by the Minister responsible for Parks Canada Agency\"\n)\nFor personal projects\nusethis::use_mit_license(\n  copyright_holder = \"Andy Teucher\"\n)\n\nhttps://github.com/canada-ca/open-source-logiciel-libre/blob/master/en/guides/publishing-open-source-code.md#select-open-source-software-licence\n\n\n\nShow text of license\nExplain I own the copyright, but anyone is free to borrow/use/modify it."
  },
  {
    "objectID": "git-github.html#your-turn-2",
    "href": "git-github.html#your-turn-2",
    "title": "Version Control with Git and Collaboration with GitHub",
    "section": "Your turn",
    "text": "Your turn\nAdd a license to your repo via a pull request"
  },
  {
    "objectID": "git-github.html#when-your-pat-expires",
    "href": "git-github.html#when-your-pat-expires",
    "title": "Version Control with Git and Collaboration with GitHub",
    "section": "When your PAT expires",
    "text": "When your PAT expires\nPersonal Access Tokens (PATs) have an expiration date for security reasons.\n\nGitHub will email you before your token expires\nAfter expiration, you won‚Äôt be able to push/pull from GitHub\nYou‚Äôll see authentication errors like:\n\nremote: Invalid username or password\nfatal: Authentication failed\n\n\n\nDon‚Äôt panic! It‚Äôs easy to fix."
  },
  {
    "objectID": "git-github.html#step-1-regenerate-your-pat",
    "href": "git-github.html#step-1-regenerate-your-pat",
    "title": "Version Control with Git and Collaboration with GitHub",
    "section": "Step 1: Regenerate your PAT",
    "text": "Step 1: Regenerate your PAT\nNavigate to your GitHub tokens page:\n\nGo to github.com and sign in\nClick your profile picture (top right) ‚Üí Settings\nScroll down and click Developer settings (bottom of left sidebar)\nClick Personal access tokens ‚Üí Tokens (classic)"
  },
  {
    "objectID": "git-github.html#section",
    "href": "git-github.html#section",
    "title": "Version Control with Git and Collaboration with GitHub",
    "section": "",
    "text": "Then, regenerate the token:\n\nFind your expired (or soon-to-expire) token in the list\nClick on the token name to view its details\nClick ‚ÄúRegenerate token‚Äù at the bottom\nUpdate the expiration date (consider 180 days or 1 year)\nClick ‚ÄúRegenerate token‚Äù to confirm\nCopy the new token immediately - you won‚Äôt be able to see it again!\n\n\nRegenerating keeps the same token name and scopes, but gives you a new token value with an updated expiry date."
  },
  {
    "objectID": "git-github.html#step-2-replace-the-old-pat",
    "href": "git-github.html#step-2-replace-the-old-pat",
    "title": "Version Control with Git and Collaboration with GitHub",
    "section": "Step 2: Replace the old PAT",
    "text": "Step 2: Replace the old PAT\nStore the new token using gitcreds:\ngitcreds::gitcreds_set()\n\nWhen prompted:\n-&gt; Your current credentials for 'https://github.com':\n\n  protocol: https\n  host    : github.com\n  username: PersonalAccessToken\n  password: &lt;-- hidden --&gt;\n\n-&gt; What would you like to do? \n\n1: Keep these credentials\n2: Replace these credentials\n3: See the password / token\n\nSelection: 2\n\n\nChoose 2: Replace these credentials and paste your new PAT"
  },
  {
    "objectID": "git-github.html#step-3-verify-it-worked",
    "href": "git-github.html#step-3-verify-it-worked",
    "title": "Version Control with Git and Collaboration with GitHub",
    "section": "Step 3: Verify it worked",
    "text": "Step 3: Verify it worked\nCheck your Git setup:\nusethis::git_sitrep()\n\nLook for this line:\n‚Ä¢ Personal access token for 'https://github.com': '&lt;discovered&gt;'\n\n\nSuccess! You should now be able to push and pull from GitHub again.\n\n\nIf you see &lt;not found&gt; instead of &lt;discovered&gt;, try running gitcreds::gitcreds_set() again and make sure you copied the entire token."
  },
  {
    "objectID": "git-github.html#pro-tips",
    "href": "git-github.html#pro-tips",
    "title": "Version Control with Git and Collaboration with GitHub",
    "section": "Pro tips",
    "text": "Pro tips\n\nStore your PAT securely in a password manager (1Password, Bitwarden, etc.)\nConsider longer expiration periods for tokens you use regularly (180 days, 1 year)\nCreate multiple PATs for different machines/purposes\n\nMakes it easier to revoke access to a specific machine if needed\nHelps you track which device is having authentication issues"
  },
  {
    "objectID": "data-manipulation.html#schedule",
    "href": "data-manipulation.html#schedule",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Schedule",
    "text": "Schedule\n\n\n\nPacific Time\nEastern Time\nDuration\n\n\n\n\n09:00 - 10:20\n12:00 ‚Äì 13:20\n80 min\n\n\nBreak\nBreak\n15 min\n\n\n10:35 ‚Äì 11:55\n13:35 ‚Äì 14:55\n80 min\n\n\nBreak\nBreak\n15 min\n\n\n12:10 ‚Äì 13:30\n15:10 ‚Äì 16:30\n80 min"
  },
  {
    "objectID": "data-manipulation.html#outline",
    "href": "data-manipulation.html#outline",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Outline",
    "text": "Outline\n\n\nToday\n\ndplyr fundamentals review\nColumn-wise operations\nTwo-table verbs (joins)\nData reshaping with tidyr\nProgramming with R - Functions\n\n\nNext time\n\nProgramming with R - iteration\nReproducible reporing with Quarto"
  },
  {
    "objectID": "data-manipulation.html#data",
    "href": "data-manipulation.html#data",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Data",
    "text": "Data\nUsing data from the Portal Project\nLong-term ecological research site studying the dynamics of desert rodents, plants, ants and weather in Arizona.\nData available from the GitHub repo via the portalr package."
  },
  {
    "objectID": "data-manipulation.html#setup",
    "href": "data-manipulation.html#setup",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Setup",
    "text": "Setup\n\nCreate a new project in Positron\n\n\nEither:\n\nFork and clone the exercises repository:\nhttps://github.com/ateucher/pc-data-manipulation/ OR\nRun:\n\nusethis::use_course(\"https://github.com/ateucher/pc-data-manipulation/archive/refs/heads/main.zip\")\n\n\nOpen the file: 01-get-data.R\nDownload the data:\n\n\ninstall.packages(\"portalr\")\nlibrary(portalr)\n\ndownload_observations(\".\")\n\n\nExplore the downloaded data in Positron"
  },
  {
    "objectID": "data-manipulation.html#warm-up",
    "href": "data-manipulation.html#warm-up",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Warm-up",
    "text": "Warm-up\nRead in the rodent capture data (PortalData/Rodents/Portal_rodent.csv).\n\nUse readr::read_csv() and assign it to a data frame called rodents.\nStandardize column names to use snake_case (hint: check out the janitor package)"
  },
  {
    "objectID": "data-manipulation.html#review-of-main-dplyr-operations",
    "href": "data-manipulation.html#review-of-main-dplyr-operations",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Review of main dplyr operations",
    "text": "Review of main dplyr operations\n\nSelect columns with select()\nKeep rows based on their values with filter()\nCreate new columns with mutate()\nSummarize data with summarize()\nSort rows based on column values with arrange()\n‚ÄúSlice‚Äù rows with slice()/slice_*()\n\n\n\nGrouping data with group_by() applies filter(), mutate(), summarize(), and slice() by group"
  },
  {
    "objectID": "data-manipulation.html#using-select",
    "href": "data-manipulation.html#using-select",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Using select()",
    "text": "Using select()\n\n\nSelect columns with bare names\n\nlibrary(dplyr)\n\npenguins |&gt;\n  select(species, island, body_mass_g)\n\n\n\n# A tibble: 344 √ó 3\n  species island    body_mass_g\n  &lt;fct&gt;   &lt;fct&gt;           &lt;int&gt;\n1 Adelie  Torgersen        3750\n2 Adelie  Torgersen        3800\n3 Adelie  Torgersen        3250\n4 Adelie  Torgersen          NA\n5 Adelie  Torgersen        3450\n# ‚Ñπ 339 more rows\n\n\n\n\nUse all_of() or any_of() to select columns from a character vector\n\nall_of(): throws an error if any names are not found\nany_of(): ignores names that are not found\n\n\ncols &lt;- c(\"species\", \"sex\", \"bill_length_mm\", \"bill_depth_mm\")\nselect(penguins, all_of(cols))\n\n\n\n# A tibble: 344 √ó 4\n  species sex    bill_length_mm bill_depth_mm\n  &lt;fct&gt;   &lt;fct&gt;           &lt;dbl&gt;         &lt;dbl&gt;\n1 Adelie  male             39.1          18.7\n2 Adelie  female           39.5          17.4\n3 Adelie  female           40.3          18  \n4 Adelie  &lt;NA&gt;             NA            NA  \n5 Adelie  female           36.7          19.3\n# ‚Ñπ 339 more rows\n\n\n\n\n\nYour turn: Select record_id, id, and species from rodents"
  },
  {
    "objectID": "data-manipulation.html#selection-helpers",
    "href": "data-manipulation.html#selection-helpers",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "selection helpers",
    "text": "selection helpers\n\n\nselect specific columns:\n\neverything(): Matches all variables.\nlast_col(): Select last variable, possibly with an offset.\ngroup_cols(): Select all grouping columns.\n\n\nselect columns based on name patterns:\n\nstarts_with(): Starts with a prefix.\nends_with(): Ends with a suffix.\ncontains(): Contains a literal string.\nmatches(): Matches a regular expression.\n\nselect columns based on data type:\n\nwhere(): Select columns based on a predicate function (a function that returns TRUE or FALSE).\n\n\nSee help with ?select\n\n\neverything() is useful when you want to move a column to the front or back of the data frame.\nSelection helpers can be combined using c(), e.g., select(df, c(starts_with(\"temp\"), ends_with(\"date\")))"
  },
  {
    "objectID": "data-manipulation.html#your-turn",
    "href": "data-manipulation.html#your-turn",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Your turn",
    "text": "Your turn\nUsing the rodents data.frame:\n\nSelect the id column and all of the numeric columns\nSelect all columns except the columns starting with \"note\"\nReorder the columns, moving the last column to the first position, without specifying any column names"
  },
  {
    "objectID": "data-manipulation.html#using-filter",
    "href": "data-manipulation.html#using-filter",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Using filter()",
    "text": "Using filter()\nTo retain only a subset of rows:\n\nfilter(penguins, species == \"Adelie\")\n\n# A tibble: 152 √ó 8\n  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g sex     year\n  &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt; &lt;fct&gt;  &lt;int&gt;\n1 Adelie  Torgersen           39.1          18.7               181        3750 male    2007\n2 Adelie  Torgersen           39.5          17.4               186        3800 female  2007\n3 Adelie  Torgersen           40.3          18                 195        3250 female  2007\n4 Adelie  Torgersen           NA            NA                  NA          NA &lt;NA&gt;    2007\n5 Adelie  Torgersen           36.7          19.3               193        3450 female  2007\n# ‚Ñπ 147 more rows"
  },
  {
    "objectID": "data-manipulation.html#combine-multiple-filter-conditions-with-or-and-and-or",
    "href": "data-manipulation.html#combine-multiple-filter-conditions-with-or-and-and-or",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Combine multiple filter() conditions with , or & (AND) and | (OR):",
    "text": "Combine multiple filter() conditions with , or & (AND) and | (OR):\n\nfilter(penguins, species == \"Adelie\", island == \"Torgersen\")\n\n# A tibble: 52 √ó 8\n  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g sex     year\n  &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt; &lt;fct&gt;  &lt;int&gt;\n1 Adelie  Torgersen           39.1          18.7               181        3750 male    2007\n2 Adelie  Torgersen           39.5          17.4               186        3800 female  2007\n3 Adelie  Torgersen           40.3          18                 195        3250 female  2007\n4 Adelie  Torgersen           NA            NA                  NA          NA &lt;NA&gt;    2007\n5 Adelie  Torgersen           36.7          19.3               193        3450 female  2007\n# ‚Ñπ 47 more rows\n\n\n\n\nfilter(penguins, species == \"Adelie\" | (species == \"Gentoo\" & body_mass_g &lt; 4000))\n\n# A tibble: 153 √ó 8\n  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g sex     year\n  &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt; &lt;fct&gt;  &lt;int&gt;\n1 Adelie  Torgersen           39.1          18.7               181        3750 male    2007\n2 Adelie  Torgersen           39.5          17.4               186        3800 female  2007\n3 Adelie  Torgersen           40.3          18                 195        3250 female  2007\n4 Adelie  Torgersen           NA            NA                  NA          NA &lt;NA&gt;    2007\n5 Adelie  Torgersen           36.7          19.3               193        3450 female  2007\n# ‚Ñπ 148 more rows\n\n\n\nlive code these"
  },
  {
    "objectID": "data-manipulation.html#using-mutate",
    "href": "data-manipulation.html#using-mutate",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Using mutate()",
    "text": "Using mutate()\nCreate new columns or modify existing columns:\n\nmutate(penguins, mass_kg = body_mass_g / 1000)\n\n# A tibble: 344 √ó 9\n  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g sex     year mass_kg\n  &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt; &lt;fct&gt;  &lt;int&gt;   &lt;dbl&gt;\n1 Adelie  Torgersen           39.1          18.7               181        3750 male    2007    3.75\n2 Adelie  Torgersen           39.5          17.4               186        3800 female  2007    3.8 \n3 Adelie  Torgersen           40.3          18                 195        3250 female  2007    3.25\n4 Adelie  Torgersen           NA            NA                  NA          NA &lt;NA&gt;    2007   NA   \n5 Adelie  Torgersen           36.7          19.3               193        3450 female  2007    3.45\n# ‚Ñπ 339 more rows\n\n\n\nCreate multiple columns in one mutate call:\n\nmutate(\n  penguins,\n  mass_kg = body_mass_g / 1000,\n  bill_ratio = bill_length_mm / bill_depth_mm\n)\n\n# A tibble: 344 √ó 10\n  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g sex     year mass_kg bill_ratio\n  &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt; &lt;fct&gt;  &lt;int&gt;   &lt;dbl&gt;      &lt;dbl&gt;\n1 Adelie  Torgersen           39.1          18.7               181        3750 male    2007    3.75       2.09\n2 Adelie  Torgersen           39.5          17.4               186        3800 female  2007    3.8        2.27\n3 Adelie  Torgersen           40.3          18                 195        3250 female  2007    3.25       2.24\n4 Adelie  Torgersen           NA            NA                  NA          NA &lt;NA&gt;    2007   NA         NA   \n5 Adelie  Torgersen           36.7          19.3               193        3450 female  2007    3.45       1.90\n# ‚Ñπ 339 more rows\n\n\n\n\nlive code these"
  },
  {
    "objectID": "data-manipulation.html#the-pipe",
    "href": "data-manipulation.html#the-pipe",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "The pipe ( |> )",
    "text": "The pipe ( |&gt; )\nThe pipe operator (|&gt;) passes the output of one function as the first argument to the next function. It allows us to chain together multiple operations in a readable way.\n\n\nHelps avoid deeply nested function calls, which are hard to read.\n\nfilter(select(penguins, species, island, body_mass_g), body_mass_g &gt; 4000)\n\n\n\nHelps avoid creating many intermediate variables.\n\nselected_data &lt;- select(penguins, species, island, body_mass_g)\nfiltered_data &lt;- filter(selected_data, body_mass_g &gt; 4000)\n\n\nRead it out loud as ‚Äúand then‚Äù\n\npenguins |&gt; # and then\n  select(species, island, body_mass_g) |&gt; # and then\n  filter(body_mass_g &gt; 4000)\n\n# A tibble: 172 √ó 3\n  species island    body_mass_g\n  &lt;fct&gt;   &lt;fct&gt;           &lt;int&gt;\n1 Adelie  Torgersen        4675\n2 Adelie  Torgersen        4250\n3 Adelie  Torgersen        4400\n4 Adelie  Torgersen        4500\n5 Adelie  Torgersen        4200\n# ‚Ñπ 167 more rows"
  },
  {
    "objectID": "data-manipulation.html#using-group_by",
    "href": "data-manipulation.html#using-group_by",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Using group_by()",
    "text": "Using group_by()\nAdd grouping attributes that tell other dplyr functions to operate by group:\n\npenguins |&gt;\n  select(species, island, body_mass_g) |&gt;\n  filter(body_mass_g &gt; 4000) |&gt;\n  group_by(species, island)\n\n# A tibble: 172 √ó 3\n# Groups:   species, island [5]\n  species island    body_mass_g\n  &lt;fct&gt;   &lt;fct&gt;           &lt;int&gt;\n1 Adelie  Torgersen        4675\n2 Adelie  Torgersen        4250\n3 Adelie  Torgersen        4400\n4 Adelie  Torgersen        4500\n5 Adelie  Torgersen        4200\n# ‚Ñπ 167 more rows"
  },
  {
    "objectID": "data-manipulation.html#using-summarize",
    "href": "data-manipulation.html#using-summarize",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Using summarize()",
    "text": "Using summarize()\nCreates one summary row per unique combination of groups:\n\npenguins |&gt;\n  select(species, island, body_mass_g) |&gt;\n  filter(body_mass_g &gt; 4000) |&gt;\n  group_by(species, island) |&gt;\n  summarise(sd_mass = sd(body_mass_g, na.rm = TRUE))\n\n# A tibble: 5 √ó 3\n# Groups:   species [3]\n  species   island    sd_mass\n  &lt;fct&gt;     &lt;fct&gt;       &lt;dbl&gt;\n1 Adelie    Biscoe       268.\n2 Adelie    Dream        170.\n3 Adelie    Torgersen    191.\n4 Chinstrap Dream        230.\n5 Gentoo    Biscoe       496."
  },
  {
    "objectID": "data-manipulation.html#your-turn---pulling-it-all-together",
    "href": "data-manipulation.html#your-turn---pulling-it-all-together",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Your turn - pulling it all together",
    "text": "Your turn - pulling it all together\nUsing the rodents data set find the mean hindfoot length per weight of Merriam‚Äôs Kangaroo Rats (\"DM\") grouped by plot and arranged by thew new hfl per weight column."
  },
  {
    "objectID": "data-manipulation.html#dplyr-practice",
    "href": "data-manipulation.html#dplyr-practice",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "dplyr practice",
    "text": "dplyr practice\n\n\n\nRemove records from invalid sampling periods (when period is negative). Re-assign the result to the rodents data frame.\nHow many individuals of each species were caught in 1995?\nWhat date had the highest number of individual rodents caught?\n\n\n\nKey columns\n\nid = individual identifier\nday, month, year = date of capture\nperiod = sampling period\nspecies = species code\nwgt = weight (grams)\nyear = year of capture"
  },
  {
    "objectID": "data-manipulation.html#dplyr-practice-1",
    "href": "data-manipulation.html#dplyr-practice-1",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "dplyr practice",
    "text": "dplyr practice\n\n\n\nFor each capture record, calculate the percent difference in weight from the average weight of that species.\nOf all individual Ord‚Äôs Kangaroo Rats (species code ‚ÄúDO‚Äù) that have been caught more than 5 times, which individual was consistently the biggest? (i.e., has the highest average percent difference in weight from the species‚Äô average weight)?\n\n\n\nKey columns\n\nid = individual identifier\nday, month, year = date of capture\nperiod = sampling period\nspecies = species code\nwgt = weight (grams)\nyear = year of capture"
  },
  {
    "objectID": "data-manipulation.html#column-wise-operations",
    "href": "data-manipulation.html#column-wise-operations",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Column-wise operations",
    "text": "Column-wise operations\n\n\nApply one or more functions to a set of columns in a data frame using across()\n\nacross(&lt;columns&gt;, &lt;functions&gt;)\n\nSpecify columns using a vector of names or selection helpers (e.g., starts_with(), ends_with(), contains(), where(), etc.)\nSpecify function(s) to apply to selected columns\nUsed with summarize() & mutate()\n\n\nExample: calculate mean of all numeric columns\n\nlibrary(dplyr)\n\nmtcars |&gt;\n  group_by(cyl) |&gt;\n  summarize(across(where(is.numeric), mean))\n\n\n\nSelection syntax is the same as in select(), i.e., using the same selection helpers\nWe are passing the function mean to across(), not calling it (i.e., no parentheses). Functions in R are objects that can be passed around and used later."
  },
  {
    "objectID": "data-manipulation.html#your-turn-1",
    "href": "data-manipulation.html#your-turn-1",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Your turn",
    "text": "Your turn\n\nScale hfl and wgt (use across()) in rodents to have mean 0 and standard deviation 1. (Hint: Check out the scale() function)\nBonus: Use the .names argument to keep the original columns and give the new columns a sensible name\nSee help with ?across"
  },
  {
    "objectID": "data-manipulation.html#column-wise-operations-1",
    "href": "data-manipulation.html#column-wise-operations-1",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Column-wise operations",
    "text": "Column-wise operations\nSpecify multiple functions to apply to selected in a named list()\n\n\nExample: calculate mean and sd of all numeric columns\n\nlibrary(dplyr)\nmtcars |&gt;\n  group_by(cyl) |&gt;\n  summarize(\n    across(where(is.numeric), list(mean = mean, sd = sd))\n  )\n\n\n\n# A tibble: 3 √ó 21\n    cyl mpg_mean mpg_sd disp_mean disp_sd hp_mean hp_sd drat_mean drat_sd wt_mean wt_sd qsec_mean qsec_sd\n  &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;\n1     4     26.7   4.51      105.    26.9    82.6  20.9      4.07   0.365    2.29 0.570      19.1    1.68\n2     6     19.7   1.45      183.    41.6   122.   24.3      3.59   0.476    3.12 0.356      18.0    1.71\n3     8     15.1   2.56      353.    67.8   209.   51.0      3.23   0.372    4.00 0.759      16.8    1.20\n# ‚Ñπ 8 more variables: vs_mean &lt;dbl&gt;, vs_sd &lt;dbl&gt;, am_mean &lt;dbl&gt;, am_sd &lt;dbl&gt;, gear_mean &lt;dbl&gt;, gear_sd &lt;dbl&gt;,\n#   carb_mean &lt;dbl&gt;, carb_sd &lt;dbl&gt;\n\n\n\n\nhttps://tidyselect.r-lib.org/reference/language.html"
  },
  {
    "objectID": "data-manipulation.html#column-wise-operations-2",
    "href": "data-manipulation.html#column-wise-operations-2",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Column-wise operations",
    "text": "Column-wise operations\nRun this in your R session, what do you get?\n\nlibrary(dplyr)\npenguins |&gt;\n  summarize(\n    across(where(is.numeric), list(mean = mean, sd = sd))\n  )\n\n\n\n# A tibble: 1 √ó 10\n  bill_length_mm_mean bill_length_mm_sd bill_depth_mm_mean bill_depth_mm_sd flipper_length_mm_mean\n                &lt;dbl&gt;             &lt;dbl&gt;              &lt;dbl&gt;            &lt;dbl&gt;                  &lt;dbl&gt;\n1                  NA                NA                 NA               NA                     NA\n# ‚Ñπ 5 more variables: flipper_length_mm_sd &lt;dbl&gt;, body_mass_g_mean &lt;dbl&gt;, body_mass_g_sd &lt;dbl&gt;,\n#   year_mean &lt;dbl&gt;, year_sd &lt;dbl&gt;\n\n\n\n\n\nWhen we use a function in across() it is called with its default arguments\n\nmean() and sd() both have an argument na.rm that defaults to FALSE\n\nWe can‚Äôt pass extra arguments to functions inside across() directly\nWe need to specify a function with the argument values we want ‚Äúbaked in‚Äù\n\n\n\nhttps://tidyselect.r-lib.org/reference/language.html"
  },
  {
    "objectID": "data-manipulation.html#specifying-extra-arguments",
    "href": "data-manipulation.html#specifying-extra-arguments",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Specifying extra arguments",
    "text": "Specifying extra arguments\nWe can define our own helper functions:\n\nlibrary(dplyr)\n\nsd_na &lt;- function(x) {\n  sd(x, na.rm = TRUE)\n}\n\nmean_na &lt;- function(x) {\n  mean(x, na.rm = TRUE)\n}\n\npenguins |&gt;\n  summarize(\n    across(where(is.numeric), list(mean = mean_na, sd = sd_na))\n  )\n\n\n\n# A tibble: 1 √ó 10\n  bill_length_mm_mean bill_length_mm_sd bill_depth_mm_mean bill_depth_mm_sd flipper_length_mm_mean\n                &lt;dbl&gt;             &lt;dbl&gt;              &lt;dbl&gt;            &lt;dbl&gt;                  &lt;dbl&gt;\n1                43.9              5.46               17.2             1.97                   201.\n# ‚Ñπ 5 more variables: flipper_length_mm_sd &lt;dbl&gt;, body_mass_g_mean &lt;dbl&gt;, body_mass_g_sd &lt;dbl&gt;,\n#   year_mean &lt;dbl&gt;, year_sd &lt;dbl&gt;\n\n\n\nLive code this"
  },
  {
    "objectID": "data-manipulation.html#specifying-extra-arguments-1",
    "href": "data-manipulation.html#specifying-extra-arguments-1",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Specifying extra arguments",
    "text": "Specifying extra arguments\nBut if we‚Äôre doing this only once we can define them in place with an anonymous function:\n\\(x) function(x, other_args)\n\n\\(x) is shorthand for function(x), used for anonymous functions\nThis defines a function ‚Äúon the fly‚Äù with the arguments specified how we want\nThe x will take the values of each column passed to it by across()\n\n\nlibrary(dplyr)\n\npenguins |&gt;\n  summarize(\n    across(\n      where(is.numeric),\n      list(\n        mean = \\(x) mean(x, na.rm = TRUE),\n        sd = \\(x) sd(x, na.rm = TRUE)\n      )\n    )\n  )\n\n\n\n# A tibble: 1 √ó 10\n  bill_length_mm_mean bill_length_mm_sd bill_depth_mm_mean bill_depth_mm_sd flipper_length_mm_mean\n                &lt;dbl&gt;             &lt;dbl&gt;              &lt;dbl&gt;            &lt;dbl&gt;                  &lt;dbl&gt;\n1                43.9              5.46               17.2             1.97                   201.\n# ‚Ñπ 5 more variables: flipper_length_mm_sd &lt;dbl&gt;, body_mass_g_mean &lt;dbl&gt;, body_mass_g_sd &lt;dbl&gt;,\n#   year_mean &lt;dbl&gt;, year_sd &lt;dbl&gt;\n\n\n\nLive code this"
  },
  {
    "objectID": "data-manipulation.html#your-turn-2",
    "href": "data-manipulation.html#your-turn-2",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Your turn",
    "text": "Your turn\n\nCalculate maximum of all bill measurements for each species in the built-in penguins dataset.\nCalculate the median of hind-foot length (hfl) and weight (wgt) for each species in rodents, ignoring NA values."
  },
  {
    "objectID": "data-manipulation.html#two-table-verbs-joins",
    "href": "data-manipulation.html#two-table-verbs-joins",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Two-table verbs (joins)",
    "text": "Two-table verbs (joins)\n\n\n\n\nMutating joins\n\nCombine two tables based on common values in one or more columns\n\nFiltering joins\n\nFilter rows from one table based on values in another table\n\n\n\nhttps://r4ds.hadley.nz/joins.html#how-do-joins-work"
  },
  {
    "objectID": "data-manipulation.html#mutating-joins-1",
    "href": "data-manipulation.html#mutating-joins-1",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Mutating joins",
    "text": "Mutating joins\n\n\nleft_join()\n\nKeeps all rows in the left table\nDrops rows from the right table that don‚Äôt match\nRows in the left that don‚Äôt match get NA in the columns from the right table\n\n\n\n\n\nhttps://r4ds.hadley.nz/joins.html#how-do-joins-work"
  },
  {
    "objectID": "data-manipulation.html#mutating-joins-2",
    "href": "data-manipulation.html#mutating-joins-2",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Mutating joins",
    "text": "Mutating joins\n\n\nright_join()\n\nKeeps all rows in the right table\nDrops rows from the left table that don‚Äôt match\nRows in the right table that don‚Äôt match get NA in the columns from the left table\n\n\n\n\n\nhttps://r4ds.hadley.nz/joins.html#how-do-joins-work"
  },
  {
    "objectID": "data-manipulation.html#mutating-joins-3",
    "href": "data-manipulation.html#mutating-joins-3",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Mutating joins",
    "text": "Mutating joins\n\n\ninner_join()\n\nKeeps all rows in both tables where keys match\nRows from either table that don‚Äôt match are dropped\n\n\n\n\n\nhttps://r4ds.hadley.nz/joins.html#how-do-joins-work"
  },
  {
    "objectID": "data-manipulation.html#mutating-joins-4",
    "href": "data-manipulation.html#mutating-joins-4",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Mutating joins",
    "text": "Mutating joins\n\n\nfull_join()\n\nKeeps all rows in both tables\nValues in x and y that don‚Äôt match get NA in the result\n\n\n\n\n\nhttps://r4ds.hadley.nz/joins.html#how-do-joins-work"
  },
  {
    "objectID": "data-manipulation.html#join-syntax",
    "href": "data-manipulation.html#join-syntax",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Join syntax",
    "text": "Join syntax\nIf don‚Äôt specify join columns, will join on all common names\n\nE.g., both tables have columns year, month, day\n\nleft_join(x, y)\n#&gt; Joining with `by = join_by(year, month, day)`\n\nBetter to specify the join columns explicitly\n\nBoth tables have columns column_1 and column_2\n\nleft_join(x, y, by = c(\"column_1\", \"column_2\"))\n\nIf the columns to join on have different names in each table\n\nleft_join(x, y, by = c(\"column_in_x\" = \"column_in_y\"))"
  },
  {
    "objectID": "data-manipulation.html#your-turn-3",
    "href": "data-manipulation.html#your-turn-3",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Your turn",
    "text": "Your turn\nUse a join to add location information to the rodent captures data\n\nWhat kind of join would be appropriate here?\n\n\nThe rodent captures data is in the PortalData/Rodents/Portal_rodent.csv file.\nThe SiteandMethods/Portal_UTMCoords.csv file contains information about the location of each plot"
  },
  {
    "objectID": "data-manipulation.html#filtering-joins-1",
    "href": "data-manipulation.html#filtering-joins-1",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Filtering joins",
    "text": "Filtering joins\n\n\nsemi_join()\n\nKeeps all rows in the left table where there are matching key values in the right table\nDoes not add any columns"
  },
  {
    "objectID": "data-manipulation.html#filtering-joins-2",
    "href": "data-manipulation.html#filtering-joins-2",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Filtering joins",
    "text": "Filtering joins\n\n\nanti_join()\n\nKeeps all rows in the left table where there are not matching values in the right table\nDoes not add any columns"
  },
  {
    "objectID": "data-manipulation.html#your-turn-4",
    "href": "data-manipulation.html#your-turn-4",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Your turn",
    "text": "Your turn\nUse a join to find all the captures where the species is a granivore\n\nThe rodent captures data is in the PortalData/Rodents/Portal_rodent.csv file\nThe PortalData/Rodents/Portal_rodent_species.csv file contains information about the species"
  },
  {
    "objectID": "data-manipulation.html#more-complex-joins-using-dplyrjoin_by.",
    "href": "data-manipulation.html#more-complex-joins-using-dplyrjoin_by.",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "More complex joins using dplyr::join_by().",
    "text": "More complex joins using dplyr::join_by().\nCross joins create the full cartesian product of two tables\n\n\nlibrary(dplyr)\nx &lt;- data.frame(a = 1:3)\ny &lt;- data.frame(b = c(\"x\", \"y\"))\ncross_join(x, y)\n\n\n  a b\n1 1 x\n2 1 y\n3 2 x\n4 2 y\n5 3 x\n6 3 y\n\n\n\nInequality joins\nleft_join(x, y, by = join_by(column_1 &gt;= column_2))\n\n\n\nRolling joins (inequality joins constrained by closest())\nleft_join(\n    x, y, \n    by = join_by(id, closest(capture_date &gt;= survey_start_date))\n)\nRolling joins are good for finding things like ‚Äúthe most recent rainy day before a survey date‚Äù\n\n\nI haven‚Äôt found a good reason to use inequality joins, but they are a necessary precursor to rolling joins, which are very useful."
  },
  {
    "objectID": "data-manipulation.html#overlap-joins",
    "href": "data-manipulation.html#overlap-joins",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Overlap joins",
    "text": "Overlap joins\n\n\nbetween(x, y_1, y_2)\nwithin(x_1, x_2, y_1, y_2)\noverlaps(x_1, x_2, y_1, y_2)\n\nbetween(x, y_1, y_2):\n\n  y_1 [‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê] y_2\n         ‚Ä¢\n         x\n\n\nwithin(x_1, x_2, y_1, y_2):\n\n  y_1 [‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê] y_2\n         [‚ïê‚ïê‚ïê‚ïê‚ïê]\n       x_1     x_2\n\n\noverlaps(x_1, x_2, y_1, y_2):\n\n  y_1 [‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê] y_2\n                   [‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê] \n                 x_1             x_2\n\n\nhttps://dplyr.tidyverse.org/reference/join_by.html#join-types"
  },
  {
    "objectID": "data-manipulation.html#your-turn-5",
    "href": "data-manipulation.html#your-turn-5",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Your turn",
    "text": "Your turn\nUsing the rodent trapping data and the plant census dates data, join the two datasets to find out which plant census (year and season) each rodent capture is associated with.\nStarting code:\nlibrary(dplyr)\nlibrary(readr)\nlibrary(lubridate)\n\nplant_census_dates &lt;- read_csv(\n  \"PortalData/Plants/Portal_plant_census_dates.csv\",\n  na = c(\"unknown\", \"none\")\n)\n\nrodent_trapping &lt;- read_csv(\"PortalData/Rodents/Portal_rodent_trapping.csv\")\n\nHint: use an overlap join with between()"
  },
  {
    "objectID": "data-manipulation.html#what-is-tidy-data",
    "href": "data-manipulation.html#what-is-tidy-data",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "What is tidy data?",
    "text": "What is tidy data?\n\nEach variable is a column; each column is a variable.\nEach observation is a row; each row is an observation.\nEach value is a cell; each cell is a single value."
  },
  {
    "objectID": "data-manipulation.html#wide-vs.-long-tidy-data",
    "href": "data-manipulation.html#wide-vs.-long-tidy-data",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Wide vs.¬†long (tidy) data",
    "text": "Wide vs.¬†long (tidy) data\n\nWide data often has ‚Äúdata‚Äù stored in the column names\n\nExample: dates, treatment groups, measurement types\n\n\n\n\n\n\n\n\n\nsubject\ntreatment_A\ntreatment_B\n\n\n\n\n1\n5\n7\n\n\n2\n6\n8\n\n\n\n\n\n\n\n\n\n\n\n\nsubject\ntreatment\nvalue\n\n\n\n\n1\nA\n5\n\n\n1\nB\n7\n\n\n2\nA\n6\n\n\n2\nB\n8\n\n\n\n\n\n\n\n\n\n\n\n\n\nid\n20250101\n20250201\n\n\n\n\n1\n150\n165\n\n\n2\n125\n118\n\n\n\n\n\n\nDates are stored in the column names\nValues are masses (in grams).\n\n\n\n\n\n\n\n\nid\ndate\nmass\n\n\n\n\n1\n2025-01-01\n150\n\n\n1\n2025-02-01\n165\n\n\n2\n2025-01-01\n125\n\n\n2\n2025-02-01\n118\n\n\n\n\n\n\n\n\n\nEach row has more than one observation (more than one time, place, or subject)\nVariables split across multiple columns\n\nEg., what if we wanted to the get the mean mass per subject?\n\nSecond example - we hopefully have metadata that tells us that the values are masses (in grams)"
  },
  {
    "objectID": "data-manipulation.html#example---billboard-data",
    "href": "data-manipulation.html#example---billboard-data",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Example - billboard data",
    "text": "Example - billboard data\n\nlibrary(tidyr)\nbillboard\n\n# A tibble: 317 √ó 79\n  artist      track date.entered   wk1   wk2   wk3   wk4   wk5   wk6   wk7   wk8   wk9  wk10  wk11  wk12  wk13\n  &lt;chr&gt;       &lt;chr&gt; &lt;date&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 2 Pac       Baby‚Ä¶ 2000-02-26      87    82    72    77    87    94    99    NA    NA    NA    NA    NA    NA\n2 2Ge+her     The ‚Ä¶ 2000-09-02      91    87    92    NA    NA    NA    NA    NA    NA    NA    NA    NA    NA\n3 3 Doors Do‚Ä¶ Kryp‚Ä¶ 2000-04-08      81    70    68    67    66    57    54    53    51    51    51    51    47\n4 3 Doors Do‚Ä¶ Loser 2000-10-21      76    76    72    69    67    65    55    59    62    61    61    59    61\n5 504 Boyz    Wobb‚Ä¶ 2000-04-15      57    34    25    17    17    31    36    49    53    57    64    70    75\n# ‚Ñπ 312 more rows\n# ‚Ñπ 63 more variables: wk14 &lt;dbl&gt;, wk15 &lt;dbl&gt;, wk16 &lt;dbl&gt;, wk17 &lt;dbl&gt;, wk18 &lt;dbl&gt;, wk19 &lt;dbl&gt;, wk20 &lt;dbl&gt;,\n#   wk21 &lt;dbl&gt;, wk22 &lt;dbl&gt;, wk23 &lt;dbl&gt;, wk24 &lt;dbl&gt;, wk25 &lt;dbl&gt;, wk26 &lt;dbl&gt;, wk27 &lt;dbl&gt;, wk28 &lt;dbl&gt;,\n#   wk29 &lt;dbl&gt;, wk30 &lt;dbl&gt;, wk31 &lt;dbl&gt;, wk32 &lt;dbl&gt;, wk33 &lt;dbl&gt;, wk34 &lt;dbl&gt;, wk35 &lt;dbl&gt;, wk36 &lt;dbl&gt;,\n#   wk37 &lt;dbl&gt;, wk38 &lt;dbl&gt;, wk39 &lt;dbl&gt;, wk40 &lt;dbl&gt;, wk41 &lt;dbl&gt;, wk42 &lt;dbl&gt;, wk43 &lt;dbl&gt;, wk44 &lt;dbl&gt;,\n#   wk45 &lt;dbl&gt;, wk46 &lt;dbl&gt;, wk47 &lt;dbl&gt;, wk48 &lt;dbl&gt;, wk49 &lt;dbl&gt;, wk50 &lt;dbl&gt;, wk51 &lt;dbl&gt;, wk52 &lt;dbl&gt;,\n#   wk53 &lt;dbl&gt;, wk54 &lt;dbl&gt;, wk55 &lt;dbl&gt;, wk56 &lt;dbl&gt;, wk57 &lt;dbl&gt;, wk58 &lt;dbl&gt;, wk59 &lt;dbl&gt;, wk60 &lt;dbl&gt;, ‚Ä¶\n\n\n\nHow would we plot this data to show how the rank of different songs changed over time?\n\n\nWhat shape would this data have in long format?"
  },
  {
    "objectID": "data-manipulation.html#tidyrpivot_longer",
    "href": "data-manipulation.html#tidyrpivot_longer",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "tidyr::pivot_longer()",
    "text": "tidyr::pivot_longer()\nReshape data from wide to long format\n\n\n\npivot_longer(\n  data,\n  cols,\n  ...,\n  cols_vary = \"fastest\",\n  names_to = \"name\",\n  names_prefix = NULL,\n  names_sep = NULL,\n  names_pattern = NULL,\n  names_ptypes = NULL,\n  names_transform = NULL,\n  names_repair = \"check_unique\",\n  values_to = \"value\",\n  values_drop_na = FALSE,\n  values_ptypes = NULL,\n  values_transform = NULL\n)\n\n\n\ncols: columns to pivot from wide to long. Uses tidyselect syntax.\nnames_to: name of new column to create from the column names\nvalues_to: name of new column to create from the values in the selected columns\nvalues_drop_na: if TRUE, drops rows with NA in the values column\n\n\n\nLet‚Äôs practice with the billboard data\n\n\n\ngo to R and do pivot_longer() on billboard data"
  },
  {
    "objectID": "data-manipulation.html#your-turn-6",
    "href": "data-manipulation.html#your-turn-6",
    "title": "Advanced Data Manipulation with dplyr and tidyr",
    "section": "Your turn",
    "text": "Your turn\n\nUse SitesandMethods/Portal_plot_treatments.csv and pivot it to longer so there is a start_date, end_date, and treatment column. See if you can get the dates into proper date format. The lubridate package may be helpful."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Parks Canada - Intermediate R",
    "section": "",
    "text": "This website contains the materials for the Parks Canada Intermediate R workshop. The workshop is designed to help participants improve their R programming skills, focusing on efficient workflows, , and reproducible research practices."
  },
  {
    "objectID": "index.html#workshop-overview",
    "href": "index.html#workshop-overview",
    "title": "Parks Canada - Intermediate R",
    "section": "Workshop Overview:",
    "text": "Workshop Overview:\nThis intermediate R workshop is designed for data professionals and scientists who have basic R experience and want to advance their skills in data analysis and programming.\nThis will be an online, interactive workshop delivered virtually."
  },
  {
    "objectID": "index.html#modules",
    "href": "index.html#modules",
    "title": "Parks Canada - Intermediate R",
    "section": "Modules",
    "text": "Modules\n\n1. Project-oriented workflows and effective use of your IDE (RStudio/Positron)\n\n\n2. Version control and Collaboration with Git and GitHub\n\n\n3. Advanced data manipulation with dplyr and tidyr\n\n\n4. Programming with R - functions\n\n\n5. String manipulation and regular expressions with stringr\n\n\n6. Iteration and functional programming with purrr\n\n\n7. Reproducible reporting with Quarto"
  },
  {
    "objectID": "index.html#exercises",
    "href": "index.html#exercises",
    "title": "Parks Canada - Intermediate R",
    "section": "Exercises",
    "text": "Exercises\n\nExercises (with solutions) for the data manipulation module can be found here.\nExercises (with solutions) for the programming module can be found here."
  },
  {
    "objectID": "index.html#prework",
    "href": "index.html#prework",
    "title": "Parks Canada - Intermediate R",
    "section": "Prework",
    "text": "Prework\nPlease ensure you have completed the steps in System Setup."
  },
  {
    "objectID": "index.html#instructor",
    "href": "index.html#instructor",
    "title": "Parks Canada - Intermediate R",
    "section": "Instructor:",
    "text": "Instructor:\nAndy Teucher is a freelance data scientist and package developer with a passion for teaching others how to use data science tools to make their work more efficient and reproducible. His background is in conservation biology, with an MSc in Ecology from the University of Calgary. He has spent much of his career as a data scientist in government, where he made it his mission to promote and teach open, reproducible data science practices. He has written many R packages for internal use in his teams as well as for a broader audience, with several hosted on CRAN. Andy is a certified Software Carpentry and Data Carpentry instructor, and has led many workshops teaching programming skills to scientists and data professionals."
  },
  {
    "objectID": "index.html#acknowledgements-and-resources",
    "href": "index.html#acknowledgements-and-resources",
    "title": "Parks Canada - Intermediate R",
    "section": "Acknowledgements and Resources:",
    "text": "Acknowledgements and Resources:\nThe material for this workshop has origins and inspiration from several sources, including:\n\nHappy Git and GitHub for the useR: A free book by Jenny Bryan and Jim Hester that teaches version control with Git and GitHub using R.\nThe Carpentries: An organization dedicated to teaching foundational coding and data science skills to researchers worldwide.\nR for Data Science: A comprehensive resource by Hadley Wickham and Garrett Grolemund that covers data science using R.\nWhat they forgot to teach you about R: A collection of tips and best practices for R programming by Jennifer Bryan, Jim Hester, Shannon Pileggi, E. David Ajal.\nFrom R User to R Programmer: Posit conf 2024 workshop by Emma Rand and Ian Lyttle.\nIntro to Quarto: Posit conf 2024 workshop by Andrew Bray."
  },
  {
    "objectID": "programming-iteration.html#learning-objectives",
    "href": "programming-iteration.html#learning-objectives",
    "title": "Programming with R: Iteration",
    "section": "Learning Objectives",
    "text": "Learning Objectives\nAt the end of this section you will be able to:\n\n\nrecognise that much iteration comes free with R\nunderstand fundamentals of loops\nuse purrr functions for elegant iteration\nunderstand functional programming and use anonymous functions with purrr"
  },
  {
    "objectID": "programming-iteration.html#what-is-iteration",
    "href": "programming-iteration.html#what-is-iteration",
    "title": "Programming with R: Iteration",
    "section": "What is iteration?",
    "text": "What is iteration?\n\nIteration means repeating steps multiple times until a condition is met\nIn other languages, iteration is performed with loops: for, while\n\n\n\nIteration is different in R\nYou can use loops‚Ä¶‚Ä¶. but you often don‚Äôt need to"
  },
  {
    "objectID": "programming-iteration.html#iteration-in-r",
    "href": "programming-iteration.html#iteration-in-r",
    "title": "Programming with R: Iteration",
    "section": "Iteration in R",
    "text": "Iteration in R\nIteration is an inherent part of the R language. For example, if\n\nnums &lt;- c(3, 1, 6, 4)\n\nThen\n\n\n2 * nums\n\nis\n\n\n[1]  6  2 12  8\nand NOT\n\n\n[1] 3 1 6 4 3 1 6 4\n\n\nThis is called vectorization - operations are automatically applied to each element of a vector.\n\nWe take this for granted in R, but in most other programming languages, you would need to write a loop to achieve the same result. For example, in Python, you would typically use a list comprehension or a for loop to multiply each element of a list by 2. R‚Äôs vectorized operations make code more concise and often faster."
  },
  {
    "objectID": "programming-iteration.html#meanwhile-with-python",
    "href": "programming-iteration.html#meanwhile-with-python",
    "title": "Programming with R: Iteration",
    "section": "Meanwhile with python",
    "text": "Meanwhile with python\nnums = [3,1,6,4]\n\nnums * 2\n[3, 1, 6, 4, 3, 1, 6, 4]\n\nTo achieve the desired result:\n[x * 2 for x in nums]\n[6, 2, 12, 8]\n\n\nOr\ny = []\nfor x in nums:\n    y.append(x * 2)\ny\n[6, 2, 12, 8]"
  },
  {
    "objectID": "programming-iteration.html#vectorization",
    "href": "programming-iteration.html#vectorization",
    "title": "Programming with R: Iteration",
    "section": "Vectorization",
    "text": "Vectorization\n\nlibrary(dplyr)\n\npenguins |&gt;\n  mutate(bill_ratio = bill_len / bill_dep)\n\n      species    island bill_len bill_dep flipper_len body_mass    sex year bill_ratio\n1      Adelie Torgersen     39.1     18.7         181      3750   male 2007   2.090909\n2      Adelie Torgersen     39.5     17.4         186      3800 female 2007   2.270115\n3      Adelie Torgersen     40.3     18.0         195      3250 female 2007   2.238889\n4      Adelie Torgersen       NA       NA          NA        NA   &lt;NA&gt; 2007         NA\n5      Adelie Torgersen     36.7     19.3         193      3450 female 2007   1.901554\n6      Adelie Torgersen     39.3     20.6         190      3650   male 2007   1.907767\n7      Adelie Torgersen     38.9     17.8         181      3625 female 2007   2.185393\n8      Adelie Torgersen     39.2     19.6         195      4675   male 2007   2.000000\n9      Adelie Torgersen     34.1     18.1         193      3475   &lt;NA&gt; 2007   1.883978\n10     Adelie Torgersen     42.0     20.2         190      4250   &lt;NA&gt; 2007   2.079208\n11     Adelie Torgersen     37.8     17.1         186      3300   &lt;NA&gt; 2007   2.210526\n12     Adelie Torgersen     37.8     17.3         180      3700   &lt;NA&gt; 2007   2.184971\n13     Adelie Torgersen     41.1     17.6         182      3200 female 2007   2.335227\n14     Adelie Torgersen     38.6     21.2         191      3800   male 2007   1.820755\n15     Adelie Torgersen     34.6     21.1         198      4400   male 2007   1.639810\n16     Adelie Torgersen     36.6     17.8         185      3700 female 2007   2.056180\n17     Adelie Torgersen     38.7     19.0         195      3450 female 2007   2.036842\n18     Adelie Torgersen     42.5     20.7         197      4500   male 2007   2.053140\n19     Adelie Torgersen     34.4     18.4         184      3325 female 2007   1.869565\n20     Adelie Torgersen     46.0     21.5         194      4200   male 2007   2.139535\n21     Adelie    Biscoe     37.8     18.3         174      3400 female 2007   2.065574\n22     Adelie    Biscoe     37.7     18.7         180      3600   male 2007   2.016043\n23     Adelie    Biscoe     35.9     19.2         189      3800 female 2007   1.869792\n24     Adelie    Biscoe     38.2     18.1         185      3950   male 2007   2.110497\n25     Adelie    Biscoe     38.8     17.2         180      3800   male 2007   2.255814\n26     Adelie    Biscoe     35.3     18.9         187      3800 female 2007   1.867725\n27     Adelie    Biscoe     40.6     18.6         183      3550   male 2007   2.182796\n28     Adelie    Biscoe     40.5     17.9         187      3200 female 2007   2.262570\n29     Adelie    Biscoe     37.9     18.6         172      3150 female 2007   2.037634\n30     Adelie    Biscoe     40.5     18.9         180      3950   male 2007   2.142857\n31     Adelie     Dream     39.5     16.7         178      3250 female 2007   2.365269\n32     Adelie     Dream     37.2     18.1         178      3900   male 2007   2.055249\n33     Adelie     Dream     39.5     17.8         188      3300 female 2007   2.219101\n34     Adelie     Dream     40.9     18.9         184      3900   male 2007   2.164021\n35     Adelie     Dream     36.4     17.0         195      3325 female 2007   2.141176\n36     Adelie     Dream     39.2     21.1         196      4150   male 2007   1.857820\n37     Adelie     Dream     38.8     20.0         190      3950   male 2007   1.940000\n38     Adelie     Dream     42.2     18.5         180      3550 female 2007   2.281081\n39     Adelie     Dream     37.6     19.3         181      3300 female 2007   1.948187\n40     Adelie     Dream     39.8     19.1         184      4650   male 2007   2.083770\n41     Adelie     Dream     36.5     18.0         182      3150 female 2007   2.027778\n42     Adelie     Dream     40.8     18.4         195      3900   male 2007   2.217391\n43     Adelie     Dream     36.0     18.5         186      3100 female 2007   1.945946\n44     Adelie     Dream     44.1     19.7         196      4400   male 2007   2.238579\n45     Adelie     Dream     37.0     16.9         185      3000 female 2007   2.189349\n46     Adelie     Dream     39.6     18.8         190      4600   male 2007   2.106383\n47     Adelie     Dream     41.1     19.0         182      3425   male 2007   2.163158\n48     Adelie     Dream     37.5     18.9         179      2975   &lt;NA&gt; 2007   1.984127\n49     Adelie     Dream     36.0     17.9         190      3450 female 2007   2.011173\n50     Adelie     Dream     42.3     21.2         191      4150   male 2007   1.995283\n51     Adelie    Biscoe     39.6     17.7         186      3500 female 2008   2.237288\n52     Adelie    Biscoe     40.1     18.9         188      4300   male 2008   2.121693\n53     Adelie    Biscoe     35.0     17.9         190      3450 female 2008   1.955307\n54     Adelie    Biscoe     42.0     19.5         200      4050   male 2008   2.153846\n55     Adelie    Biscoe     34.5     18.1         187      2900 female 2008   1.906077\n56     Adelie    Biscoe     41.4     18.6         191      3700   male 2008   2.225806\n57     Adelie    Biscoe     39.0     17.5         186      3550 female 2008   2.228571\n58     Adelie    Biscoe     40.6     18.8         193      3800   male 2008   2.159574\n59     Adelie    Biscoe     36.5     16.6         181      2850 female 2008   2.198795\n60     Adelie    Biscoe     37.6     19.1         194      3750   male 2008   1.968586\n61     Adelie    Biscoe     35.7     16.9         185      3150 female 2008   2.112426\n62     Adelie    Biscoe     41.3     21.1         195      4400   male 2008   1.957346\n63     Adelie    Biscoe     37.6     17.0         185      3600 female 2008   2.211765\n64     Adelie    Biscoe     41.1     18.2         192      4050   male 2008   2.258242\n65     Adelie    Biscoe     36.4     17.1         184      2850 female 2008   2.128655\n66     Adelie    Biscoe     41.6     18.0         192      3950   male 2008   2.311111\n67     Adelie    Biscoe     35.5     16.2         195      3350 female 2008   2.191358\n68     Adelie    Biscoe     41.1     19.1         188      4100   male 2008   2.151832\n69     Adelie Torgersen     35.9     16.6         190      3050 female 2008   2.162651\n70     Adelie Torgersen     41.8     19.4         198      4450   male 2008   2.154639\n71     Adelie Torgersen     33.5     19.0         190      3600 female 2008   1.763158\n72     Adelie Torgersen     39.7     18.4         190      3900   male 2008   2.157609\n73     Adelie Torgersen     39.6     17.2         196      3550 female 2008   2.302326\n74     Adelie Torgersen     45.8     18.9         197      4150   male 2008   2.423280\n75     Adelie Torgersen     35.5     17.5         190      3700 female 2008   2.028571\n76     Adelie Torgersen     42.8     18.5         195      4250   male 2008   2.313514\n77     Adelie Torgersen     40.9     16.8         191      3700 female 2008   2.434524\n78     Adelie Torgersen     37.2     19.4         184      3900   male 2008   1.917526\n79     Adelie Torgersen     36.2     16.1         187      3550 female 2008   2.248447\n80     Adelie Torgersen     42.1     19.1         195      4000   male 2008   2.204188\n81     Adelie Torgersen     34.6     17.2         189      3200 female 2008   2.011628\n82     Adelie Torgersen     42.9     17.6         196      4700   male 2008   2.437500\n83     Adelie Torgersen     36.7     18.8         187      3800 female 2008   1.952128\n84     Adelie Torgersen     35.1     19.4         193      4200   male 2008   1.809278\n85     Adelie     Dream     37.3     17.8         191      3350 female 2008   2.095506\n86     Adelie     Dream     41.3     20.3         194      3550   male 2008   2.034483\n87     Adelie     Dream     36.3     19.5         190      3800   male 2008   1.861538\n88     Adelie     Dream     36.9     18.6         189      3500 female 2008   1.983871\n89     Adelie     Dream     38.3     19.2         189      3950   male 2008   1.994792\n90     Adelie     Dream     38.9     18.8         190      3600 female 2008   2.069149\n91     Adelie     Dream     35.7     18.0         202      3550 female 2008   1.983333\n92     Adelie     Dream     41.1     18.1         205      4300   male 2008   2.270718\n93     Adelie     Dream     34.0     17.1         185      3400 female 2008   1.988304\n94     Adelie     Dream     39.6     18.1         186      4450   male 2008   2.187845\n95     Adelie     Dream     36.2     17.3         187      3300 female 2008   2.092486\n96     Adelie     Dream     40.8     18.9         208      4300   male 2008   2.158730\n97     Adelie     Dream     38.1     18.6         190      3700 female 2008   2.048387\n98     Adelie     Dream     40.3     18.5         196      4350   male 2008   2.178378\n99     Adelie     Dream     33.1     16.1         178      2900 female 2008   2.055901\n100    Adelie     Dream     43.2     18.5         192      4100   male 2008   2.335135\n101    Adelie    Biscoe     35.0     17.9         192      3725 female 2009   1.955307\n102    Adelie    Biscoe     41.0     20.0         203      4725   male 2009   2.050000\n103    Adelie    Biscoe     37.7     16.0         183      3075 female 2009   2.356250\n104    Adelie    Biscoe     37.8     20.0         190      4250   male 2009   1.890000\n105    Adelie    Biscoe     37.9     18.6         193      2925 female 2009   2.037634\n106    Adelie    Biscoe     39.7     18.9         184      3550   male 2009   2.100529\n107    Adelie    Biscoe     38.6     17.2         199      3750 female 2009   2.244186\n108    Adelie    Biscoe     38.2     20.0         190      3900   male 2009   1.910000\n109    Adelie    Biscoe     38.1     17.0         181      3175 female 2009   2.241176\n110    Adelie    Biscoe     43.2     19.0         197      4775   male 2009   2.273684\n111    Adelie    Biscoe     38.1     16.5         198      3825 female 2009   2.309091\n112    Adelie    Biscoe     45.6     20.3         191      4600   male 2009   2.246305\n113    Adelie    Biscoe     39.7     17.7         193      3200 female 2009   2.242938\n114    Adelie    Biscoe     42.2     19.5         197      4275   male 2009   2.164103\n115    Adelie    Biscoe     39.6     20.7         191      3900 female 2009   1.913043\n116    Adelie    Biscoe     42.7     18.3         196      4075   male 2009   2.333333\n117    Adelie Torgersen     38.6     17.0         188      2900 female 2009   2.270588\n118    Adelie Torgersen     37.3     20.5         199      3775   male 2009   1.819512\n119    Adelie Torgersen     35.7     17.0         189      3350 female 2009   2.100000\n120    Adelie Torgersen     41.1     18.6         189      3325   male 2009   2.209677\n121    Adelie Torgersen     36.2     17.2         187      3150 female 2009   2.104651\n122    Adelie Torgersen     37.7     19.8         198      3500   male 2009   1.904040\n123    Adelie Torgersen     40.2     17.0         176      3450 female 2009   2.364706\n124    Adelie Torgersen     41.4     18.5         202      3875   male 2009   2.237838\n125    Adelie Torgersen     35.2     15.9         186      3050 female 2009   2.213836\n126    Adelie Torgersen     40.6     19.0         199      4000   male 2009   2.136842\n127    Adelie Torgersen     38.8     17.6         191      3275 female 2009   2.204545\n128    Adelie Torgersen     41.5     18.3         195      4300   male 2009   2.267760\n129    Adelie Torgersen     39.0     17.1         191      3050 female 2009   2.280702\n130    Adelie Torgersen     44.1     18.0         210      4000   male 2009   2.450000\n131    Adelie Torgersen     38.5     17.9         190      3325 female 2009   2.150838\n132    Adelie Torgersen     43.1     19.2         197      3500   male 2009   2.244792\n133    Adelie     Dream     36.8     18.5         193      3500 female 2009   1.989189\n134    Adelie     Dream     37.5     18.5         199      4475   male 2009   2.027027\n135    Adelie     Dream     38.1     17.6         187      3425 female 2009   2.164773\n136    Adelie     Dream     41.1     17.5         190      3900   male 2009   2.348571\n137    Adelie     Dream     35.6     17.5         191      3175 female 2009   2.034286\n138    Adelie     Dream     40.2     20.1         200      3975   male 2009   2.000000\n139    Adelie     Dream     37.0     16.5         185      3400 female 2009   2.242424\n140    Adelie     Dream     39.7     17.9         193      4250   male 2009   2.217877\n141    Adelie     Dream     40.2     17.1         193      3400 female 2009   2.350877\n142    Adelie     Dream     40.6     17.2         187      3475   male 2009   2.360465\n143    Adelie     Dream     32.1     15.5         188      3050 female 2009   2.070968\n144    Adelie     Dream     40.7     17.0         190      3725   male 2009   2.394118\n145    Adelie     Dream     37.3     16.8         192      3000 female 2009   2.220238\n146    Adelie     Dream     39.0     18.7         185      3650   male 2009   2.085561\n147    Adelie     Dream     39.2     18.6         190      4250   male 2009   2.107527\n148    Adelie     Dream     36.6     18.4         184      3475 female 2009   1.989130\n149    Adelie     Dream     36.0     17.8         195      3450 female 2009   2.022472\n150    Adelie     Dream     37.8     18.1         193      3750   male 2009   2.088398\n151    Adelie     Dream     36.0     17.1         187      3700 female 2009   2.105263\n152    Adelie     Dream     41.5     18.5         201      4000   male 2009   2.243243\n153    Gentoo    Biscoe     46.1     13.2         211      4500 female 2007   3.492424\n154    Gentoo    Biscoe     50.0     16.3         230      5700   male 2007   3.067485\n155    Gentoo    Biscoe     48.7     14.1         210      4450 female 2007   3.453901\n156    Gentoo    Biscoe     50.0     15.2         218      5700   male 2007   3.289474\n157    Gentoo    Biscoe     47.6     14.5         215      5400   male 2007   3.282759\n158    Gentoo    Biscoe     46.5     13.5         210      4550 female 2007   3.444444\n159    Gentoo    Biscoe     45.4     14.6         211      4800 female 2007   3.109589\n160    Gentoo    Biscoe     46.7     15.3         219      5200   male 2007   3.052288\n161    Gentoo    Biscoe     43.3     13.4         209      4400 female 2007   3.231343\n162    Gentoo    Biscoe     46.8     15.4         215      5150   male 2007   3.038961\n163    Gentoo    Biscoe     40.9     13.7         214      4650 female 2007   2.985401\n164    Gentoo    Biscoe     49.0     16.1         216      5550   male 2007   3.043478\n165    Gentoo    Biscoe     45.5     13.7         214      4650 female 2007   3.321168\n166    Gentoo    Biscoe     48.4     14.6         213      5850   male 2007   3.315068\n167    Gentoo    Biscoe     45.8     14.6         210      4200 female 2007   3.136986\n168    Gentoo    Biscoe     49.3     15.7         217      5850   male 2007   3.140127\n169    Gentoo    Biscoe     42.0     13.5         210      4150 female 2007   3.111111\n170    Gentoo    Biscoe     49.2     15.2         221      6300   male 2007   3.236842\n171    Gentoo    Biscoe     46.2     14.5         209      4800 female 2007   3.186207\n172    Gentoo    Biscoe     48.7     15.1         222      5350   male 2007   3.225166\n173    Gentoo    Biscoe     50.2     14.3         218      5700   male 2007   3.510490\n174    Gentoo    Biscoe     45.1     14.5         215      5000 female 2007   3.110345\n175    Gentoo    Biscoe     46.5     14.5         213      4400 female 2007   3.206897\n176    Gentoo    Biscoe     46.3     15.8         215      5050   male 2007   2.930380\n177    Gentoo    Biscoe     42.9     13.1         215      5000 female 2007   3.274809\n178    Gentoo    Biscoe     46.1     15.1         215      5100   male 2007   3.052980\n179    Gentoo    Biscoe     44.5     14.3         216      4100   &lt;NA&gt; 2007   3.111888\n180    Gentoo    Biscoe     47.8     15.0         215      5650   male 2007   3.186667\n181    Gentoo    Biscoe     48.2     14.3         210      4600 female 2007   3.370629\n182    Gentoo    Biscoe     50.0     15.3         220      5550   male 2007   3.267974\n183    Gentoo    Biscoe     47.3     15.3         222      5250   male 2007   3.091503\n184    Gentoo    Biscoe     42.8     14.2         209      4700 female 2007   3.014085\n185    Gentoo    Biscoe     45.1     14.5         207      5050 female 2007   3.110345\n186    Gentoo    Biscoe     59.6     17.0         230      6050   male 2007   3.505882\n187    Gentoo    Biscoe     49.1     14.8         220      5150 female 2008   3.317568\n188    Gentoo    Biscoe     48.4     16.3         220      5400   male 2008   2.969325\n189    Gentoo    Biscoe     42.6     13.7         213      4950 female 2008   3.109489\n190    Gentoo    Biscoe     44.4     17.3         219      5250   male 2008   2.566474\n191    Gentoo    Biscoe     44.0     13.6         208      4350 female 2008   3.235294\n192    Gentoo    Biscoe     48.7     15.7         208      5350   male 2008   3.101911\n193    Gentoo    Biscoe     42.7     13.7         208      3950 female 2008   3.116788\n194    Gentoo    Biscoe     49.6     16.0         225      5700   male 2008   3.100000\n195    Gentoo    Biscoe     45.3     13.7         210      4300 female 2008   3.306569\n196    Gentoo    Biscoe     49.6     15.0         216      4750   male 2008   3.306667\n197    Gentoo    Biscoe     50.5     15.9         222      5550   male 2008   3.176101\n198    Gentoo    Biscoe     43.6     13.9         217      4900 female 2008   3.136691\n199    Gentoo    Biscoe     45.5     13.9         210      4200 female 2008   3.273381\n200    Gentoo    Biscoe     50.5     15.9         225      5400   male 2008   3.176101\n201    Gentoo    Biscoe     44.9     13.3         213      5100 female 2008   3.375940\n202    Gentoo    Biscoe     45.2     15.8         215      5300   male 2008   2.860759\n203    Gentoo    Biscoe     46.6     14.2         210      4850 female 2008   3.281690\n204    Gentoo    Biscoe     48.5     14.1         220      5300   male 2008   3.439716\n205    Gentoo    Biscoe     45.1     14.4         210      4400 female 2008   3.131944\n206    Gentoo    Biscoe     50.1     15.0         225      5000   male 2008   3.340000\n207    Gentoo    Biscoe     46.5     14.4         217      4900 female 2008   3.229167\n208    Gentoo    Biscoe     45.0     15.4         220      5050   male 2008   2.922078\n209    Gentoo    Biscoe     43.8     13.9         208      4300 female 2008   3.151079\n210    Gentoo    Biscoe     45.5     15.0         220      5000   male 2008   3.033333\n211    Gentoo    Biscoe     43.2     14.5         208      4450 female 2008   2.979310\n212    Gentoo    Biscoe     50.4     15.3         224      5550   male 2008   3.294118\n213    Gentoo    Biscoe     45.3     13.8         208      4200 female 2008   3.282609\n214    Gentoo    Biscoe     46.2     14.9         221      5300   male 2008   3.100671\n215    Gentoo    Biscoe     45.7     13.9         214      4400 female 2008   3.287770\n216    Gentoo    Biscoe     54.3     15.7         231      5650   male 2008   3.458599\n217    Gentoo    Biscoe     45.8     14.2         219      4700 female 2008   3.225352\n218    Gentoo    Biscoe     49.8     16.8         230      5700   male 2008   2.964286\n219    Gentoo    Biscoe     46.2     14.4         214      4650   &lt;NA&gt; 2008   3.208333\n220    Gentoo    Biscoe     49.5     16.2         229      5800   male 2008   3.055556\n221    Gentoo    Biscoe     43.5     14.2         220      4700 female 2008   3.063380\n222    Gentoo    Biscoe     50.7     15.0         223      5550   male 2008   3.380000\n223    Gentoo    Biscoe     47.7     15.0         216      4750 female 2008   3.180000\n224    Gentoo    Biscoe     46.4     15.6         221      5000   male 2008   2.974359\n225    Gentoo    Biscoe     48.2     15.6         221      5100   male 2008   3.089744\n226    Gentoo    Biscoe     46.5     14.8         217      5200 female 2008   3.141892\n227    Gentoo    Biscoe     46.4     15.0         216      4700 female 2008   3.093333\n228    Gentoo    Biscoe     48.6     16.0         230      5800   male 2008   3.037500\n229    Gentoo    Biscoe     47.5     14.2         209      4600 female 2008   3.345070\n230    Gentoo    Biscoe     51.1     16.3         220      6000   male 2008   3.134969\n231    Gentoo    Biscoe     45.2     13.8         215      4750 female 2008   3.275362\n232    Gentoo    Biscoe     45.2     16.4         223      5950   male 2008   2.756098\n233    Gentoo    Biscoe     49.1     14.5         212      4625 female 2009   3.386207\n234    Gentoo    Biscoe     52.5     15.6         221      5450   male 2009   3.365385\n235    Gentoo    Biscoe     47.4     14.6         212      4725 female 2009   3.246575\n236    Gentoo    Biscoe     50.0     15.9         224      5350   male 2009   3.144654\n237    Gentoo    Biscoe     44.9     13.8         212      4750 female 2009   3.253623\n238    Gentoo    Biscoe     50.8     17.3         228      5600   male 2009   2.936416\n239    Gentoo    Biscoe     43.4     14.4         218      4600 female 2009   3.013889\n240    Gentoo    Biscoe     51.3     14.2         218      5300   male 2009   3.612676\n241    Gentoo    Biscoe     47.5     14.0         212      4875 female 2009   3.392857\n242    Gentoo    Biscoe     52.1     17.0         230      5550   male 2009   3.064706\n243    Gentoo    Biscoe     47.5     15.0         218      4950 female 2009   3.166667\n244    Gentoo    Biscoe     52.2     17.1         228      5400   male 2009   3.052632\n245    Gentoo    Biscoe     45.5     14.5         212      4750 female 2009   3.137931\n246    Gentoo    Biscoe     49.5     16.1         224      5650   male 2009   3.074534\n247    Gentoo    Biscoe     44.5     14.7         214      4850 female 2009   3.027211\n248    Gentoo    Biscoe     50.8     15.7         226      5200   male 2009   3.235669\n249    Gentoo    Biscoe     49.4     15.8         216      4925   male 2009   3.126582\n250    Gentoo    Biscoe     46.9     14.6         222      4875 female 2009   3.212329\n251    Gentoo    Biscoe     48.4     14.4         203      4625 female 2009   3.361111\n252    Gentoo    Biscoe     51.1     16.5         225      5250   male 2009   3.096970\n253    Gentoo    Biscoe     48.5     15.0         219      4850 female 2009   3.233333\n254    Gentoo    Biscoe     55.9     17.0         228      5600   male 2009   3.288235\n255    Gentoo    Biscoe     47.2     15.5         215      4975 female 2009   3.045161\n256    Gentoo    Biscoe     49.1     15.0         228      5500   male 2009   3.273333\n257    Gentoo    Biscoe     47.3     13.8         216      4725   &lt;NA&gt; 2009   3.427536\n258    Gentoo    Biscoe     46.8     16.1         215      5500   male 2009   2.906832\n259    Gentoo    Biscoe     41.7     14.7         210      4700 female 2009   2.836735\n260    Gentoo    Biscoe     53.4     15.8         219      5500   male 2009   3.379747\n261    Gentoo    Biscoe     43.3     14.0         208      4575 female 2009   3.092857\n262    Gentoo    Biscoe     48.1     15.1         209      5500   male 2009   3.185430\n263    Gentoo    Biscoe     50.5     15.2         216      5000 female 2009   3.322368\n264    Gentoo    Biscoe     49.8     15.9         229      5950   male 2009   3.132075\n265    Gentoo    Biscoe     43.5     15.2         213      4650 female 2009   2.861842\n266    Gentoo    Biscoe     51.5     16.3         230      5500   male 2009   3.159509\n267    Gentoo    Biscoe     46.2     14.1         217      4375 female 2009   3.276596\n268    Gentoo    Biscoe     55.1     16.0         230      5850   male 2009   3.443750\n269    Gentoo    Biscoe     44.5     15.7         217      4875   &lt;NA&gt; 2009   2.834395\n270    Gentoo    Biscoe     48.8     16.2         222      6000   male 2009   3.012346\n271    Gentoo    Biscoe     47.2     13.7         214      4925 female 2009   3.445255\n272    Gentoo    Biscoe       NA       NA          NA        NA   &lt;NA&gt; 2009         NA\n273    Gentoo    Biscoe     46.8     14.3         215      4850 female 2009   3.272727\n274    Gentoo    Biscoe     50.4     15.7         222      5750   male 2009   3.210191\n275    Gentoo    Biscoe     45.2     14.8         212      5200 female 2009   3.054054\n276    Gentoo    Biscoe     49.9     16.1         213      5400   male 2009   3.099379\n277 Chinstrap     Dream     46.5     17.9         192      3500 female 2007   2.597765\n278 Chinstrap     Dream     50.0     19.5         196      3900   male 2007   2.564103\n279 Chinstrap     Dream     51.3     19.2         193      3650   male 2007   2.671875\n280 Chinstrap     Dream     45.4     18.7         188      3525 female 2007   2.427807\n281 Chinstrap     Dream     52.7     19.8         197      3725   male 2007   2.661616\n282 Chinstrap     Dream     45.2     17.8         198      3950 female 2007   2.539326\n283 Chinstrap     Dream     46.1     18.2         178      3250 female 2007   2.532967\n284 Chinstrap     Dream     51.3     18.2         197      3750   male 2007   2.818681\n285 Chinstrap     Dream     46.0     18.9         195      4150 female 2007   2.433862\n286 Chinstrap     Dream     51.3     19.9         198      3700   male 2007   2.577889\n287 Chinstrap     Dream     46.6     17.8         193      3800 female 2007   2.617978\n288 Chinstrap     Dream     51.7     20.3         194      3775   male 2007   2.546798\n289 Chinstrap     Dream     47.0     17.3         185      3700 female 2007   2.716763\n290 Chinstrap     Dream     52.0     18.1         201      4050   male 2007   2.872928\n291 Chinstrap     Dream     45.9     17.1         190      3575 female 2007   2.684211\n292 Chinstrap     Dream     50.5     19.6         201      4050   male 2007   2.576531\n293 Chinstrap     Dream     50.3     20.0         197      3300   male 2007   2.515000\n294 Chinstrap     Dream     58.0     17.8         181      3700 female 2007   3.258427\n295 Chinstrap     Dream     46.4     18.6         190      3450 female 2007   2.494624\n296 Chinstrap     Dream     49.2     18.2         195      4400   male 2007   2.703297\n297 Chinstrap     Dream     42.4     17.3         181      3600 female 2007   2.450867\n298 Chinstrap     Dream     48.5     17.5         191      3400   male 2007   2.771429\n299 Chinstrap     Dream     43.2     16.6         187      2900 female 2007   2.602410\n300 Chinstrap     Dream     50.6     19.4         193      3800   male 2007   2.608247\n301 Chinstrap     Dream     46.7     17.9         195      3300 female 2007   2.608939\n302 Chinstrap     Dream     52.0     19.0         197      4150   male 2007   2.736842\n303 Chinstrap     Dream     50.5     18.4         200      3400 female 2008   2.744565\n304 Chinstrap     Dream     49.5     19.0         200      3800   male 2008   2.605263\n305 Chinstrap     Dream     46.4     17.8         191      3700 female 2008   2.606742\n306 Chinstrap     Dream     52.8     20.0         205      4550   male 2008   2.640000\n307 Chinstrap     Dream     40.9     16.6         187      3200 female 2008   2.463855\n308 Chinstrap     Dream     54.2     20.8         201      4300   male 2008   2.605769\n309 Chinstrap     Dream     42.5     16.7         187      3350 female 2008   2.544910\n310 Chinstrap     Dream     51.0     18.8         203      4100   male 2008   2.712766\n311 Chinstrap     Dream     49.7     18.6         195      3600   male 2008   2.672043\n312 Chinstrap     Dream     47.5     16.8         199      3900 female 2008   2.827381\n313 Chinstrap     Dream     47.6     18.3         195      3850 female 2008   2.601093\n314 Chinstrap     Dream     52.0     20.7         210      4800   male 2008   2.512077\n315 Chinstrap     Dream     46.9     16.6         192      2700 female 2008   2.825301\n316 Chinstrap     Dream     53.5     19.9         205      4500   male 2008   2.688442\n317 Chinstrap     Dream     49.0     19.5         210      3950   male 2008   2.512821\n318 Chinstrap     Dream     46.2     17.5         187      3650 female 2008   2.640000\n319 Chinstrap     Dream     50.9     19.1         196      3550   male 2008   2.664921\n320 Chinstrap     Dream     45.5     17.0         196      3500 female 2008   2.676471\n321 Chinstrap     Dream     50.9     17.9         196      3675 female 2009   2.843575\n322 Chinstrap     Dream     50.8     18.5         201      4450   male 2009   2.745946\n323 Chinstrap     Dream     50.1     17.9         190      3400 female 2009   2.798883\n324 Chinstrap     Dream     49.0     19.6         212      4300   male 2009   2.500000\n325 Chinstrap     Dream     51.5     18.7         187      3250   male 2009   2.754011\n326 Chinstrap     Dream     49.8     17.3         198      3675 female 2009   2.878613\n327 Chinstrap     Dream     48.1     16.4         199      3325 female 2009   2.932927\n328 Chinstrap     Dream     51.4     19.0         201      3950   male 2009   2.705263\n329 Chinstrap     Dream     45.7     17.3         193      3600 female 2009   2.641618\n330 Chinstrap     Dream     50.7     19.7         203      4050   male 2009   2.573604\n331 Chinstrap     Dream     42.5     17.3         187      3350 female 2009   2.456647\n332 Chinstrap     Dream     52.2     18.8         197      3450   male 2009   2.776596\n333 Chinstrap     Dream     45.2     16.6         191      3250 female 2009   2.722892\n334 Chinstrap     Dream     49.3     19.9         203      4050   male 2009   2.477387\n335 Chinstrap     Dream     50.2     18.8         202      3800   male 2009   2.670213\n336 Chinstrap     Dream     45.6     19.4         194      3525 female 2009   2.350515\n337 Chinstrap     Dream     51.9     19.5         206      3950   male 2009   2.661538\n338 Chinstrap     Dream     46.8     16.5         189      3650 female 2009   2.836364\n339 Chinstrap     Dream     45.7     17.0         195      3650 female 2009   2.688235\n340 Chinstrap     Dream     55.8     19.8         207      4000   male 2009   2.818182\n341 Chinstrap     Dream     43.5     18.1         202      3400 female 2009   2.403315\n342 Chinstrap     Dream     49.6     18.2         193      3775   male 2009   2.725275\n343 Chinstrap     Dream     50.8     19.0         210      4100   male 2009   2.673684\n344 Chinstrap     Dream     50.2     18.7         198      3775 female 2009   2.684492"
  },
  {
    "objectID": "programming-iteration.html#iteration-in-r-1",
    "href": "programming-iteration.html#iteration-in-r-1",
    "title": "Programming with R: Iteration",
    "section": "Iteration in R",
    "text": "Iteration in R\nWe also have:\n\ngroup_by() with summarize() (for every group, do this summary)\nggplot2::facet_wrap() (for every level of a factor, make a plot)\n*apply() and purrr::map*() and (for every element of a list/vector, do this function)"
  },
  {
    "objectID": "programming-iteration.html#why-iteration",
    "href": "programming-iteration.html#why-iteration",
    "title": "Programming with R: Iteration",
    "section": "Why iteration?",
    "text": "Why iteration?\nDoing the same operation multiple times:\n\nProcess multiple files\nAnalyze data from multiple sites\nApply the same transformation to multiple columns\nRun simulations\n\n\nGoal: Write code that is:\n\nLess repetitive\nEasier to maintain\nHarder to make mistakes in"
  },
  {
    "objectID": "programming-iteration.html#basic-for-loop-syntax",
    "href": "programming-iteration.html#basic-for-loop-syntax",
    "title": "Programming with R: Iteration",
    "section": "Basic for loop syntax",
    "text": "Basic for loop syntax\n\nfor (item in vector_or_list) {\n  # item takes on each value in vector\n  # Do something with item\n}\n\n\n\n\nparks &lt;- c(\"Banff\", \"Jasper\", \"Yoho\", \"Riding Mountain\")\n\nfor (park in parks) {\n  print(paste(\"Processing\", park))\n}\n\n[1] \"Processing Banff\"\n[1] \"Processing Jasper\"\n[1] \"Processing Yoho\"\n[1] \"Processing Riding Mountain\""
  },
  {
    "objectID": "programming-iteration.html#loop-over-values-vs-indices",
    "href": "programming-iteration.html#loop-over-values-vs-indices",
    "title": "Programming with R: Iteration",
    "section": "Loop over values vs indices",
    "text": "Loop over values vs indices\nLoop over values when you only need the value of each element.\n\nparks &lt;- c(\"Banff\", \"Jasper\", \"Yoho\", \"Riding Mountain\")\n\nfor (park in parks) {\n  print(paste(\"Processing\", park))\n}\n\n[1] \"Processing Banff\"\n[1] \"Processing Jasper\"\n[1] \"Processing Yoho\"\n[1] \"Processing Riding Mountain\"\n\n\n\nLoop over indices when you need to know the position."
  },
  {
    "objectID": "programming-iteration.html#when-to-use-indices",
    "href": "programming-iteration.html#when-to-use-indices",
    "title": "Programming with R: Iteration",
    "section": "When to use indices",
    "text": "When to use indices\nUse seq_along(), seq_len(), seq() when you need to:\n\nAccess the same position in multiple objects:\n\n\nparks &lt;- c(\"Banff\", \"Jasper\", \"Yoho\", \"Riding Mountain\")\nprovinces &lt;- c(\"Alberta\", \"Alberta\", \"British Columbia\", \"Manitoba\")\n\nfor (i in seq_along(parks)) {\n  print(paste(parks[i], \"is in\", provinces[i]))\n}\n\n[1] \"Banff is in Alberta\"\n[1] \"Jasper is in Alberta\"\n[1] \"Yoho is in British Columbia\"\n[1] \"Riding Mountain is in Manitoba\"\n\n\n\n\nStore results at specific positions:\n\n\nresults &lt;- vector(\"list\", length(files))\n\nfor (i in seq_along(files)) {\n  results[[i]] &lt;- read_csv(files[i])\n}"
  },
  {
    "objectID": "programming-iteration.html#example-reading-multiple-files",
    "href": "programming-iteration.html#example-reading-multiple-files",
    "title": "Programming with R: Iteration",
    "section": "Example: Reading multiple files",
    "text": "Example: Reading multiple files\n\nlibrary(readr)\nlibrary(dplyr)\n\nfiles &lt;- list.files(\"data/\", pattern = \"\\\\.csv$\", full.names = TRUE)\n\ndata_list &lt;- vector(mode = \"list\", length = length(files))\n\nfor (i in seq_along(files)) {\n  data_list[[i]] &lt;- read_csv(files[i])\n}\n\n# Combine into one data frame\nall_data &lt;- rbind_list(data_list)"
  },
  {
    "objectID": "programming-iteration.html#your-turn-create-a-for-loop-to-make-and-save-plots-for-each-rodent-site-plot",
    "href": "programming-iteration.html#your-turn-create-a-for-loop-to-make-and-save-plots-for-each-rodent-site-plot",
    "title": "Programming with R: Iteration",
    "section": "Your Turn: Create a for loop to make and save plots for each rodent site (plot)",
    "text": "Your Turn: Create a for loop to make and save plots for each rodent site (plot)\nStarting code in 04-iteration.R\n\n\nrodents &lt;- read_csv(\"PortalData/Rodents/Portal_rodent.csv\")\n\nrodent_counts &lt;- rodents |&gt;\n  filter(species == \"DM\") |&gt;\n  group_by(year, plot) |&gt;\n  summarise(n = n()) |&gt;\n  ungroup()"
  },
  {
    "objectID": "programming-iteration.html#while-loops",
    "href": "programming-iteration.html#while-loops",
    "title": "Programming with R: Iteration",
    "section": "while loops",
    "text": "while loops\n\nLoop continues while the condition is TRUE\nStops when the condition is FALSE.\n\n\n\n\nwhile (condition_is_true) {\n  # Do something\n}\n\n\n\n\ni &lt;- 1\nwhile (i &lt; 6) {\n  print(i)\n  i &lt;- i + 1\n}\n\n[1] 1\n[1] 2\n[1] 3\n[1] 4\n[1] 5\n\n\n\n\n\nUse when you don‚Äôt know in advance how many iterations you‚Äôll need.\n\n\nUsually need to advance the iterator inside the loop."
  },
  {
    "objectID": "programming-iteration.html#while-loop-example-simulation",
    "href": "programming-iteration.html#while-loop-example-simulation",
    "title": "Programming with R: Iteration",
    "section": "While loop example: Simulation",
    "text": "While loop example: Simulation\n\n# Simulate until estimate stabilizes\nestimate &lt;- 0\nprevious &lt;- Inf\ntolerance &lt;- 0.001\nn &lt;- 100\nreps &lt;- 0\n\nwhile (abs(estimate - previous) &gt; tolerance) {\n  previous &lt;- estimate\n  sample_data &lt;- rnorm(n, mean = 5, sd = 2)\n  estimate &lt;- mean(sample_data)\n  n &lt;- n + 100\n  reps &lt;- reps + 1\n}\nn\n\n[1] 4300\n\nreps\n\n[1] 42\n\n\n\nThis code simulates data repeatedly until the estimated mean stabilizes within a tolerance threshold:\nInitialize: Start with an estimate of 0, track the previous estimate, set a tolerance of 0.001, and begin with sample size 100\nLoop: Continue while the change in estimate exceeds the tolerance\nSave current estimate as previous Generate random normal data (mean=5, sd=2) with current sample size Calculate new estimate (mean of sample) Increase sample size by 100 Result: Stops when consecutive estimates differ by less than 0.001\nThis demonstrates the law of large numbers - as sample size increases, the sample mean converges to the true population mean (5). The loop automatically determines how many observations are needed for the estimate to stabilize.\n\nRarely needed in data analysis work."
  },
  {
    "objectID": "programming-iteration.html#functional-programming",
    "href": "programming-iteration.html#functional-programming",
    "title": "Programming with R: Iteration",
    "section": "Functional programming",
    "text": "Functional programming\n‚Äúfunctional programming‚Äù because functions take other functions as input\n\nmodifying multiple columns dplyr::across()\nreading multiple files purrr::map() and friends\nsaving multiple outputs purrr::walk()"
  },
  {
    "objectID": "programming-iteration.html#why-purrr",
    "href": "programming-iteration.html#why-purrr",
    "title": "Programming with R: Iteration",
    "section": "Why purrr?",
    "text": "Why purrr?\nThe purrr package provides tools for functional programming:\n\nClearer intent than loops\nLess boilerplate code\nType-safe variants\nWorks seamlessly with pipes"
  },
  {
    "objectID": "programming-iteration.html#fundamental-paradigms",
    "href": "programming-iteration.html#fundamental-paradigms",
    "title": "Programming with R: Iteration",
    "section": "Fundamental paradigms",
    "text": "Fundamental paradigms\nFunctional programming has three fundamental paradigms; they act on lists or vectors:\n\nmap - do this to each element: purrr::map()\nfilter - like spaghetti, not coffee: purrr::keep()\nreduce - combine into new thing: purrr::reduce()\n\n\nEach of these takes a function as an argument, to tell the operator what to do.\n\n\nWe are going to focus on map() and friends."
  },
  {
    "objectID": "programming-iteration.html#map-apply-a-function-to-each-element",
    "href": "programming-iteration.html#map-apply-a-function-to-each-element",
    "title": "Programming with R: Iteration",
    "section": "map(): Apply a function to each element",
    "text": "map(): Apply a function to each element\n\nparks &lt;- c(\"Banff\", \"Jasper\", \"Yoho\", \"Riding Mountain\")\n\n\n\n\n\nfor loop:\n\nfor (park in parks) {\n  print(nchar(park))\n}\n\n[1] 5\n[1] 6\n[1] 4\n[1] 15\n\n\n\n\n\nmap()\nmap(.x, .f) applies function .f to each element of .x\n\nmap(parks, nchar)\n\n[[1]]\n[1] 5\n\n[[2]]\n[1] 6\n\n[[3]]\n[1] 4\n\n[[4]]\n[1] 15\n\n\n\nReturns a list by default."
  },
  {
    "objectID": "programming-iteration.html#aside-review-of-lists",
    "href": "programming-iteration.html#aside-review-of-lists",
    "title": "Programming with R: Iteration",
    "section": "Aside: Review of lists",
    "text": "Aside: Review of lists\nLists are like vectors, but instead of each element being a single value, each element can be a more complex object (vector, data-frame, function, etc.)\nLists can have names\n\n\n\nmy_list &lt;- list(\n  c(1, 2, 3),\n  c(\"a\", \"b\", \"c\"),\n  data.frame(x = 1:3, y = c(\"A\", \"B\", \"C\"))\n)\nmy_list\n\n[[1]]\n[1] 1 2 3\n\n[[2]]\n[1] \"a\" \"b\" \"c\"\n\n[[3]]\n  x y\n1 1 A\n2 2 B\n3 3 C\n\n\n\n\nmy_named_list &lt;- list(\n  numbers = c(1, 2, 3),\n  letters = c(\"a\", \"b\", \"c\"),\n  df = data.frame(x = 1:3, y = c(\"A\", \"B\", \"C\"))\n)\nmy_named_list\n\n$numbers\n[1] 1 2 3\n\n$letters\n[1] \"a\" \"b\" \"c\"\n\n$df\n  x y\n1 1 A\n2 2 B\n3 3 C\n\nnames(my_named_list)\n\n[1] \"numbers\" \"letters\" \"df\"     \n\n\n\n\nLet‚Äôs make and explore this object in R"
  },
  {
    "objectID": "programming-iteration.html#type-specific-map-variants",
    "href": "programming-iteration.html#type-specific-map-variants",
    "title": "Programming with R: Iteration",
    "section": "Type-specific map variants",
    "text": "Type-specific map variants\nmap_*() functions return atomic vectors of specific types:\n\nmap_dbl() ‚Üí numeric vector\nmap_chr() ‚Üí character vector\nmap_int() ‚Üí integer vector\nmap_lgl() ‚Üí logical vector"
  },
  {
    "objectID": "programming-iteration.html#type-specific-map-variants-1",
    "href": "programming-iteration.html#type-specific-map-variants-1",
    "title": "Programming with R: Iteration",
    "section": "Type-specific map variants",
    "text": "Type-specific map variants\n\nmap_dbl(parks, nchar)\n\n[1]  5  6  4 15\n\n\n\n\nmap_chr(parks, toupper)\n\n[1] \"BANFF\"           \"JASPER\"          \"YOHO\"            \"RIDING MOUNTAIN\"\n\n\n\n\n\nNote: These are simple examples to illustrate, but nchar() and toupper() are already vectorized, so you wouldn‚Äôt normally use map() for them.\n\n\n\n\nnchar(parks)\n\n[1]  5  6  4 15\n\ntoupper(parks)\n\n[1] \"BANFF\"           \"JASPER\"          \"YOHO\"            \"RIDING MOUNTAIN\""
  },
  {
    "objectID": "programming-iteration.html#anonymous-functions",
    "href": "programming-iteration.html#anonymous-functions",
    "title": "Programming with R: Iteration",
    "section": "Anonymous functions",
    "text": "Anonymous functions\nmap(.x, .f)\nThe .f argument to map() can be:\n\na named function (e.g., nchar, toupper)\nan anonymous function (a function defined in place)"
  },
  {
    "objectID": "programming-iteration.html#syntax-for-anonymous-functions",
    "href": "programming-iteration.html#syntax-for-anonymous-functions",
    "title": "Programming with R: Iteration",
    "section": "Syntax for anonymous functions:",
    "text": "Syntax for anonymous functions:\n\n\nIf simple, on one line:\n\\(x) what to do with x\n\n\n\nnum &lt;- 1:4\nmap(num, \\(x) x + 1)\n\n[[1]]\n[1] 2\n\n[[2]]\n[1] 3\n\n[[3]]\n[1] 4\n\n[[4]]\n[1] 5\n\n\n\n\n\nOr more complex:\n\\(arg1, arg2, ...) {\n  # function body\n}\n\n\n\n\nnum &lt;- 1:4\nmap(num, \\(x) {\n  y &lt;- x^2\n  z &lt;- y + 3\n  z\n})\n\n[[1]]\n[1] 4\n\n[[2]]\n[1] 7\n\n[[3]]\n[1] 12\n\n[[4]]\n[1] 19"
  },
  {
    "objectID": "programming-iteration.html#map-atomic-variants",
    "href": "programming-iteration.html#map-atomic-variants",
    "title": "Programming with R: Iteration",
    "section": "Map: Atomic variants",
    "text": "Map: Atomic variants\n\n\nmap() always returns a list:\n\nnum &lt;- 1:4\nmap(num, \\(x) x + 1)\n\n[[1]]\n[1] 2\n\n[[2]]\n[1] 3\n\n[[3]]\n[1] 4\n\n[[4]]\n[1] 5\n\n\n\nUse an atomic variant to specify type:\n\nnum &lt;- 1:4\nmap_int(num, \\(x) x + 1)\n\n[1] 2 3 4 5"
  },
  {
    "objectID": "programming-iteration.html#reading-multiple-files",
    "href": "programming-iteration.html#reading-multiple-files",
    "title": "Programming with R: Iteration",
    "section": "Reading multiple files",
    "text": "Reading multiple files\nIteration functions in {purrr} can help with repetitive tasks.\n\nExample\nRead Excel files from a directory, then combine into a single data-frame."
  },
  {
    "objectID": "programming-iteration.html#our-turn-reading-data-manually",
    "href": "programming-iteration.html#our-turn-reading-data-manually",
    "title": "Programming with R: Iteration",
    "section": "Our turn: Reading data manually",
    "text": "Our turn: Reading data manually\nHere‚Äôs our starting code:\ndata1952 &lt;- read_excel(\"data/gapminder/1952.xlsx\")\ndata1957 &lt;- read_excel(\"data/gapminder/1957.xlsx\")\ndata1962 &lt;- read_excel(\"data/gapminder/1952.xlsx\")\ndata1967 &lt;- read_excel(\"data/gapminder/1967.xlsx\")\n\ndata_manual &lt;- bind_rows(data1952, data1957, data1962, data1967)\n\nWhat problems do you see?\n(I see one real problem, and one philosophical problem)\n\n\n\nStarting code in 04-iteration.R"
  },
  {
    "objectID": "programming-iteration.html#our-turn-make-list-of-paths",
    "href": "programming-iteration.html#our-turn-make-list-of-paths",
    "title": "Programming with R: Iteration",
    "section": "Our turn: Make list of paths",
    "text": "Our turn: Make list of paths\nI see this as a two step problem:\n\nmake a named list of paths, name is year\nuse list of paths to read data frames, combine\n\n\nLet‚Äôs work together to improve this code to get paths:\npaths &lt;-\n  # get the filepaths from the directory\n  fs::dir_ls(\"data/gapminder\") |&gt;\n  # extract the year as names"
  },
  {
    "objectID": "programming-iteration.html#our-turn-read-data",
    "href": "programming-iteration.html#our-turn-read-data",
    "title": "Programming with R: Iteration",
    "section": "Our turn: Read data",
    "text": "Our turn: Read data\nLet‚Äôs work together to improve this code to read data:\ndata &lt;-\n  paths |&gt;\n  # read each file from excel, into data frame\n  # set list-names as column `year`\n  # bind into single data-frame\n  # convert year to number"
  },
  {
    "objectID": "programming-iteration.html#map-over-two-inputs",
    "href": "programming-iteration.html#map-over-two-inputs",
    "title": "Programming with R: Iteration",
    "section": "Map over two inputs",
    "text": "Map over two inputs\nSometimes you need to map over two inputs that are the same length.\nUse map2() with two inputs, and supply a function that takes two arguments.\n\nparams1 &lt;- c(1, 2, 3)\nparams2 &lt;- c(10, 20, 30)\n\nmap2(\n  params1,\n  params2,\n  \\(x, y) x + y\n)\n\n[[1]]\n[1] 11\n\n[[2]]\n[1] 22\n\n[[3]]\n[1] 33\n\n\n\nVector variants: map2_dbl(), map2_chr(), etc.\nSee pmap() for more than two inputs."
  },
  {
    "objectID": "programming-iteration.html#purrrwalk",
    "href": "programming-iteration.html#purrrwalk",
    "title": "Programming with R: Iteration",
    "section": "purrr::walk()",
    "text": "purrr::walk()\nFor functions called for their side effects (i.e., not for their return value)\nUseful for:\n\nwriting data files\nsaving plots\nwalk2() for two inputs\n\n\n\nwalk2(\n  list_of_dataframes,\n  list_of_filepaths,\n  \\(df, f) {\n    write_csv(df, f)\n  }\n)"
  },
  {
    "objectID": "programming-iteration.html#your-turn",
    "href": "programming-iteration.html#your-turn",
    "title": "Programming with R: Iteration",
    "section": "Your turn",
    "text": "Your turn\nUsing our first example with the rodent data, use purrr instead of a for loop to:\n\nMake a list of plots\nSave plots for each rodent site (plot)\n\n\n\nStarting code in 04-iteration.R"
  },
  {
    "objectID": "programming-iteration.html#summary",
    "href": "programming-iteration.html#summary",
    "title": "Programming with R: Iteration",
    "section": "Summary",
    "text": "Summary\n\nLoops are explicit but verbose\nFunctional programming (purrr) is usually clearer and efficient\nUse map_*() to iterate over lists/vectors\nUse walk() (and variants) for side effects\npurrr functions can be parallelized with in_parallel()"
  },
  {
    "objectID": "programming-iteration.html#resources",
    "href": "programming-iteration.html#resources",
    "title": "Programming with R: Iteration",
    "section": "Resources",
    "text": "Resources\n\nR4DS chapter on iteration: https://r4ds.hadley.nz/iteration\npurrr documentation: https://purrr.tidyverse.org/\ntidyverse blog on purrr: https://tidyverse.org/blog/2023/05/purrr-walk-this-way/\nParallel processing with purrr: https://purrr.tidyverse.org/articles/parallel.html"
  },
  {
    "objectID": "regex.html#why-regular-expressions",
    "href": "regex.html#why-regular-expressions",
    "title": "String Manipulation with Regular Expressions",
    "section": "Why regular expressions?",
    "text": "Why regular expressions?\nWorking with text data is common in data science:\n\nFile names: Extract dates, site IDs, or plot numbers\nData cleaning: Standardize species codes, fix formatting\nData validation: Check if values match expected patterns\n\n\nRegular expressions (regex) are a powerful pattern-matching language for working with text."
  },
  {
    "objectID": "regex.html#the-stringr-package",
    "href": "regex.html#the-stringr-package",
    "title": "String Manipulation with Regular Expressions",
    "section": "The stringr package",
    "text": "The stringr package\nPart of the tidyverse, stringr makes working with strings consistent and easy easier.\n\nlibrary(stringr)\n\nAll stringr functions:\n\nStart with str_\nTake the string as the first argument (pipe-friendly!)\nUse regular expressions for pattern matching"
  },
  {
    "objectID": "regex.html#basic-string-operations",
    "href": "regex.html#basic-string-operations",
    "title": "String Manipulation with Regular Expressions",
    "section": "Basic string operations",
    "text": "Basic string operations\nBefore regex, let‚Äôs see simple stringr functions:\n\nparks &lt;- c(\n  \"Banff National Park\",\n  \"Jasper National Park\",\n  \"Yoho National Park\",\n  \"Kootenay National Park\"\n)\n\n\n\nstr_length(parks) # Count characters\n\n[1] 19 20 18 22\n\n\n\n\n\nstr_to_upper(parks) # Convert to uppercase\n\n[1] \"BANFF NATIONAL PARK\"    \"JASPER NATIONAL PARK\"   \"YOHO NATIONAL PARK\"     \"KOOTENAY NATIONAL PARK\"\n\n\n\n\n\nstr_detect(parks, \"Banff\") # Does it contain \"Banff\"?\n\n[1]  TRUE FALSE FALSE FALSE"
  },
  {
    "objectID": "regex.html#literal-pattern-matching",
    "href": "regex.html#literal-pattern-matching",
    "title": "String Manipulation with Regular Expressions",
    "section": "Literal pattern matching",
    "text": "Literal pattern matching\nThe simplest regex: match exact text\n\nfiles &lt;- c(\n  \"2024-08-12_site-1_plot-data.csv\",\n  \"2024-08-12_site-2_plot-data.csv\",\n  \"2024-09-15_site-1_plot-data.csv\"\n)\n\n\n\n# Which files are from site-1?\nstr_detect(files, \"site-1\")\n\n[1]  TRUE FALSE  TRUE\n\n\n\n\n\n# Extract just the matching files\nsite1_files &lt;- str_subset(files, \"site-1\")\nsite1_files\n\n[1] \"2024-08-12_site-1_plot-data.csv\" \"2024-09-15_site-1_plot-data.csv\""
  },
  {
    "objectID": "regex.html#the-dot-.-match-any-character",
    "href": "regex.html#the-dot-.-match-any-character",
    "title": "String Manipulation with Regular Expressions",
    "section": "The dot (.): match any character",
    "text": "The dot (.): match any character\n. matches any single character\n\nspecies &lt;- c(\"PIEN\", \"PICO\", \"ABLA\", \"POTR\")\n\n# Match PI followed by any two characters\nstr_detect(species, \"PI..\")\n\n[1]  TRUE  TRUE FALSE FALSE\n\n\n\n\n# What does it match?\nstr_subset(species, \"PI..\")\n\n[1] \"PIEN\" \"PICO\""
  },
  {
    "objectID": "regex.html#character-classes",
    "href": "regex.html#character-classes",
    "title": "String Manipulation with Regular Expressions",
    "section": "Character classes: []",
    "text": "Character classes: []\nMatch one of several characters\n\ncodes &lt;- c(\"Plot1\", \"Plot2\", \"Plot3\", \"PlotA\", \"PlotB\")\n\n\n\n# Match Plot followed by a digit\nstr_subset(codes, \"Plot[123]\")\n\n[1] \"Plot1\" \"Plot2\" \"Plot3\"\n\n\n\n\n\n# Match Plot followed by a letter\nstr_subset(codes, \"Plot[AB]\")\n\n[1] \"PlotA\" \"PlotB\""
  },
  {
    "objectID": "regex.html#character-ranges",
    "href": "regex.html#character-ranges",
    "title": "String Manipulation with Regular Expressions",
    "section": "Character ranges",
    "text": "Character ranges\nUse - inside [ ] for ranges:\n\n# Match any digit\nstr_subset(codes, \"Plot[0-9]\")\n\n[1] \"Plot1\" \"Plot2\" \"Plot3\"\n\n\n\n\n# Match any lowercase letter\nstr_subset(codes, \"Plot[a-z]\")\n\ncharacter(0)\n\n\n\n\n\n# Match any letter (upper or lower)\nstr_subset(codes, \"Plot[A-Za-z]\")\n\n[1] \"PlotA\" \"PlotB\""
  },
  {
    "objectID": "regex.html#negating-character-classes",
    "href": "regex.html#negating-character-classes",
    "title": "String Manipulation with Regular Expressions",
    "section": "Negating character classes: [^ ]",
    "text": "Negating character classes: [^ ]\n^ inside [ ] means ‚ÄúNOT these characters‚Äù\n\nmeasurements &lt;- c(\"temp_C\", \"temp_F\", \"precip_mm\", \"wind_kph\")\n\n# Match measurements NOT in Celsius\nstr_subset(measurements, \"temp_[^C]\")\n\n[1] \"temp_F\""
  },
  {
    "objectID": "regex.html#quantifiers-how-many-times",
    "href": "regex.html#quantifiers-how-many-times",
    "title": "String Manipulation with Regular Expressions",
    "section": "Quantifiers: how many times?",
    "text": "Quantifiers: how many times?\n\n\n\n? - 0 or 1 time (optional)\n* - 0 or more times\n+ - 1 or more times\n{n} - exactly n times\n{n,m} - between n and m times\n\n\n\nQuantifiers apply to the preceding element.\n\na+ matches one or more ‚Äôa‚Äôs\n[0-9]{2} matches exactly two digits\n-? matches an optional hyphen\n8{3,4} matches the number 8 repeated 3 or 4 times (i.e., 888 or 8888)"
  },
  {
    "objectID": "regex.html#quantifiers-in-action",
    "href": "regex.html#quantifiers-in-action",
    "title": "String Manipulation with Regular Expressions",
    "section": "Quantifiers in action",
    "text": "Quantifiers in action\n\ndates &lt;- c(\"2024-8-12\", \"2024-08-12\", \"2024-8-1\", \"24-08-12\", \"20240523\")\n\n\n\n# Match 4-digit year 2024 and 1 or 2 digits for month\nstr_detect(dates, \"2024-[0-9]{1,2}-\")\n\n[1]  TRUE  TRUE  TRUE FALSE FALSE\n\n\n\n\n\n# Match exactly 2 digits for month (more strict)\nstr_detect(dates, \"2024-[0-9]{2}-\")\n\n[1] FALSE  TRUE FALSE FALSE FALSE\n\n\n\n\n\n# Match dates regardless of if they use `-` as a separator\nstr_detect(dates, \"[0-9]{4}-?[0-9]{1,2}-?[0-9]{1,2}\")\n\n[1]  TRUE  TRUE  TRUE FALSE  TRUE"
  },
  {
    "objectID": "regex.html#anchors-position-matters",
    "href": "regex.html#anchors-position-matters",
    "title": "String Manipulation with Regular Expressions",
    "section": "Anchors: position matters",
    "text": "Anchors: position matters\n\n^ - start of string\n$ - end of string\n\n\nfilenames &lt;- c(\"data.csv\", \"plot-data.csv\", \"data-plot.csv\")\n\n# Files that START with \"data\"\nstr_subset(filenames, \"^data\")\n\n[1] \"data.csv\"      \"data-plot.csv\"\n\n\n\n\n# Files that END with \".csv\"\nstr_subset(filenames, \"\\\\.csv$\") # \\\\ escapes the .\n\n[1] \"data.csv\"      \"plot-data.csv\" \"data-plot.csv\""
  },
  {
    "objectID": "regex.html#special-characters-need-escaping",
    "href": "regex.html#special-characters-need-escaping",
    "title": "String Manipulation with Regular Expressions",
    "section": "Special characters need escaping",
    "text": "Special characters need escaping\nSome characters have special meaning: . * + ? [ ] { } ( ) ^ $ | \\\nTo match them literally, escape with \\\\:\n\nprices &lt;- c(\"$12.99\", \"$5.00\", \"12.99\", \"free\")\n\n# Match prices with dollar sign\nstr_subset(prices, \"\\\\$\")\n\n[1] \"$12.99\" \"$5.00\" \n\n\n\n\n# Match prices with decimal point\nstr_subset(prices, \"\\\\.\")\n\n[1] \"$12.99\" \"$5.00\"  \"12.99\""
  },
  {
    "objectID": "regex.html#shorthand-character-classes",
    "href": "regex.html#shorthand-character-classes",
    "title": "String Manipulation with Regular Expressions",
    "section": "Shorthand character classes",
    "text": "Shorthand character classes\nConvenient shortcuts:\n\n\\\\d - any digit (same as [0-9])\n\\\\s - whitespace (space, tab, newline)\n\\\\w - word character (letter, digit, underscore)\n\n\n\nsite_codes &lt;- c(\"SITE_001\", \"SITE 002\", \"SITE-003\")\n\n# Match SITE followed by any character, followed by a digit\nstr_subset(site_codes, \"SITE.\\\\d+\")\n\n[1] \"SITE_001\" \"SITE 002\" \"SITE-003\""
  },
  {
    "objectID": "regex.html#extracting-matches-str_extract",
    "href": "regex.html#extracting-matches-str_extract",
    "title": "String Manipulation with Regular Expressions",
    "section": "Extracting matches: str_extract()",
    "text": "Extracting matches: str_extract()\nGet the actual matching text:\n\ndata_files &lt;- c(\"2024-08-12_banff_temp.csv\", \"2024-09-15_jasper_precip.csv\")\n\n# Extract the dates\nstr_extract(data_files, \"\\\\d{4}-\\\\d{2}-\\\\d{2}\")\n\n[1] \"2024-08-12\" \"2024-09-15\"\n\n\n\n\n# Extract the park names\nstr_extract(data_files, \"[a-z]+\")\n\n[1] \"banff\"  \"jasper\""
  },
  {
    "objectID": "regex.html#capturing-groups",
    "href": "regex.html#capturing-groups",
    "title": "String Manipulation with Regular Expressions",
    "section": "Capturing groups: ( )",
    "text": "Capturing groups: ( )\nParentheses create groups you can extract separately:\n\ndates &lt;- c(\"2024-08-12\", \"2024-09-15\", \"2023-12-31\")\n\n# Extract year, month, day separately\nstr_match(dates, \"(\\\\d{4})-(\\\\d{2})-(\\\\d{2})\")\n\n     [,1]         [,2]   [,3] [,4]\n[1,] \"2024-08-12\" \"2024\" \"08\" \"12\"\n[2,] \"2024-09-15\" \"2024\" \"09\" \"15\"\n[3,] \"2023-12-31\" \"2023\" \"12\" \"31\"\n\n\n\nFirst column is the full match, then each group.\n\n\n\nUse str_extract() and specify group to just get the months\n\nstr_extract(dates, \"(\\\\d{4})-(\\\\d{2})-(\\\\d{2})\", group = 2)\n\n[1] \"08\" \"09\" \"12\"\n\n\n\n\nMore often we want to extract a particular part"
  },
  {
    "objectID": "regex.html#replacing-text-str_replace",
    "href": "regex.html#replacing-text-str_replace",
    "title": "String Manipulation with Regular Expressions",
    "section": "Replacing text: str_replace()",
    "text": "Replacing text: str_replace()\n\nmessy_codes &lt;- c(\"SITE_001\", \"SITE-002\", \"SITE_003\", \"PLOT_004\", \"PLOT-005\")\n\n# Replace hyphens with underscores\nstr_replace(messy_codes, \"-\", \"_\")\n\n[1] \"SITE_001\" \"SITE_002\" \"SITE_003\" \"PLOT_004\" \"PLOT_005\"\n\n\n\n\n# Replace \"SITE\" with \"PLOT\"\nstr_replace(messy_codes, \"SITE\", \"PLOT\")\n\n[1] \"PLOT_001\" \"PLOT-002\" \"PLOT_003\" \"PLOT_004\" \"PLOT-005\"\n\n\n\n\n\n# Combine them with pipes\nclean_codes &lt;- str_replace(messy_codes, \"-\", \"_\") |&gt;\n  str_replace(\"SITE\", \"PLOT\")\nclean_codes\n\n[1] \"PLOT_001\" \"PLOT_002\" \"PLOT_003\" \"PLOT_004\" \"PLOT_005\""
  },
  {
    "objectID": "regex.html#practical-regex-workflow",
    "href": "regex.html#practical-regex-workflow",
    "title": "String Manipulation with Regular Expressions",
    "section": "Practical regex workflow",
    "text": "Practical regex workflow\n\nStart simple: Match literal text first\nTest iteratively: Use str_detect() and str_subset() to verify\nBuild complexity: Add character classes, quantifiers\nExtract or replace: Use str_extract() or str_replace()\nValidate: Check edge cases\n\n\nPro tip: Use regex101.com to test and debug patterns!"
  },
  {
    "objectID": "regex.html#your-turn-exercise-1",
    "href": "regex.html#your-turn-exercise-1",
    "title": "String Manipulation with Regular Expressions",
    "section": "Your turn: Exercise 1",
    "text": "Your turn: Exercise 1\nYou have these file names:\n\nfiles &lt;- c(\n  \"2024-08-12_site1_plot-A_data.csv\",\n  \"2024-08-12_site2_plot-B_data.csv\",\n  \"2024-09-15_site1_plot-C_data.csv\",\n  \"2023-12-31_site3_plot-A_data.csv\"\n)\n\n\nExtract all dates (YYYY-MM-DD format)\n\n\n\n[1] \"2024-08-12\" \"2024-08-12\" \"2024-09-15\" \"2023-12-31\"\n\n\n\nFind files from site1\n\n\n\n[1] \"2024-08-12_site1_plot-A_data.csv\" \"2024-09-15_site1_plot-C_data.csv\"\n\n\n\nExtract the plot letter (A, B, or C)\n\n\n\n[1] \"A\" \"B\" \"C\" \"A\"\n\n\n\nGive participants 5 minutes to work on this"
  },
  {
    "objectID": "regex.html#solution-exercise-1",
    "href": "regex.html#solution-exercise-1",
    "title": "String Manipulation with Regular Expressions",
    "section": "Solution: Exercise 1",
    "text": "Solution: Exercise 1\n\n# 1. Extract dates\nstr_extract(files, \"^\\\\d{4}-\\\\d{2}-\\\\d{2}\")\n\n[1] \"2024-08-12\" \"2024-08-12\" \"2024-09-15\" \"2023-12-31\"\n\n# 2. Find files from site1\nstr_subset(files, \"site1\")\n\n[1] \"2024-08-12_site1_plot-A_data.csv\" \"2024-09-15_site1_plot-C_data.csv\"\n\n# 3. Extract plot letter\nstr_extract(files, \"plot-[A-Z]\") |&gt;\n  str_extract(\"[A-Z]$\")\n\n[1] \"A\" \"B\" \"C\" \"A\""
  },
  {
    "objectID": "regex.html#your-turn-exercise-2",
    "href": "regex.html#your-turn-exercise-2",
    "title": "String Manipulation with Regular Expressions",
    "section": "Your turn: Exercise 2",
    "text": "Your turn: Exercise 2\nYou have messy species codes:\n\nspecies &lt;- c(\n  \"PIEN (Engelmann Spruce)\",\n  \"PICO   Lodgepole Pine\",\n  \"ABLA - Subalpine Fir\",\n  \"POTR/Trembling Aspen\"\n)\n\n\nExtract just the 4-letter species codes\n\n\n\n[1] \"PIEN\" \"PICO\" \"ABLA\" \"POTR\"\n\n\n\nReplace all separators (spaces, -, /, parentheses) with a single space\n\n\n\n[1] \"PIEN Engelmann Spruce\" \"PICO Lodgepole Pine\"   \"ABLA Subalpine Fir\"    \"POTR Trembling Aspen\" \n\n\nHint: Check out str_squish() to remove extra whitespace!\n\nCreate clean format: \"CODE: Common Name\"\n\n\n\n[1] \"PIEN: Engelmann Spruce\" \"PICO: Lodgepole Pine\"   \"ABLA: Subalpine Fir\"    \"POTR: Trembling Aspen\" \n\n\n\nGive participants 5-7 minutes for this one"
  },
  {
    "objectID": "regex.html#solution-exercise-2",
    "href": "regex.html#solution-exercise-2",
    "title": "String Manipulation with Regular Expressions",
    "section": "Solution: Exercise 2",
    "text": "Solution: Exercise 2\n\n# 1. Extract 4-letter codes\nstr_extract(species, \"^[A-Z]{4}\")\n\n[1] \"PIEN\" \"PICO\" \"ABLA\" \"POTR\"\n\n# 2. Replace separators with space\ncleaned &lt;- str_replace_all(species, \"[()/-]\", \" \") |&gt;\n  str_squish() # Remove extra whitespace\ncleaned\n\n[1] \"PIEN Engelmann Spruce\" \"PICO Lodgepole Pine\"   \"ABLA Subalpine Fir\"    \"POTR Trembling Aspen\" \n\n# 3. Create clean format\ncodes &lt;- str_extract(cleaned, \"^[A-Z]{4}\")\nnames &lt;- str_replace_all(cleaned, \"^[A-Z]{4} \", \"\")\npaste0(codes, \": \", names)\n\n[1] \"PIEN: Engelmann Spruce\" \"PICO: Lodgepole Pine\"   \"ABLA: Subalpine Fir\"    \"POTR: Trembling Aspen\""
  },
  {
    "objectID": "regex.html#key-takeaways",
    "href": "regex.html#key-takeaways",
    "title": "String Manipulation with Regular Expressions",
    "section": "Key takeaways",
    "text": "Key takeaways\n\nCommon patterns: . (any), [abc] (one of), +/*/?/{} (quantifiers)\nUse \\\\ to escape (match) special characters\nTest frequently with str_detect() and str_subset()\nAnchors (^, $) and groups () give you control\nIt‚Äôs often easier to pipe multiple stringr functions together than to write one complex regex\n\n\nRegular expressions are a skill built through practice. Start simple and build complexity as needed!\nYou‚Äôre going to have to look things up a lot!"
  },
  {
    "objectID": "regex.html#resources",
    "href": "regex.html#resources",
    "title": "String Manipulation with Regular Expressions",
    "section": "Resources",
    "text": "Resources\n\nstringr cheatsheet: posit.co/resources/cheatsheets\nRegular Expressions Help: regular-expressions.info/\nBook chapter: R for Data Science - Strings\nPractice: regexone.com"
  },
  {
    "objectID": "workflows.html#introductions",
    "href": "workflows.html#introductions",
    "title": "Creating Efficient Workflows in R",
    "section": "Introductions",
    "text": "Introductions\n\n\n\nMe: Andy Teucher\n\n andyteucher.ca\n ateucher\n andyteucher\n andy-teucher\n\nYourselves\n\nName\nWhere you are\nWhat you work on\nHardest thing about R"
  },
  {
    "objectID": "workflows.html#resources",
    "href": "workflows.html#resources",
    "title": "Creating Efficient Workflows in R",
    "section": "Resources",
    "text": "Resources\n\nWorkshop website: https://andyteucher.ca/pc-intermediate-r/\n\nWTF Book: https://rstats.wtf/"
  },
  {
    "objectID": "workflows.html#project-oriented-workflows",
    "href": "workflows.html#project-oriented-workflows",
    "title": "Creating Efficient Workflows in R",
    "section": "Project-oriented workflows",
    "text": "Project-oriented workflows\n\nConcept of a project \nProject structure\nEmbrace the blank slate \nNaming things\nFile organization"
  },
  {
    "objectID": "workflows.html#personal-r-administration",
    "href": "workflows.html#personal-r-administration",
    "title": "Creating Efficient Workflows in R",
    "section": "Personal R administration",
    "text": "Personal R administration\n\nWhere do packages live?\nInstalling and updating packages\nR Startup\n.Rprofile and .Renviron files"
  },
  {
    "objectID": "workflows.html#efficient-use-of-your-ide",
    "href": "workflows.html#efficient-use-of-your-ide",
    "title": "Creating Efficient Workflows in R",
    "section": "Efficient use of your IDE",
    "text": "Efficient use of your IDE\n\nCustomizing your IDE\nKeyboard shortcuts\nCommand palette\nTab completion\nAutoformatting code\nGetting help: Reprexes"
  },
  {
    "objectID": "workflows.html#layout",
    "href": "workflows.html#layout",
    "title": "Creating Efficient Workflows in R",
    "section": "Layout",
    "text": "Layout\n\n\nhttps://github.com/posit-dev/positron-website/pull/116/"
  },
  {
    "objectID": "workflows.html#layout-1",
    "href": "workflows.html#layout-1",
    "title": "Creating Efficient Workflows in R",
    "section": "Layout",
    "text": "Layout\n\n\nhttps://github.com/posit-dev/positron-website/pull/116/\n\n\nThese UI elements are the most novel for RStudio users:\nThe Activity bar provides access to different functional capabilities of Positron. Clicking here changes what appears in the Primary side bar. The Primary side bar displays context-specific content based on which icon is clicked in the Activity bar."
  },
  {
    "objectID": "workflows.html#keyboard-shortcuts",
    "href": "workflows.html#keyboard-shortcuts",
    "title": "Creating Efficient Workflows in R",
    "section": "Keyboard shortcuts",
    "text": "Keyboard shortcuts\nEnable Rstudio keyboard shortcuts via:\nSettings &gt; Workbench &gt; Keybindings: Rstudio Keybindings"
  },
  {
    "objectID": "workflows.html#command-palette",
    "href": "workflows.html#command-palette",
    "title": "Creating Efficient Workflows in R",
    "section": "Command palette",
    "text": "Command palette\n\nAccess all the things\n Ctrl + Shift + P"
  },
  {
    "objectID": "workflows.html#extensions",
    "href": "workflows.html#extensions",
    "title": "Creating Efficient Workflows in R",
    "section": "Extensions",
    "text": "Extensions\n\n\n\nPre-installed\n\nQuarto\nAir\n\n\nOther extensions\n\nRainbow csv\nvscode-pdf\nThemes\n\n\n\nCommand palette: ‚Äúinstall‚Äù. Search ‚Äútomorrow night‚Äù."
  },
  {
    "objectID": "workflows.html#data-explorer",
    "href": "workflows.html#data-explorer",
    "title": "Creating Efficient Workflows in R",
    "section": "Data Explorer",
    "text": "Data Explorer"
  },
  {
    "objectID": "workflows.html#learning-objectives",
    "href": "workflows.html#learning-objectives",
    "title": "Creating Efficient Workflows in R",
    "section": "Learning objectives",
    "text": "Learning objectives\n\nEstablish the concept of the project as the basic organizational unit of work.\nApply best practices in and leverage benefits of using a project-oriented workflow.\n\n\nCreating robust file paths that travel well in time and space.\nConstructing human and machine readable file names that sort nicely.\nDifferentiating workflow elements, analysis inputs, and analysis outputs in project structure to create navigable programming interfaces.\nRestarting R frequently, with a blank slate."
  },
  {
    "objectID": "workflows.html#prerequisites",
    "href": "workflows.html#prerequisites",
    "title": "Creating Efficient Workflows in R",
    "section": "Prerequisites",
    "text": "Prerequisites\n\ninstall.packages(c(\"tidyverse\", \"devtools\"))\n\ndevtools::install_github(\"r-lib/usethis\")"
  },
  {
    "objectID": "workflows.html#be-organized-as-you-go-not-tomorrow",
    "href": "workflows.html#be-organized-as-you-go-not-tomorrow",
    "title": "Creating Efficient Workflows in R",
    "section": "Be organized as you go, not ‚Äútomorrow‚Äù",
    "text": "Be organized as you go, not ‚Äútomorrow‚Äù\n\n\nDon‚Äôt fret over past mistakes.\n\n\n\n\nRaise the bar for new work."
  },
  {
    "objectID": "workflows.html#prerequisite-save-code-in-scripts",
    "href": "workflows.html#prerequisite-save-code-in-scripts",
    "title": "Creating Efficient Workflows in R",
    "section": "Prerequisite: Save code in scripts",
    "text": "Prerequisite: Save code in scripts\nSaving code is an absolute requirement for reproducibility. (Future you, future us)\n\nSave commands as ‚Äúscripts‚Äù (.R) or ‚Äúnotebooks‚Äù (.Rmd).\nIt doesn‚Äôt have to be polished.\nJust save it!\nEverything that really matters should be achieved through code that you save\nContrast: Series of unrecorded mouse clicks\n\nThe process is important, the product is just an outcome\n\nOutputs should be treated as disposable\nScripts are the source of truth"
  },
  {
    "objectID": "workflows.html#adopt-a-project-oriented-workflow",
    "href": "workflows.html#adopt-a-project-oriented-workflow",
    "title": "Creating Efficient Workflows in R",
    "section": "Adopt a project-oriented workflow",
    "text": "Adopt a project-oriented workflow\n\n\n\nWhy\n\nwork on more than 1 thing at a time\ncollaborate, communicate, distribute\nstart and stop safely\n\n\n\n\nHow\n\ndedicated directory\nRStudio Project or Positron Workspace\nGit repo, probably syncing to a remote\n\n\n\nProject-oriented workflows"
  },
  {
    "objectID": "workflows.html#if-the-top-of-your-script-is",
    "href": "workflows.html#if-the-top-of-your-script-is",
    "title": "Creating Efficient Workflows in R",
    "section": "If the top of your script is",
    "text": "If the top of your script is\n\n\nsetwd(\"C:/Users/andy/path/that/only/I/have\")\nrm(list = ls())\n\n\nThere is another path.\n\n\nProject-oriented workflow designs this away. üôå\n\n\nProject-oriented workflows"
  },
  {
    "objectID": "workflows.html#organize-your-work-into-projects",
    "href": "workflows.html#organize-your-work-into-projects",
    "title": "Creating Efficient Workflows in R",
    "section": "Organize your work into projects",
    "text": "Organize your work into projects\nOne folder per project.\n\nReport? R package? Chapter? Website? Whatever.\nCan be the same unit as a GitHub Repo.\nIf using RStudio, it‚Äôs Project (capital P)\nIf using Positron, it‚Äôs Workspace\nEach Project gets its own R instance\nR starts at the project root working directory: all paths are relative to the project‚Äôs folder.\n\n\nProject-oriented workflows"
  },
  {
    "objectID": "workflows.html#organize-your-work-into-projects-1",
    "href": "workflows.html#organize-your-work-into-projects-1",
    "title": "Creating Efficient Workflows in R",
    "section": "Organize your work into projects",
    "text": "Organize your work into projects\n\n\nmy-project/\n‚îú‚îÄ‚îÄ 01_read-data.R\n‚îú‚îÄ‚îÄ 02_clean-data.R\n‚îú‚îÄ‚îÄ 03_analysis.R\n‚îú‚îÄ‚îÄ 04_output.R\n‚îú‚îÄ‚îÄ R\n‚îú‚îÄ‚îÄ README.md\n‚îú‚îÄ‚îÄ data\n‚îÇ   ‚îú‚îÄ‚îÄ derived_data\n‚îÇ   ‚îî‚îÄ‚îÄ raw_data\n‚îú‚îÄ‚îÄ outputs\n‚îî‚îÄ‚îÄ paper\n    ‚îú‚îÄ‚îÄ paper.qmd\n    ‚îî‚îÄ‚îÄ references.bib\n\n\n\nProject-oriented workflows"
  },
  {
    "objectID": "workflows.html#what-does-it-mean-to-be-an-rstudio-project",
    "href": "workflows.html#what-does-it-mean-to-be-an-rstudio-project",
    "title": "Creating Efficient Workflows in R",
    "section": "What does it mean to be an RStudio Project?",
    "text": "What does it mean to be an RStudio Project?\nOpen Project = dedicated instance of RStudio\n\ndedicated R process\nfile browser pointed at Project directory\nworking directory set to Project directory\n\n\n\nRStudio leaves notes to itself in foo.Rproj"
  },
  {
    "objectID": "workflows.html#what-does-it-mean-to-be-a-positron-project-workspace",
    "href": "workflows.html#what-does-it-mean-to-be-a-positron-project-workspace",
    "title": "Creating Efficient Workflows in R",
    "section": "What does it mean to be a Positron Project Workspace?",
    "text": "What does it mean to be a Positron Project Workspace?\nOpen Project = dedicated instance of Positron\n\ndedicated R process\nfile browser pointed at Project directory\nworking directory set to Project directory\n\n\n\nOften just a project folder that‚Äôs been opened in its own window via Open Folder or similar\n\n.git/ directory\n.Rproj file\n.vscode/settings.json file\n_quarto.yml file\nDESCRIPTION file\nrenv.lock file\n.here file"
  },
  {
    "objectID": "workflows.html#practice-safe-paths",
    "href": "workflows.html#practice-safe-paths",
    "title": "Creating Efficient Workflows in R",
    "section": "Practice ‚Äúsafe paths‚Äù",
    "text": "Practice ‚Äúsafe paths‚Äù\nThe chance of setwd() having the desired effect ‚Äì making the file paths work ‚Äì for anyone besides its author is ~0%.\nlibrary(ggplot2)\nsetwd(\"/Users/andy/cuddly_broccoli/verbose/foofy/data\")\ndf &lt;- read.csv(‚Äúraw_foofy_data.csv‚Äù)\np &lt;- ggplot(df, aes(x, y)) + geom_point()\nggsave(\"/Users/andy/cuddly_broccoi/ambiguous/fig.png\")\n It‚Äôs also unlikely to work for the author one or two years or computers from now.\nHard-wired, absolute paths, especially when sprinkled throughout the code, make a project brittle. Such code does not travel well across time or space."
  },
  {
    "objectID": "workflows.html#practice-safe-paths-1",
    "href": "workflows.html#practice-safe-paths-1",
    "title": "Creating Efficient Workflows in R",
    "section": "Practice ‚Äúsafe paths‚Äù",
    "text": "Practice ‚Äúsafe paths‚Äù\n\nrelative to a stable base, not absolute paths.\n\nuse file system functions, not paste(), strsplit(), etc.\n\nWorking directory is associated with a specific process or running application.\nWhen you open a project in RStudio or Positron, it sets the working directory to the project root - this is that ‚Äústable base‚Äù\n‚ÄúWorking directory‚Äù as a concept is not comparable to ‚Äúhome directory‚Äù. ‚ÄúHome directory‚Äù is a static, persistent thing."
  },
  {
    "objectID": "workflows.html#practice-safe-paths-2",
    "href": "workflows.html#practice-safe-paths-2",
    "title": "Creating Efficient Workflows in R",
    "section": "Practice ‚Äúsafe paths‚Äù",
    "text": "Practice ‚Äúsafe paths‚Äù\nInstead of:\n\nsetwd(\"C:/Users/andy/path/that/only/I/have\")\nmy_data &lt;- read.csv(\"data/my_data.csv\")\n\nOr:\n\nmy_data &lt;- read.csv(\"C:/Users/andy/path/that/only/I/have/data/my_data.csv\")"
  },
  {
    "objectID": "workflows.html#practice-safe-paths-3",
    "href": "workflows.html#practice-safe-paths-3",
    "title": "Creating Efficient Workflows in R",
    "section": "Practice ‚Äúsafe paths‚Äù",
    "text": "Practice ‚Äúsafe paths‚Äù\nSet your work up as an RStudio or Positron Project/Workspace and use relative paths:\n\nmy_data &lt;- read.csv(\"data/my_data.csv\")\n\nOr:\n\nmy_data &lt;- read.csv(file.path(\"data\", \"my_data.csv\"))"
  },
  {
    "objectID": "workflows.html#work-on-multiple-projects-at-once",
    "href": "workflows.html#work-on-multiple-projects-at-once",
    "title": "Creating Efficient Workflows in R",
    "section": "Work on multiple projects at once",
    "text": "Work on multiple projects at once\nBecause each project uses an isolated R process"
  },
  {
    "objectID": "workflows.html#which-persist-after-rmlist-ls",
    "href": "workflows.html#which-persist-after-rmlist-ls",
    "title": "Creating Efficient Workflows in R",
    "section": "Which persist after rm(list = ls())?",
    "text": "Which persist after rm(list = ls())?\n\n\n\nOption\nPersists?\n\n\n\n\nA. library(dplyr)\n\n\n\nB. summary &lt;- head\n\n\n\nC. options(stringsAsFactors = FALSE)\n\n\n\nD. Sys.setenv(LANGUAGE = \"fr\")\n\n\n\nE. x &lt;- 1:5\n\n\n\nF. attach(iris)\n\n\n\n\n\n\n\n‚àí+\n02:00"
  },
  {
    "objectID": "workflows.html#which-persist-after-rmlist-ls-1",
    "href": "workflows.html#which-persist-after-rmlist-ls-1",
    "title": "Creating Efficient Workflows in R",
    "section": "Which persist after rm(list = ls())?",
    "text": "Which persist after rm(list = ls())?\n\n\n\n\n\n\n\nOption\nPersists?\n\n\n\n\nA. library(dplyr)\n\n\n\nB. summary &lt;- head\n\n\n\nC. options(stringsAsFactors = FALSE)\n\n\n\nD. Sys.setenv(LANGUAGE = \"fr\")\n\n\n\nE. x &lt;- 1:5\n\n\n\nF. attach(iris)"
  },
  {
    "objectID": "workflows.html#start-r-with-a-blank-slate",
    "href": "workflows.html#start-r-with-a-blank-slate",
    "title": "Creating Efficient Workflows in R",
    "section": "Start R with a blank slate",
    "text": "Start R with a blank slate\n\n\n\nSave code for reproducibility.\nWhen you quit: do not save the workspace to an .Rdata file.\nWhen you start: do not reload the workspace from an .Rdata file.\nIn RStudio, set this via Tools &gt; Global Options.\nOr use usethis::use_blank_slate()\n\n\n\n\n\n\nThis is the default (and not customizable) in Positron"
  },
  {
    "objectID": "workflows.html#restart-r-often",
    "href": "workflows.html#restart-r-often",
    "title": "Creating Efficient Workflows in R",
    "section": "Restart R often",
    "text": "Restart R often\n\n\n\nSession -&gt; Restart R\n\n\n\n\nWindows\n\nCtrl + Shift + F10\n\nMac\n\nCmd + Shift + 0"
  },
  {
    "objectID": "workflows.html#project-initiation-rstudio-project",
    "href": "workflows.html#project-initiation-rstudio-project",
    "title": "Creating Efficient Workflows in R",
    "section": "Project initiation: RStudio Project",
    "text": "Project initiation: RStudio Project\n\nNew folder + make it an RStudio Project\n\n\nusethis::create_project(\"~/i_am_new\")\nFile -&gt; New Project -&gt; New Directory -&gt; New Project\n\n\nMake existing folder into an RStudio Project\n\n\nusethis::create_project(\"~/i_exist\")\nFile -&gt; New Project -&gt; Existing Directory"
  },
  {
    "objectID": "workflows.html#project-initiation-positron-workspace",
    "href": "workflows.html#project-initiation-positron-workspace",
    "title": "Creating Efficient Workflows in R",
    "section": "Project initiation: Positron Workspace",
    "text": "Project initiation: Positron Workspace\n\nNew folder + make it a workspace\n\n\nusethis::create_project(\"~/i_am_new\", rstudio = FALSE)\nFile -&gt; New Folder From Template\n\n\nOpen an existing directory as a workspace\n\n\nusethis::create_project(\"~/i_exist\", rstudio = FALSE)\nFile -&gt; New Project -&gt; Existing Directory\n\nNote: if you don‚Äôt specify rstudio = FALSE, it will create an RStudio .Rproj file. This does no harm.\n\n\nTry either option now with a folder containing (or that will contain) Bivalve Data 2014-2022_ICE.csv."
  },
  {
    "objectID": "workflows.html#naming-things",
    "href": "workflows.html#naming-things",
    "title": "Creating Efficient Workflows in R",
    "section": "Naming things",
    "text": "Naming things\n\n\n machine readable\n\nhuman readable\n\nsort nicely\n\n\n\n\nJenny Bryan ‚ÄúNaming things‚Äù video\nNormConf ¬∑ Dec 4, 2022:\nhttps://www.youtube.com/watch?v=ES1LTlnpLMk"
  },
  {
    "objectID": "workflows.html#naming-things-1",
    "href": "workflows.html#naming-things-1",
    "title": "Creating Efficient Workflows in R",
    "section": "Naming things",
    "text": "Naming things\n\nWhat features differentiate üòî vs üòç?\n\n\n\n\n\nüòî\n\n\n\n\nüòç\n\n\n\n\nmyabstract.docx\nJoe‚Äôs Filenames Use Spaces and Punctuation.xlsx\nfigure 1.png\nhomework.R\nJW7d^(2sl@deletethisandyourcareerisoverWx2*.txt\n\n2018-01_teucher-abstract-conference.docx\njoes-filenames-are-getting-better.xlsx\nfig01_scatterplot-talk-length-vs-interest.png\n2024-07-25_ecol-455_assignment-5.R\n1986-01-28_raw-data-from-challenger-o-rings.txt\n\n\n\n\n‚àí+\n01:00"
  },
  {
    "objectID": "workflows.html#names-machines-like",
    "href": "workflows.html#names-machines-like",
    "title": "Creating Efficient Workflows in R",
    "section": "Names machines like",
    "text": "Names machines like\n\ndon‚Äôt leave white space\n\n\n\nuse letters, numbers, hyphens and underscores‚Ä¶ that‚Äôs it  (characters like ^.*?+|$ can have a special meaning)\n\n\n\n\nbe consistent with case  (some operating systems treat a and A the same, some differently).\n\n\n\n\nuse separator characters wisely\n\n¬† ¬† use underscore _ to separate different chunks\n¬† ¬† use hyphen - for words in the same chunk\n\n\n\nThis creates names that are regular expression and globbing friendly, and easy to compute on! üéâ\n\nAdapted from  https://djnavarro.net/slides-project-structure/#1.\n\n\nGlobbing: use of pattern matching against the names in a filesystem directory such that a name pattern is expanded into a list of names matching that pattern."
  },
  {
    "objectID": "workflows.html#names-humans-like",
    "href": "workflows.html#names-humans-like",
    "title": "Creating Efficient Workflows in R",
    "section": "Names humans like",
    "text": "Names humans like\n\nname contains info on content\nname anticipates context\nconcept of a slug üêå from user-friendly URLs\n\n1986-01-28_raw-data-from-challenger-o-rings.txt\nconcise, meaningful description\nusually appended to the end\n\n\nNote: A URL slug is the part of the URL after the last backslash"
  },
  {
    "objectID": "workflows.html#names-that-sort-nicely",
    "href": "workflows.html#names-that-sort-nicely",
    "title": "Creating Efficient Workflows in R",
    "section": "Names that sort nicely",
    "text": "Names that sort nicely\n\nput something numeric in there\nleft pad with zeros for constant width, nice sorting, 01\nuse the ISO 8601 standard for dates, YYYY-MM-DD\norder = chronological or ‚Ä¶ consider common sense"
  },
  {
    "objectID": "workflows.html#iso-8601",
    "href": "workflows.html#iso-8601",
    "title": "Creating Efficient Workflows in R",
    "section": "ISO 8601",
    "text": "ISO 8601\n\n\n\n\n\n\n\nYYYY-MM-DD\nISO 8601\n\nhttps://www.iso.org/iso-8601-date-and-time-format.html\n\n\nhttps://twitter.com/JennyBryan/status/816143967695687684"
  },
  {
    "objectID": "workflows.html#file-names",
    "href": "workflows.html#file-names",
    "title": "Creating Efficient Workflows in R",
    "section": "üëç file names",
    "text": "üëç file names\n\nlibrary(fs)\nlibrary(dplyr)\n\nft &lt;- tibble(files = dir_ls(\"_examples/data/\", glob = \"*.csv\"))\n\n\nIntuitive sorting.\n\n\n\nft\n\n# A tibble: 4 √ó 1\n  files                                           \n  &lt;fs::path&gt;                                      \n1 _examples/data/2024-07-16_site-2_plot-data.csv  \n2 _examples/data/2024-07-25_site-2_survey-data.csv\n3 _examples/data/2024-08-12_site-1_plot-data.csv  \n4 _examples/data/2024-08-18_site-1_survey-data.csv\n\n\n\n\narrange(ft, desc(files))\n\n# A tibble: 4 √ó 1\n  files                                           \n  &lt;fs::path&gt;                                      \n1 _examples/data/2024-08-18_site-1_survey-data.csv\n2 _examples/data/2024-08-12_site-1_plot-data.csv  \n3 _examples/data/2024-07-25_site-2_survey-data.csv\n4 _examples/data/2024-07-16_site-2_plot-data.csv"
  },
  {
    "objectID": "workflows.html#file-names-1",
    "href": "workflows.html#file-names-1",
    "title": "Creating Efficient Workflows in R",
    "section": "üëç file names",
    "text": "üëç file names\n\nlibrary(stringr)\n\nfilter(ft, str_detect(files, pattern = \"plot-data\"))\n\n# A tibble: 2 √ó 1\n  files                                         \n  &lt;fs::path&gt;                                    \n1 _examples/data/2024-07-16_site-2_plot-data.csv\n2 _examples/data/2024-08-12_site-1_plot-data.csv\n\n\nEasy to filter in R (or the shell or whatever)"
  },
  {
    "objectID": "workflows.html#file-names-2",
    "href": "workflows.html#file-names-2",
    "title": "Creating Efficient Workflows in R",
    "section": "üëç file names",
    "text": "üëç file names\n\nlibrary(tidyr)\n\nft |&gt; \n  mutate(files = path_ext_remove(files)) |&gt; \n  separate(files, into = c(\"date\", \"site\", \"data_type\"), sep = \"_\")\n\n# A tibble: 4 √ó 3\n  date  site                     data_type\n  &lt;chr&gt; &lt;chr&gt;                    &lt;chr&gt;    \n1 \"\"    examples/data/2024-07-16 site-2   \n2 \"\"    examples/data/2024-07-25 site-2   \n3 \"\"    examples/data/2024-08-12 site-1   \n4 \"\"    examples/data/2024-08-18 site-1   \n\n\nIntentional delimiters means meta-data is easily recovered.\n_ delimits fields; - delimits words\n\nRename the file Bivalve Data 2014-2022_ICE.csv to something that is machine readable, human readable, and sorts nicely.\nRead the file in to R using a relateive path"
  },
  {
    "objectID": "workflows.html#names-matter",
    "href": "workflows.html#names-matter",
    "title": "Creating Efficient Workflows in R",
    "section": "Names matter",
    "text": "Names matter\n\nmachine readable, human readable, and sort nicely\n\n\neasy to implement NOW\n\npayoffs accumulate as your skills evolve and  projects get more complex"
  },
  {
    "objectID": "workflows.html#project-structure",
    "href": "workflows.html#project-structure",
    "title": "Creating Efficient Workflows in R",
    "section": "Project structure",
    "text": "Project structure\n\n\nmy-project/\n‚îú‚îÄ‚îÄ 01_read-data.R\n‚îú‚îÄ‚îÄ 02_clean-data.R\n‚îú‚îÄ‚îÄ 03_analysis.R\n‚îú‚îÄ‚îÄ 04_output.R\n‚îú‚îÄ‚îÄ R\n‚îú‚îÄ‚îÄ README.md\n‚îú‚îÄ‚îÄ data\n‚îÇ   ‚îú‚îÄ‚îÄ derived_data\n‚îÇ   ‚îî‚îÄ‚îÄ raw_data\n‚îú‚îÄ‚îÄ outputs\n‚îî‚îÄ‚îÄ paper\n    ‚îú‚îÄ‚îÄ paper.qmd\n    ‚îî‚îÄ‚îÄ references.bib"
  },
  {
    "objectID": "workflows.html#your-r-installation",
    "href": "workflows.html#your-r-installation",
    "title": "Creating Efficient Workflows in R",
    "section": "Your R installation",
    "text": "Your R installation"
  },
  {
    "objectID": "workflows.html#r-packages",
    "href": "workflows.html#r-packages",
    "title": "Creating Efficient Workflows in R",
    "section": "R packages",
    "text": "R packages\n\nR packages\n\nthe natural unit for distributing R code\n\n\n\nbase R\n\n14 base + 15 recommended packages\nships with all binary distributions of R"
  },
  {
    "objectID": "workflows.html#additional-packages",
    "href": "workflows.html#additional-packages",
    "title": "Creating Efficient Workflows in R",
    "section": "Additional packages",
    "text": "Additional packages\n\n\nCRAN, ~20k packages\n\n# install from CRAN\ninstall.packages(\"devtools\")\n# attach\nlibrary(devtools)\n\n\n\n\nGitHub ~‚àû packages\n\n# install from GitHub\nremotes::install_github(\"r-lib/devtools\")\n# attach\nlibrary(devtools)\n\ndevelopment versions, or packages not on CRAN"
  },
  {
    "objectID": "workflows.html#r-libraries---where-do-packages-live",
    "href": "workflows.html#r-libraries---where-do-packages-live",
    "title": "Creating Efficient Workflows in R",
    "section": "R Libraries - where do packages live?",
    "text": "R Libraries - where do packages live?\n\nA library is a directory containing installed packages\nYou have at least one library on your computer\nCommon (and recommended) to have two libraries:\n\nA system library with base (14) and recommended (15) packages; installed with R.\nA user library with user-installed packages\n\nWe use library(pkg) function to attach a package\n7 base packages are always attached (base, methods, utils, stats, grDevices, datasets, graphics)"
  },
  {
    "objectID": "workflows.html#where-do-packages-live-locally",
    "href": "workflows.html#where-do-packages-live-locally",
    "title": "Creating Efficient Workflows in R",
    "section": "Where do packages live locally?",
    "text": "Where do packages live locally?\n\nThe system library (base/recommended packages).\n.Library\n\nAll libraries for the current session\n.libPaths()\n\nAll installed packages\ninstalled.packages()"
  },
  {
    "objectID": "workflows.html#your-turn",
    "href": "workflows.html#your-turn",
    "title": "Creating Efficient Workflows in R",
    "section": "Your turn",
    "text": "Your turn\n\nWhat libraries are in use in your current R session?\nUsing installed.packages(), what are the base and recommended packages?"
  },
  {
    "objectID": "workflows.html#installing-and-updating-packages",
    "href": "workflows.html#installing-and-updating-packages",
    "title": "Creating Efficient Workflows in R",
    "section": "Installing and updating packages",
    "text": "Installing and updating packages"
  },
  {
    "objectID": "workflows.html#r-startup",
    "href": "workflows.html#r-startup",
    "title": "Creating Efficient Workflows in R",
    "section": "R Startup",
    "text": "R Startup\n\n\ncomplexity in R startup, for both personal and system-level customization. We can ignore most of it"
  },
  {
    "objectID": "workflows.html#r-startup-1",
    "href": "workflows.html#r-startup-1",
    "title": "Creating Efficient Workflows in R",
    "section": "R Startup",
    "text": "R Startup\n\n.Rprofile - contains R code to be run at the start of each session.\n.Renviron - contains environment variables to be set in R sessions."
  },
  {
    "objectID": "workflows.html#what-to-put-in-.rprofile",
    "href": "workflows.html#what-to-put-in-.rprofile",
    "title": "Creating Efficient Workflows in R",
    "section": "what to put in .Rprofile",
    "text": "what to put in .Rprofile\n\nset a default CRAN mirror\ncustom startup message"
  },
  {
    "objectID": "workflows.html#what-not-to-put-in-.rprofile",
    "href": "workflows.html#what-not-to-put-in-.rprofile",
    "title": "Creating Efficient Workflows in R",
    "section": "what not to put in .Rprofile",
    "text": "what not to put in .Rprofile\nIf it matters for code you share, it should not be in .Rprofile\nwhy shouldn‚Äôt these go in .Rprofile?\n\nlibrary(tidyverse)\nf &lt;- dplyr::filter\ntheme_set(theme_bw())"
  },
  {
    "objectID": "workflows.html#why-might-these-be-safe-to-put-in-.rprofile",
    "href": "workflows.html#why-might-these-be-safe-to-put-in-.rprofile",
    "title": "Creating Efficient Workflows in R",
    "section": "Why might these be safe to put in .Rprofile?",
    "text": "Why might these be safe to put in .Rprofile?\n\nlibrary(usethis)\nlibrary(devtools)"
  },
  {
    "objectID": "workflows.html#rprofile",
    "href": "workflows.html#rprofile",
    "title": "Creating Efficient Workflows in R",
    "section": ".Rprofile",
    "text": ".Rprofile\n\nusethis::edit_r_profile()"
  },
  {
    "objectID": "workflows.html#renviron",
    "href": "workflows.html#renviron",
    "title": "Creating Efficient Workflows in R",
    "section": ".Renviron",
    "text": ".Renviron\n\nSet environment variables for R sessions\nOften sensitive information that you don‚Äôt want to share\n\nExamples\n\nAPI Keys (Eg GitHub, ChatGPT etc)\nDatabase username and password\nSome R options"
  },
  {
    "objectID": "workflows.html#renviron-1",
    "href": "workflows.html#renviron-1",
    "title": "Creating Efficient Workflows in R",
    "section": ".Renviron",
    "text": ".Renviron\n\nusethis::edit_r_environ()\n\nVAR_NAME=value\nGOOGLE_API_KEY=your_api_key_here"
  },
  {
    "objectID": "workflows.html#renviron-2",
    "href": "workflows.html#renviron-2",
    "title": "Creating Efficient Workflows in R",
    "section": ".Renviron",
    "text": ".Renviron\nAccess environment variables in R with Sys.getenv(\"VAR_NAME\")\n\nSys.getenv(\"GOOGLE_API_KEY\")\n#&gt; [1] \"your_api_key_here\""
  },
  {
    "objectID": "workflows.html#your-turn-1",
    "href": "workflows.html#your-turn-1",
    "title": "Creating Efficient Workflows in R",
    "section": "Your turn",
    "text": "Your turn\n\nCreate an environment variable in .Renviron called MY_NAME with your name as the value.\nCreate a custom startup message in .Rprofile that gives you a personalized message when you start R."
  },
  {
    "objectID": "workflows.html#customizing-your-ide",
    "href": "workflows.html#customizing-your-ide",
    "title": "Creating Efficient Workflows in R",
    "section": "Customizing your IDE",
    "text": "Customizing your IDE\n\n\nPane layout\nThemes\nFonts\nPositron extensions"
  },
  {
    "objectID": "workflows.html#keyboard-shortcuts-1",
    "href": "workflows.html#keyboard-shortcuts-1",
    "title": "Creating Efficient Workflows in R",
    "section": "Keyboard shortcuts",
    "text": "Keyboard shortcuts\nIf in doubt, use the command palette: Ctrl + Shift + P"
  },
  {
    "objectID": "workflows.html#navigation-files",
    "href": "workflows.html#navigation-files",
    "title": "Creating Efficient Workflows in R",
    "section": "Navigation & Files",
    "text": "Navigation & Files\n\nCtrl + Shift + N - New file\nCtrl + S - Save current file\nCtrl + F - Find in current file\nCtrl + Shift + F - Find in files (global search)\nCtrl + . - Go to file/function\nCtrl + 1 - Focus source editor\nCtrl + 2 - Focus console"
  },
  {
    "objectID": "workflows.html#code-editing",
    "href": "workflows.html#code-editing",
    "title": "Creating Efficient Workflows in R",
    "section": "Code Editing",
    "text": "Code Editing\n\nCtrl + Shift + C - Comment/uncomment lines\nTab - Indent selection\nShift + Tab - Unindent selection\nAlt + Up/Down - Move line(s) up/down\nAlt + Shift + Up/Down - Duplicate line(s) ???\nCtrl + X - Cut entire line (when no selection)"
  },
  {
    "objectID": "workflows.html#magic-of-multiple-cursors",
    "href": "workflows.html#magic-of-multiple-cursors",
    "title": "Creating Efficient Workflows in R",
    "section": "Magic of Multiple Cursors",
    "text": "Magic of Multiple Cursors\n\nCtrl + Alt + Up/Down - Add cursor above/below\nCtrl + D - Add next occurrence of selected text (custom)"
  },
  {
    "objectID": "workflows.html#navigation-within-code",
    "href": "workflows.html#navigation-within-code",
    "title": "Creating Efficient Workflows in R",
    "section": "Navigation Within Code",
    "text": "Navigation Within Code\n\nCtrl + Left/Right - Jump word by word\nHome/End - Jump to beginning/end of line\nCtrl + Home/End - Jump to beginning/end of document\nCtrl + P - Jump to matching brace"
  },
  {
    "objectID": "workflows.html#r-specific",
    "href": "workflows.html#r-specific",
    "title": "Creating Efficient Workflows in R",
    "section": "R-Specific",
    "text": "R-Specific\n\nTab - Auto-complete\nF1 - Show help for function under cursor\nCtrl + Shift + F10 - Restart R session\nCtrl + Shift + M - Insert pipe operator (%&gt;% or |&gt;)\nAlt + - - Insert assignment operator (&lt;-)"
  },
  {
    "objectID": "workflows.html#last.value",
    "href": "workflows.html#last.value",
    "title": "Creating Efficient Workflows in R",
    "section": ".Last.value",
    "text": ".Last.value\nShows last evaluated value in console\nRStudio\n\nTools &gt; Global Options &gt; General &gt; Advanced &gt; Show .Last.value in environment listing\n\nPositron\nControlled by an option:\n\nusethis::edit_r_profile()\noptions(positron.show_last_value = TRUE)"
  },
  {
    "objectID": "workflows.html#automatic-code-formatting",
    "href": "workflows.html#automatic-code-formatting",
    "title": "Creating Efficient Workflows in R",
    "section": "Automatic code formatting",
    "text": "Automatic code formatting\nAir: https://posit-dev.github.io/air/\n\nIn charge of the layout of your R code.\nFormatters do not change the meaning of code\nEnsure that whitespace, newlines, and other punctuation conform to a set of rules and standards\n\n\nusethis::use_air()"
  },
  {
    "objectID": "workflows.html#reprexes",
    "href": "workflows.html#reprexes",
    "title": "Creating Efficient Workflows in R",
    "section": "Reprexes",
    "text": "Reprexes"
  },
  {
    "objectID": "workflows.html#start-using-project-oriented-workflows-in-your-work",
    "href": "workflows.html#start-using-project-oriented-workflows-in-your-work",
    "title": "Creating Efficient Workflows in R",
    "section": "Start using project-oriented workflows in your work",
    "text": "Start using project-oriented workflows in your work\n\n\nUse RStudio or Positron Projects/Workspaces\ndon‚Äôt use setwd()\nuse relative paths\nUse a blank slate - restart R often"
  },
  {
    "objectID": "workflows.html#try-to-name-files-well",
    "href": "workflows.html#try-to-name-files-well",
    "title": "Creating Efficient Workflows in R",
    "section": "Try to name files well",
    "text": "Try to name files well\n\n\nmachine readable\nhuman readable\nsorts nicely (including ISO 8601 dates)"
  },
  {
    "objectID": "workflows.html#use-positron-or-rstudio-more-efficiently",
    "href": "workflows.html#use-positron-or-rstudio-more-efficiently",
    "title": "Creating Efficient Workflows in R",
    "section": "Use Positron or RStudio more efficiently",
    "text": "Use Positron or RStudio more efficiently\n\n\nuse keyboard shortcuts\nuse the command palette\nuse Air"
  }
]