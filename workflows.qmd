---
title: "Creating Efficient Workflows in R"
subtitle: "Parks Canada; Ecological Integrity Monitoring Program"
author: "Andy Teucher"
format: revealjs
---

# Getting started with Positron

![](img/positron-logo.png)

<https://positron.posit.co/> 

- See "Migrating from RStudio" section

## Layout

![](img/user-interface-rstudio-vs-positron.jpeg)

::: footer
<https://github.com/posit-dev/positron-website/pull/116/>
:::

## Layout

![](img/user-interface-for-rstudio-migration.jpeg)

::: footer
<https://github.com/posit-dev/positron-website/pull/116/>
:::

::: notes
These UI elements are the most novel for RStudio users:

The Activity bar provides access to different functional capabilities of Positron. Clicking here changes what appears in the Primary side bar.
The Primary side bar displays context-specific content based on which icon is clicked in the Activity bar.
:::

## Keyboard shortcuts

Enable Rstudio keyboard shortcuts via:

`Settings > Workbench > Keybindings: Rstudio Keybindings`

![](img/rstudio-shortcuts-positron.png)

## Command palette
<br>

### Access all the things
<br>
`Ctrl + Shift + P`

## Extensions
<br>

::: columns

::: {.column width="50%"}

### Pre-installed

- Quarto
- Air

:::

::: {.column width="50%"}

### Other extensions

- Rainbow csv
- vscode-pdf
- Themes

:::
:::

::: notes
Command palette: "install". Search "tomorrow night".
:::

## Data Explorer

![](img/data-viewer-iris.png)


## What does it mean to be an RStudio **P**roject?

Open Project = dedicated instance of **RStudio**

-   dedicated **R** process
-   file browser pointed at Project directory
-   working directory set to Project directory

. . .

<br>

RStudio leaves notes to itself in `foo.Rproj`

## What does it mean to be a Positron ~~**P**roject~~ Workspace?

Open Project = dedicated instance of **Positron**

-   dedicated **R** process
-   file browser pointed at Project directory
-   working directory set to Project directory

. . .

<br>

Often just a project folder thatâ€™s been opened in its own window via *Open Folder* or similar

-   `.git/` directory
-   `.Rproj` file
-   `.vscode/settings.json` file
-   `_quarto.yml` file
-   `DESCRIPTION` file
-   `renv.lock` file
-   `.here` file

## Start R with a blank slate

:::::: columns
::: {.column width="48%"}
-   Save **code** for reproducibility.
-   When you quit: do not save the workspace to an `.Rdata` file.
-   When you start: do not reload the workspace from an `.Rdata` file.
-   In RStudio, set this via `Tools > Global Options`.
-   Or use `usethis::use_blank_slate()`
:::

::: {.column width="2%"}
:::

::: {.column width="50%"}
![](img/rstudio-blank-slate.png)
:::
::::::

*This is the default (and not customizable) in Positron* 

## Restart R often

<br>

:::::: columns

::: {.column width="48%"}
Session -\> Restart R

![](img/restart-rstudio.png)
:::

::: {.column width="4%"}
:::

::: {.column width="48%"}
Windows

-   `Ctrl + Shift + F10`

Mac

-   `Cmd + Shift + 0`
:::

::::::

## Project initiation: RStudio Project

1.  New folder + make it an RStudio Project

-   `usethis::create_project("~/i_am_new")`

-   File -\> New Project -\> New Directory -\> New Project

2.  Make existing folder into an RStudio Project

-   `usethis::create_project("~/i_exist")`

-   File -\> New Project -\> Existing Directory

## Project initiation: Positron Workspace

1.  New folder + make it a workspace

-   `usethis::create_project("~/i_am_new", rstudio = FALSE)`

-   File -\> New Folder From Template

2.  Open an existing directory as a workspace

-   `usethis::create_project("~/i_exist", rstudio = FALSE)`

-   File -\> New Project -\> Existing Directory

*Note: if you don't specify `rstudio = FALSE`, it will create an RStudio `.Rproj` file. This does no harm.*

. . .

::: question
Try either option now with a folder containing
:::

# Efficient use of your IDE

## Customizing your IDE

<br>

- Pane layout
- Themes
- Fonts
- Positron extensions


## Keyboard shortcuts

### If in doubt, use the command palette: `Ctrl + Shift + P`

## Navigation & Files

-   **Ctrl + Shift + N** - New file
-   **Ctrl + S** - Save current file
-   **Ctrl + F** - Find in current file
-   **Ctrl + Shift + F** - Find in files (global search)
-   **Ctrl + .** - Go to file/function
-   **Ctrl + 1** - Focus source editor
-   **Ctrl + 2** - Focus console

## Code Editing

-   **Ctrl + Shift + C** - Comment/uncomment lines
-   **Tab** - Indent selection
-   **Shift + Tab** - Unindent selection
-   **Alt + Up/Down** - Move line(s) up/down
-   **Alt + Shift + Up/Down** - Duplicate line(s) ???
-   **Ctrl + X** - Cut entire line (when no selection)

## Magic of Multiple Cursors

-   **Ctrl + Alt + Up/Down** - Add cursor above/below
-   **Ctrl + D** - Add next occurrence of selected text (custom)

## Navigation Within Code

-   **Ctrl + Left/Right** - Jump word by word
-   **Home/End** - Jump to beginning/end of line
-   **Ctrl + Home/End** - Jump to beginning/end of document
-   **Ctrl + P** - Jump to matching brace

## R-Specific

-   **Tab** - Auto-complete
-   **F1** - Show help for function under cursor
-   **Ctrl + Shift + F10** - Restart R session
-   **Ctrl + Shift + M** - Insert pipe operator (`%>%` or `|>`)
-   **Alt + -** - Insert assignment operator (`<-`)

## `.Last.value`

Shows last evaluated value in console

### RStudio

- Tools > Global Options > General > Advanced > Show `.Last.value` in environment listing

### Positron

Controlled by an option:

```{r}
#| eval: false
#| echo: true
usethis::edit_r_profile()
options(positron.show_last_value = TRUE)
```
